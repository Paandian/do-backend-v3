(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0726526a"],{"0f53":function(e,t,a){"use strict";a("826d")},"826d":function(e,t,a){},eec5:function(e,t,a){"use strict";a.r(t);var r=a("c6a6"),s=a("8336"),i=a("b0af"),n=a("99d9"),l=a("cc20"),c=a("62ad"),o=a("a523"),d=a("ce7e"),h=a("132d"),u=a("8860"),m=a("da13"),f=a("5d23"),p=a("34c3"),v=a("0fd9"),g=a("2db4"),b=a("8654"),y=function(){var e=this,t=e._self._c;return t(o["a"],{attrs:{fluid:""}},[t(v["a"],{staticClass:"mb-6"},[t(c["a"],{attrs:{cols:"12",md:"6"}},[t(i["a"],{staticClass:"welcome-card h-100",attrs:{elevation:"4"}},[t(n["c"],{staticClass:"text-center py-6"},[t("div",{staticClass:"greeting-text"},[t("h1",{staticClass:"text-h3 font-weight-bold mb-2"},[e._v(" "+e._s(e.greeting)+", "+e._s(e.currentUser.username)+"! ")]),t("p",{staticClass:"text-h6 mb-4"},[e._v(e._s(e.welcomeMessage))]),t(l["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" "+e._s(e.currentTime)+" ")],1),t(l["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(e.currentDate)+" ")],1)],1)])],1)],1),t(c["a"],{attrs:{cols:"12",md:"6"}},[t(i["a"],{staticClass:"h-100 pa-4",attrs:{elevation:"2"}},[t(v["a"],{attrs:{dense:""}},[t(c["a"],{attrs:{cols:"12",md:"4"}},[t(r["a"],{attrs:{clearable:"",items:e.insurersForFilter,"item-text":"name","item-value":"id",label:"Insurer","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-domain",dense:""},on:{change:e.onInsurerChange},model:{value:e.filters.insurer,callback:function(t){e.$set(e.filters,"insurer",t)},expression:"filters.insurer"}})],1),t(c["a"],{attrs:{cols:"12",md:"4"}},[t(r["a"],{attrs:{clearable:"",items:e.branchesForFilter,"item-text":"name","item-value":"id",label:"Branch","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-office-building",dense:""},on:{change:e.onBranchChange},model:{value:e.filters.branch,callback:function(t){e.$set(e.filters,"branch",t)},expression:"filters.branch"}})],1),t(c["a"],{attrs:{cols:"12",md:"4"}},[t(r["a"],{attrs:{clearable:"",items:e.departmentsForFilter,"item-text":"name","item-value":"id",label:"Department","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-account-group",dense:""},on:{change:e.onDeptChange},model:{value:e.filters.refType,callback:function(t){e.$set(e.filters,"refType",t)},expression:"filters.refType"}})],1),t(c["a"],{attrs:{cols:"12",md:"4"}},[t(r["a"],{attrs:{clearable:"",items:e.stagesForFilter,"item-text":"name","item-value":"stageCode",label:"Status","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-checkbox-marked-circle-outline",dense:""},on:{change:e.onStatusChange},model:{value:e.filters.fileStatus,callback:function(t){e.$set(e.filters,"fileStatus",t)},expression:"filters.fileStatus"}})],1),t(c["a"],{attrs:{cols:"12",md:"8"}},[t(b["a"],{attrs:{clearable:"",label:"Search By Keyword (Vehicle No or AA Ref)","prepend-icon":"mdi-magnify",dense:""},on:{input:e.onKeywordInput},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}})],1)],1),t(d["a"],{staticClass:"my-4"}),t("div",{staticClass:"d-flex justify-end"},[t(s["a"],{attrs:{color:"primary",disabled:!e.hasAnyFilter,large:"",elevation:"2"},on:{click:e.goToAdvancedSearch}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1)],1)],1)],1)],1),t(v["a"],[t(c["a"],{attrs:{cols:"12",md:"4"}},[t(i["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[t(n["d"],{staticClass:"primary white--text"},[t(h["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-account-circle")]),e._v(" Profile Information ")],1),t(n["c"],{staticClass:"mt-4"},[t(u["a"],{attrs:{dense:""}},[e.currentUser.fullname?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-card-account-details")])],1),t(f["a"],[t(f["c"],[e._v(e._s(e.currentUser.fullname))])],1)],1):e._e(),t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-email")])],1),t(f["a"],[t(f["c"],[e._v(e._s(e.currentUser.email))])],1)],1),t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-shield-account")])],1),t(f["a"],[t(f["c"],[e._v("Roles")]),t(f["b"],e._l(e.currentUser.roles,(function(a){return t(l["a"],{key:a,staticClass:"mr-2 mt-2",attrs:{small:"",color:"primary","text-color":"white"}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1),e.currentUser.branches&&e.currentUser.branches.length>0?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-office-building")])],1),t(f["a"],[t(f["c"],[e._v("Assigned Branches")]),t(f["b"],e._l(e.branchNames,(function(a){return t(l["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length>0?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-domain")])],1),t(f["a"],[t(f["c"],[e._v("Assigned Departments")]),t(f["b"],e._l(e.deptNames,(function(a){return t(l["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e()],1)],1)],1)],1),t(c["a"],{attrs:{cols:"12",md:"8"}},[t(i["a"],{attrs:{elevation:"2"}},[t(n["d"],{staticClass:"primary white--text"},[t(h["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-lightning-bolt")]),e._v(" Quick Access ")],1),t(n["c"],[t(v["a"],e._l(e.quickAccessItems,(function(a,r){return t(c["a"],{key:r,attrs:{cols:"12",sm:"6",md:"4"}},["Claims"!==a.title?t(i["a"],{staticClass:"text-center pa-4",attrs:{to:a.route,hover:"",outlined:""}},[t(h["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(a.icon))]),t("div",{staticClass:"title mt-2"},[e._v(e._s(a.title))]),t("div",{staticClass:"caption grey--text"},[e._v(e._s(a.description))])],1):t(i["a"],{staticClass:"text-center pa-4 claims-disabled",staticStyle:{cursor:"not-allowed",opacity:"0.6"},attrs:{hover:"",outlined:""},on:{click:e.showComingSoon}},[t(h["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(a.icon))]),t("div",{staticClass:"title mt-2"},[e._v(e._s(a.title))]),t("div",{staticClass:"caption grey--text"},[e._v(" "+e._s(a.description)+'{" "} '),t("span",{staticClass:"font-italic"},[e._v("(Coming Soon)")])])],1)],1)})),1)],1)],1)],1)],1),t(g["a"],{attrs:{timeout:-1,color:"warning",top:"",right:""},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(s["a"],e._b({attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[t(h["a"],[e._v("mdi-close")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[t(h["a"],{staticClass:"mr-2",attrs:{left:"",color:"white"}},[e._v("mdi-alert")]),t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.snackbarText))])],1)],1)},S=[],C=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("ab43"),a("a732"),a("fde1")),k=a("cb28"),w=a("d14b"),_=a("5632"),x={name:"Welcome",data(){return{currentTime:"",currentDate:"",clockInterval:null,branches:[],departments:[],quickAccessItems:[{title:"Casefiles",icon:"mdi-folder-multiple",description:"View all casefiles",route:"/home"},{title:"Listing",icon:"mdi-format-list-bulleted",description:"View by Category",route:"/listing"},{title:"Profile",icon:"mdi-account-circle",description:"Your profile",route:"/profile"},{title:"Reports Generator",icon:"mdi-clipboard-search",description:"View detailed reports",route:"/reportsV1"},{title:"Claims",icon:"mdi-cash-multiple",description:"Manage claims",route:"/claims"}],searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},stages:[],insurers:[],snackbar:!1,snackbarText:"",filters:{insurer:"",branch:"",refType:"",fileStatus:"",keyword:""},subRefTypes:[],members:[],handlers:[]}},computed:{currentUser(){return this.$store.state.auth.user},branchNames(){return this.currentUser.branches.map(e=>this.branches.find(t=>t.id===e)).filter(e=>e)},deptNames(){return this.currentUser.dept.map(e=>this.departments.find(t=>t.id===e)).filter(e=>e)},greeting(){const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"},welcomeMessage(){const e=["Welcome to your Document Management Workspace","Here's your personalized workspace","Your document control center awaits","Managing documents made simple","Access all your documents in one place","Streamline your document workflow today","Your digital document hub is ready","Efficiently manage your documents here","Welcome to your secure document portal"];return e[Math.floor(Math.random()*e.length)]},departmentsForFilter(){if(!this.departments||0===this.departments.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.departments].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.departments.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...a]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=[...this.stages].filter(e=>e.stageCode&&e.name).sort((e,t)=>e.id-t.id);return[{stageCode:"all",name:"All Statuses"},...e]},insurersForFilter(){return this.insurers&&0!==this.insurers.length?[...this.insurers].sort((e,t)=>e.name.localeCompare(t.name)):[]},isAdvancedSearchValid(){return Boolean(this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer)},hasAnyFilter(){return Object.values(this.filters).some(e=>null!==e&&""!==e&&void 0!==e)}},methods:{retrieveBranches(){C["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepartments(){k["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},retrieveStages(){w["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveInsurers(){_["a"].getAll().then(e=>{this.insurers=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},updateDateTime(){const e=new Date;this.currentTime=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e),this.currentDate=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(e)},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&"all"!==this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);try{const e=JSON.stringify(t);e.length<=4096&&localStorage.setItem("lastSearchCriteria",e)}catch(e){console.warn("Unable to save search criteria:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t)}finally{this.searchLoading=!1}}},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null},localStorage.removeItem("lastSearchCriteria")},loadSavedSearchCriteria(){try{const e=localStorage.getItem("lastSearchCriteria");if(e){const t=JSON.parse(e);this.advancedSearch={keyword:t.keyword||"",dept:t.dept||null,branch:t.branch||null,status:t.status||null,insurer:t.insurer||null}}}catch(e){console.error("Error loading saved search criteria:",e)}},updateAdvancedSearch(e){this.advancedSearch={...e}},showComingSoon(){this.snackbarText="Claims feature is coming soon!",this.snackbar=!0},onBranchChange(){this.onFilterChange()},onDeptChange(){this.onFilterChange()},onInsurerChange(){this.filters={...this.filters},this.onFilterChange()},onStatusChange(){"all"===this.filters.fileStatus&&(this.filters.fileStatus=""),this.filters={...this.filters},this.onFilterChange()},onKeywordInput(e){this.filters.keyword=e},async onFilterChange(e){e&&(this.filters={...e})},goToAdvancedSearch(){const e={};"undefined"!==typeof this.filters.keyword&&(e.keyword=this.filters.keyword?this.filters.keyword.trim():""),this.filters.refType&&"all"!==this.filters.refType&&(e.dept=this.filters.refType),this.filters.branch&&"all"!==this.filters.branch&&(e.branch=this.filters.branch),this.filters.fileStatus&&"all"!==this.filters.fileStatus&&(e.status=this.filters.fileStatus),this.filters.insurer&&"all"!==this.filters.insurer&&(e.insurer=this.filters.insurer);const t=Object.keys(e).some(t=>"keyword"!==t&&e[t]);if(!t&&(!e.keyword||""===e.keyword))return this.snackbarText="Please enter at least one filter.",void(this.snackbar=!0);this.$router.push({name:"advancedSearch",query:e})}},mounted(){this.retrieveBranches(),this.retrieveDepartments(),this.retrieveStages(),this.retrieveInsurers(),this.updateDateTime(),this.clockInterval=setInterval(this.updateDateTime,6e4),this.loadSavedSearchCriteria()},beforeDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}},A=x,F=(a("0f53"),a("2877")),I=Object(F["a"])(A,y,S,!1,null,"74c4d21d",null);t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-0726526a.b8a5c394.js.map