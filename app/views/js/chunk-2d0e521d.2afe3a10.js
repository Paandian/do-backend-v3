(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e521d"],{"92d2":function(e,t,s){"use strict";s.r(t);var a=s("62ad"),i=s("a523"),r=s("490a"),l=s("0fd9"),n=s("1f4f"),c=function(){var e=this,t=e._self._c;return t(i["a"],{staticClass:"text-center",staticStyle:{width:"80%"},attrs:{fluid:""}},[e.loading?[t(l["a"],{staticStyle:{height:"300px"},attrs:{justify:"center",align:"center"}},[t(a["a"],{staticClass:"d-flex flex-column align-center justify-center",attrs:{cols:"12"}},[t(r["a"],{attrs:{indeterminate:"",color:"primary",size:"80",width:"8"}}),t("div",{staticClass:"mt-4",staticStyle:{"font-size":"1.5rem",color:"#1976d2"}},[e._v(" Loading, please wait... ")])],1)],1)]:[t(n["a"],{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center"},[e._v("DESCRIPTION")]),t("th",{staticClass:"text-center"},[e._v("NUMBER OF FILES")])])]),t("tbody",e._l(e.stages,(function(s){return t("tr",{key:s.id,style:{cursor:e.filterCase(s.stageCode).length?"pointer":"not-allowed",opacity:e.filterCase(s.stageCode).length?1:.5},on:{click:function(t){e.filterCase(s.stageCode).length&&e.viewItem(e.filterCase(s.stageCode)[0].fileStatus,e.filterCase(s.stageCode)[0].branch)}}},[t("td",[e._v(" "+e._s(s.name)+" ")]),e.filterCase(s.stageCode).length?t("td",[e._v(" "+e._s(e.filterCase(s.stageCode).length)+" ")]):t("td",[e._v("0")])])})),0)]},proxy:!0}])})]],2)},u=[],o=(s("14d9"),s("e9f5"),s("910d"),s("f0cc")),h=s("d14b"),d={name:"brTabDetail",components:{},data(){return{casefiles:[],stages:[],loading:!1}},mounted(){this.loading=!0,Promise.all([this.retrievecasefiles(this.$route.params.id),this.retrieveStages()]).finally(()=>{this.loading=!1})},computed:{filteredCasefiles(){return this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("ADMIN")?this.casefiles:this.$store.state.auth.user.roles.includes("BRANCHCLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)):this.$store.state.auth.user.roles.includes("ADJUSTER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id.toString().includes(e.adjuster)):this.$store.state.auth.user.roles.includes("EDITOR")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id.toString().includes(e.editor)):this.casefiles}},methods:{filterCase(e){return this.filteredCasefiles.filter(t=>t.fileStatus===e)},retrievecasefiles(e){return o["a"].getAllBranch(e).then(e=>{this.casefiles=e.data}).catch(e=>{console.log(e)})},retrieveStages(){return h["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},viewItem(e,t){this.$router.push({name:"detail-by-branch",params:{fileStatus:e,branch:t}})}}},f=d,g=s("2877"),C=Object(g["a"])(f,c,u,!1,null,null,null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d0e521d.2afe3a10.js.map