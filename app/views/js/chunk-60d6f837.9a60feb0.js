(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60d6f837"],{"3ce7":function(e,t,a){},eec5:function(e,t,a){"use strict";a.r(t);var r=a("b0af"),s=a("99d9"),c=a("cc20"),n=a("62ad"),i=a("a523"),l=a("132d"),o=a("8860"),d=a("da13"),h=a("5d23"),u=a("34c3"),m=a("0fd9"),v=function(){var e=this,t=e._self._c;return t(i["a"],{attrs:{fluid:""}},[t(m["a"],{staticClass:"mb-6"},[t(n["a"],{attrs:{cols:"12",md:"6"}},[t(r["a"],{staticClass:"welcome-card h-100",attrs:{elevation:"4"}},[t(s["c"],{staticClass:"text-center py-6"},[t("div",{staticClass:"greeting-text"},[t("h1",{staticClass:"text-h3 font-weight-bold mb-2"},[e._v(" "+e._s(e.greeting)+", "+e._s(e.currentUser.username)+"! ")]),t("p",{staticClass:"text-h6 mb-4"},[e._v(e._s(e.welcomeMessage))]),t(c["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(l["a"],{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" "+e._s(e.currentTime)+" ")],1),t(c["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(l["a"],{attrs:{left:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(e.currentDate)+" ")],1)],1)])],1)],1),t(n["a"],{attrs:{cols:"12",md:"6"}},[t(r["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[t("advanced-search",{attrs:{departments:e.departmentsForFilter,branches:e.branchesForFilter,insurers:e.insurers,stages:e.stagesForFilter,"search-loading":e.searchLoading,"advanced-search":e.advancedSearch,"is-valid":e.isAdvancedSearchValid},on:{search:e.performAdvancedSearch,reset:e.resetAdvancedSearch,update:e.updateAdvancedSearch}})],1)],1)],1),t(m["a"],[t(n["a"],{attrs:{cols:"12",md:"4"}},[t(r["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[t(s["d"],{staticClass:"primary white--text"},[t(l["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-account-circle")]),e._v(" Profile Information ")],1),t(s["c"],{staticClass:"mt-4"},[t(o["a"],{attrs:{dense:""}},[e.currentUser.fullname?t(d["a"],[t(u["a"],[t(l["a"],[e._v("mdi-card-account-details")])],1),t(h["a"],[t(h["c"],[e._v(e._s(e.currentUser.fullname))])],1)],1):e._e(),t(d["a"],[t(u["a"],[t(l["a"],[e._v("mdi-email")])],1),t(h["a"],[t(h["c"],[e._v(e._s(e.currentUser.email))])],1)],1),t(d["a"],[t(u["a"],[t(l["a"],[e._v("mdi-shield-account")])],1),t(h["a"],[t(h["c"],[e._v("Roles")]),t(h["b"],e._l(e.currentUser.roles,(function(a){return t(c["a"],{key:a,staticClass:"mr-2 mt-2",attrs:{small:"",color:"primary","text-color":"white"}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1),e.currentUser.branches&&e.currentUser.branches.length>0?t(d["a"],[t(u["a"],[t(l["a"],[e._v("mdi-office-building")])],1),t(h["a"],[t(h["c"],[e._v("Assigned Branches")]),t(h["b"],e._l(e.branchNames,(function(a){return t(c["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length>0?t(d["a"],[t(u["a"],[t(l["a"],[e._v("mdi-domain")])],1),t(h["a"],[t(h["c"],[e._v("Assigned Departments")]),t(h["b"],e._l(e.deptNames,(function(a){return t(c["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e()],1)],1)],1)],1),t(n["a"],{attrs:{cols:"12",md:"8"}},[t(r["a"],{attrs:{elevation:"2"}},[t(s["d"],{staticClass:"primary white--text"},[t(l["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-lightning-bolt")]),e._v(" Quick Access ")],1),t(s["c"],[t(m["a"],e._l(e.quickAccessItems,(function(a,s){return t(n["a"],{key:s,attrs:{cols:"12",sm:"6",md:"4"}},[t(r["a"],{staticClass:"text-center pa-4",attrs:{to:a.route,hover:"",outlined:""}},[t(l["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(a.icon))]),t("div",{staticClass:"title mt-2"},[e._v(e._s(a.title))]),t("div",{staticClass:"caption grey--text"},[e._v(e._s(a.description))])],1)],1)})),1)],1)],1)],1)],1)],1)},p=[],f=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("ab43"),a("a732"),a("fde1")),g=a("cb28"),b=a("d14b"),S=a("5632"),y=a("4aae"),_={name:"Welcome",components:{AdvancedSearch:y["a"]},data(){return{currentTime:"",currentDate:"",clockInterval:null,branches:[],departments:[],quickAccessItems:[{title:"Casefiles",icon:"mdi-folder-multiple",description:"View all casefiles",route:"/home"},{title:"Listing",icon:"mdi-format-list-bulleted",description:"View by Category",route:"/listing"},{title:"Profile",icon:"mdi-account-circle",description:"Your profile",route:"/profile"},{title:"Basic Reports",icon:"mdi-clipboard-file",description:"View basic reports",route:"/reports"},{title:"Detail Reports",icon:"mdi-clipboard-search",description:"View detailed reports",route:"/reportsTwo"},{title:"Claims",icon:"mdi-cash-multiple",description:"Manage claims",route:"/claims"}],searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},stages:[],insurers:[]}},computed:{currentUser(){return this.$store.state.auth.user},branchNames(){return this.currentUser.branches.map(e=>this.branches.find(t=>t.id===e)).filter(e=>e)},deptNames(){return this.currentUser.dept.map(e=>this.departments.find(t=>t.id===e)).filter(e=>e)},greeting(){const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"},welcomeMessage(){const e=["Welcome to your Document Management Workspace","Here's your personalized workspace","Your document control center awaits","Managing documents made simple","Access all your documents in one place","Streamline your document workflow today","Your digital document hub is ready","Efficiently manage your documents here","Welcome to your secure document portal"];return e[Math.floor(Math.random()*e.length)]},departmentsForFilter(){if(!this.departments||0===this.departments.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.departments].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.departments.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...a]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=this.stages.filter(e=>e.stageCode&&e.name);return[{stageCode:"all",name:"All Statuses"},...e]},isAdvancedSearchValid(){return Boolean(this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer)}},methods:{retrieveBranches(){f["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepartments(){g["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},retrieveStages(){b["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveInsurers(){S["a"].getAll().then(e=>{this.insurers=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},updateDateTime(){const e=new Date;this.currentTime=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e),this.currentDate=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(e)},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&"all"!==this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);try{const e=JSON.stringify(t);e.length<=4096&&localStorage.setItem("lastSearchCriteria",e)}catch(e){console.warn("Unable to save search criteria:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t)}finally{this.searchLoading=!1}}},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null},localStorage.removeItem("lastSearchCriteria")},loadSavedSearchCriteria(){try{const e=localStorage.getItem("lastSearchCriteria");if(e){const t=JSON.parse(e);this.advancedSearch={keyword:t.keyword||"",dept:t.dept||null,branch:t.branch||null,status:t.status||null,insurer:t.insurer||null}}}catch(e){console.error("Error loading saved search criteria:",e)}},updateAdvancedSearch(e){this.advancedSearch={...e}}},mounted(){this.retrieveBranches(),this.retrieveDepartments(),this.retrieveStages(),this.retrieveInsurers(),this.updateDateTime(),this.clockInterval=setInterval(this.updateDateTime,6e4),this.loadSavedSearchCriteria()},beforeDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}},w=_,A=(a("f20f"),a("2877")),C=Object(A["a"])(w,v,p,!1,null,"40fb70bd",null);t["default"]=C.exports},f20f:function(e,t,a){"use strict";a("3ce7")}}]);
//# sourceMappingURL=chunk-60d6f837.9a60feb0.js.map