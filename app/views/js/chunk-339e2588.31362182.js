(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-339e2588"],{5311:function(e,t,a){"use strict";a("14d9");var s=a("5607"),r=a("2b0e");t["a"]=r["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"8e01":function(e,t,a){"use strict";a("fa3e")},"9d01":function(e,t,a){},b73d:function(e,t,a){"use strict";a("ec29"),a("9d01");var s=a("fe09"),r=a("c37a"),i=a("c3f0"),n=a("0789"),l=a("490a"),o=a("80d2");t["a"]=s["a"].extend({name:"v-switch",directives:{Touch:i["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...r["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(n["c"],{},[!1===this.loading?null:Object(o["s"])(this,"progress")||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===o["y"].left&&this.isActive||e.keyCode===o["y"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(e,t,a){},eec5:function(e,t,a){"use strict";a.r(t);var s=a("c6a6"),r=a("8336"),i=a("b0af"),n=a("99d9"),l=a("cc20"),o=a("62ad"),c=a("a523"),d=a("ce7e"),h=a("132d"),u=a("8860"),m=a("da13"),f=a("5d23"),p=a("34c3"),v=a("490a"),g=a("0fd9"),b=a("2db4"),y=a("8654"),w=function(){var e=this,t=e._self._c;return t(c["a"],{attrs:{fluid:""}},[t(g["a"],{staticClass:"mb-6"},[t(o["a"],{attrs:{cols:"12",md:"6"}},[t(i["a"],{staticClass:"welcome-card h-100",attrs:{elevation:"4"}},[t(n["b"],{staticClass:"text-center py-6"},[t("div",{staticClass:"greeting-text"},[t("h1",{staticClass:"text-h3 font-weight-bold mb-2"},[e._v(" "+e._s(e.greeting)+", "+e._s(e.currentUser.username)+"! ")]),t("p",{staticClass:"text-h6 mb-4"},[e._v(e._s(e.welcomeMessage))]),t("div",{staticClass:"d-flex justify-center align-center flex-wrap mb-2"},[t(l["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" "+e._s(e.currentTime)+" ")],1),t(l["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(e.currentDate)+" ")],1),t("overdue-alert-toggle",{staticClass:"ml-2",attrs:{"overdue-alert-data":e.overdueItems.tatAlert,"overdue-max-data":e.overdueItems.tatMax,"ref-type":e.departments,"sub-ref-types":e.subRefTypes,branch:e.branches,stages:e.stages,"current-user":e.currentUser,color:"white","switch-text-color":"primary"}})],1)]),t("div",{staticClass:"mt-6 mb-2"},[t("div",{staticClass:"d-flex justify-center align-center mt-3"},[e.overdueLoading?[t(v["a"],{staticClass:"mr-2",attrs:{indeterminate:"",color:"primary",size:"32",width:"3"}}),t("span",{staticClass:"font-weight-medium overdue-spinner-text"},[e._v(" Checking overdue alerts... ")])]:[e.overdueItems.tatAlert.length?t(l["a"],{staticClass:"mr-2",staticStyle:{"font-weight":"500"},attrs:{color:"warning",label:"","text-color":"white"}},[t(h["a"],{attrs:{left:"",small:""}},[e._v("mdi-alert")]),e._v(" "+e._s(e.overdueItems.tatAlert.length)+" Alert Level Cases ")],1):e._e(),e.overdueItems.tatMax.length?t(l["a"],{staticClass:"mr-2",staticStyle:{"font-weight":"500"},attrs:{color:"error",label:"","text-color":"white"}},[t(h["a"],{attrs:{left:"",small:""}},[e._v("mdi-alert-circle")]),e._v(" "+e._s(e.overdueItems.tatMax.length)+" Max Level Cases ")],1):e._e(),e.overdueItems.tatAlert.length||e.overdueItems.tatMax.length?e._e():t(l["a"],{staticStyle:{"font-weight":"500"},attrs:{color:"success",label:"","text-color":"white"}},[t(h["a"],{attrs:{left:"",small:""}},[e._v("mdi-check-circle")]),e._v(" No Overdue Cases ")],1)]],2)])])],1)],1),t(o["a"],{attrs:{cols:"12",md:"6"}},[t(i["a"],{staticClass:"h-100 pa-4",class:e.filterControlsEnabled?"":"filter-controls-disabled",style:e.filterControlsEnabled?"":"pointer-events: auto; opacity: 0.5; cursor: not-allowed",attrs:{elevation:"2"},on:{click:function(t){!e.filterControlsEnabled&&e.showFilterDisabled}}},[e.filterControlsEnabled?e._e():[t("div",{staticClass:"d-flex align-center mb-2"},[t(h["a"],{attrs:{color:"warning",left:""}},[e._v("mdi-alert")]),t("span",{staticClass:"font-weight-bold ml-2",staticStyle:{color:"#b26a00"}},[e._v(" Filter Controls are temporarily disabled ")])],1)],t(g["a"],{attrs:{dense:""}},[t(o["a"],{attrs:{cols:"12",md:"4"}},[t(s["a"],{attrs:{clearable:"",items:e.insurersForFilter,"item-text":"name","item-value":"id",label:"Insurer","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-domain",dense:"",disabled:!e.filterControlsEnabled},on:{change:function(t){e.filterControlsEnabled?e.onInsurerChange():e.showFilterDisabled()}},model:{value:e.filters.insurer,callback:function(t){e.$set(e.filters,"insurer",t)},expression:"filters.insurer"}})],1),t(o["a"],{attrs:{cols:"12",md:"4"}},[t(s["a"],{attrs:{clearable:"",items:e.branchesForFilter,"item-text":"name","item-value":"id",label:"Branch","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-office-building",dense:"",disabled:!e.filterControlsEnabled},on:{change:function(t){e.filterControlsEnabled?e.onBranchChange():e.showFilterDisabled()}},model:{value:e.filters.branch,callback:function(t){e.$set(e.filters,"branch",t)},expression:"filters.branch"}})],1),t(o["a"],{attrs:{cols:"12",md:"4"}},[t(s["a"],{attrs:{clearable:"",items:e.departmentsForFilter,"item-text":"name","item-value":"id",label:"Department","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-account-group",dense:"",disabled:!e.filterControlsEnabled},on:{change:function(t){e.filterControlsEnabled?e.onDeptChange():e.showFilterDisabled()}},model:{value:e.filters.refType,callback:function(t){e.$set(e.filters,"refType",t)},expression:"filters.refType"}})],1),t(o["a"],{attrs:{cols:"12",md:"4"}},[t(s["a"],{attrs:{clearable:"",items:e.stagesForFilter,"item-text":"name","item-value":"stageCode",label:"Status","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-checkbox-marked-circle-outline",dense:"",disabled:!e.filterControlsEnabled},on:{change:function(t){e.filterControlsEnabled?e.onStatusChange():e.showFilterDisabled()}},model:{value:e.filters.fileStatus,callback:function(t){e.$set(e.filters,"fileStatus",t)},expression:"filters.fileStatus"}})],1),t(o["a"],{attrs:{cols:"12",md:"8"}},[t(y["a"],{attrs:{clearable:"",label:"Search By Keyword (Vehicle No or AA Ref)","prepend-icon":"mdi-magnify",dense:"",disabled:!e.filterControlsEnabled},on:{input:function(t){e.filterControlsEnabled?e.onKeywordInput(t):e.showFilterDisabled()}},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}})],1)],1),t(d["a"],{staticClass:"my-4"}),t("div",{staticClass:"d-flex justify-end"},[t(r["a"],{attrs:{color:"primary",disabled:!e.filterControlsEnabled||!e.hasAnyFilter,large:"",elevation:"2"},on:{click:function(t){e.filterControlsEnabled?e.goToAdvancedSearch():e.showFilterDisabled()}}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1)],1)],2)],1)],1),t(g["a"],[t(o["a"],{attrs:{cols:"12",md:"4"}},[t(i["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[t(n["c"],{staticClass:"primary white--text"},[t(h["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-account-circle")]),e._v(" Profile Information ")],1),t(n["b"],{staticClass:"mt-4"},[t(u["a"],{attrs:{dense:""}},[e.currentUser.fullname?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-card-account-details")])],1),t(f["a"],[t(f["c"],[e._v(e._s(e.currentUser.fullname))])],1)],1):e._e(),t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-email")])],1),t(f["a"],[t(f["c"],[e._v(e._s(e.currentUser.email))])],1)],1),t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-shield-account")])],1),t(f["a"],[t(f["c"],[e._v("Roles")]),t(f["b"],e._l(e.currentUser.roles,(function(a){return t(l["a"],{key:a,staticClass:"mr-2 mt-2",attrs:{small:"",color:"primary","text-color":"white"}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1),e.currentUser.branches&&e.currentUser.branches.length>0?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-office-building")])],1),t(f["a"],[t(f["c"],[e._v("Assigned Branches")]),t(f["b"],e._l(e.branchNames,(function(a){return t(l["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length>0?t(m["a"],[t(p["a"],[t(h["a"],[e._v("mdi-domain")])],1),t(f["a"],[t(f["c"],[e._v("Assigned Departments")]),t(f["b"],e._l(e.deptNames,(function(a){return t(l["a"],{key:a.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1):e._e()],1)],1)],1)],1),t(o["a"],{attrs:{cols:"12",md:"8"}},[t(i["a"],{attrs:{elevation:"2"}},[t(n["c"],{staticClass:"primary white--text"},[t(h["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-lightning-bolt")]),e._v(" Quick Access ")],1),t(n["b"],[t(g["a"],e._l(e.quickAccessItems,(function(a,s){return t(o["a"],{key:s,attrs:{cols:"12",sm:"6",md:"4"}},["Claims"!==a.title?t(i["a"],{staticClass:"text-center pa-4",attrs:{to:a.route,hover:"",outlined:""}},[t(h["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(a.icon))]),t("div",{staticClass:"title mt-2"},[e._v(e._s(a.title))]),t("div",{staticClass:"caption grey--text"},[e._v(e._s(a.description))])],1):t(i["a"],{staticClass:"text-center pa-4 claims-disabled",staticStyle:{cursor:"not-allowed",opacity:"0.6"},attrs:{hover:"",outlined:""},on:{click:e.showComingSoon}},[t(h["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(a.icon))]),t("div",{staticClass:"title mt-2"},[e._v(e._s(a.title))]),t("div",{staticClass:"caption grey--text"},[e._v(" "+e._s(a.description)+'{" "} '),t("span",{staticClass:"font-italic"},[e._v("(Coming Soon)")])])],1)],1)})),1)],1)],1)],1)],1),t(b["a"],{attrs:{timeout:-1,color:"warning",top:"",right:""},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(r["a"],e._b({attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[t(h["a"],[e._v("mdi-close")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[t(h["a"],{staticClass:"ma-2",attrs:{left:"",color:"white"}},[e._v("mdi-alert")]),t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.snackbarText))])],1)],1)},C=[],_=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("ab43"),a("a732"),a("fde1")),A=a("cb28"),S=a("d14b"),k=a("5632"),x=a("b73d"),D=function(){var e=this,t=e._self._c;return t("div",[t(x["a"],{staticClass:"mr-2",staticStyle:{"min-width":"220px"},attrs:{label:"Show Overdue Alerts on Login",dense:"",color:e.color,"label-color":e.switchTextColor,"hide-details":""},on:{change:e.toggleOverdueAlerts},model:{value:e.showOverdueOnLogin,callback:function(t){e.showOverdueOnLogin=t},expression:"showOverdueOnLogin"}}),t("overdue-alert",{attrs:{show:e.showOverdueAlert,overdueAlertData:e.overdueAlertData,overdueMaxData:e.overdueMaxData,refType:e.refType,subRefTypes:e.subRefTypes,branch:e.branch,stages:e.stages,currentUser:e.currentUser},on:{close:function(t){e.showOverdueAlert=!1}}})],1)},O=[],T=a("8fea"),I=a("169a"),F=a("2fa4"),N=function(){var e=this,t=e._self._c;return t(I["a"],{attrs:{"max-width":"800px",persistent:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(i["a"],[t(n["c"],{staticClass:"red lighten-4"},[e._v(" Welcome "+e._s(e.currentUserName))]),t(n["b"],[e.overdueAlertData.length>0?[t("div",{staticClass:"warning--text ma-2"},[t(r["a"],{staticClass:"mr-2",attrs:{depressed:"",elevation:"2",fab:"",icon:"",outlined:"",raised:"",rounded:"",text:"",tile:"","x-small":""}},[t(n["c"],[e._v(e._s(e.overdueAlertData.length))])],1),e._v(" pending case(s) that require your urgent attention. Please submit your report within the stipulated TAT. ")],1),t(T["a"],{staticClass:"elevation-1 tat-overdue",attrs:{dense:"",headers:e.headers,items:e.overdueAlertData},scopedSlots:e._u([{key:"item.id",fn:function({item:t}){return[e._v(" AA/"+e._s(e.getDeptName(t.refType))+"/"+e._s(e.getSubDeptName(t.subRefType))+"/"+e._s(t.id)+"/"+e._s(e.yearOnly(t.dateOfAssign))+"/"+e._s(e.getBranchName(t.branch))+" ")]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(t.days||e.calculateDays(t.dateOfAssign))+" days ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[a.vehicleNo?t("div",[e._v(" "+e._s(a.vehicleNo.toUpperCase())+" ")]):e._e()]):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:t}){return[e._v(" "+e._s(e.getFileStatus(t.fileStatus))+" ")]}}],null,!0)})]:e._e(),e.overdueMaxData.length>0?[t("div",{staticClass:"error--text ma-2"},[t(r["a"],{staticClass:"mr-2",attrs:{depressed:"",elevation:"2",fab:"",icon:"",outlined:"",raised:"",rounded:"",text:"",tile:"","x-small":""}},[t(n["c"],[e._v(e._s(e.overdueMaxData.length))])],1),e._v(" case(s) exceeding the TAT, to avoid disciplinary action, please submit your report urgently. ")],1),t(T["a"],{staticClass:"elevation-1 tat-overdue",attrs:{dense:"",headers:e.headers,items:e.overdueMaxData},scopedSlots:e._u([{key:"item.id",fn:function({item:t}){return[e._v(" AA/"+e._s(e.getDeptName(t.refType))+"/"+e._s(e.getSubDeptName(t.subRefType))+"/"+e._s(t.id)+"/"+e._s(e.yearOnly(t.dateOfAssign))+"/"+e._s(e.getBranchName(t.branch))+" ")]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(t.days||e.calculateDays(t.dateOfAssign))+" days ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[a.vehicleNo?t("div",[e._v(" "+e._s(a.vehicleNo.toUpperCase())+" ")]):e._e()]):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:t}){return[e._v(" "+e._s(e.getFileStatus(t.fileStatus))+" ")]}}],null,!0)})]:e._e()],2),t(n["a"],[t(F["a"]),t(r["a"],{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Acknowledge ")])],1)],1)],1)},E=[],M=a("c1df"),U=a.n(M),V={name:"OverdueAlert",props:{show:Boolean,overdueAlertData:Array,overdueMaxData:Array,refType:Array,subRefTypes:Array,branch:Array,stages:Array,currentUser:Object},data:()=>({headers:[{text:"AA REF",value:"id"},{text:"DATE ASSIGNED",value:"dateOfAssign"},{text:"OUTSTANDING",value:"days"},{text:"STATUS",value:"fileStatus"}]}),computed:{currentUserName(){var e;return(null===(e=this.currentUser)||void 0===e?void 0:e.username)||"User"}},methods:{formatDate(e){return U()(e).format("DD/MM/YYYY")},yearOnly(e){return U()(e).format("YY")},getDeptName(e){const t=this.refType.find(t=>t.id===e);return t?t.name:""},getSubDeptName(e){const t=this.subRefTypes.find(t=>t.id===e);return t?t.subCode:""},getBranchName(e){const t=this.branch.find(t=>t.id===e);return t?t.brCode:""},getFileStatus(e){const t=this.stages.find(t=>t.stageCode===e);return t?t.name:""},calculateDays(e){return U()().diff(U()(e),"days")}}},L=V,B=a("2877"),R=Object(B["a"])(L,N,E,!1,null,null,null),$=R.exports,j={name:"OverdueAlertToggle",components:{OverdueAlert:$},props:{overdueAlertData:{type:Array,required:!0},overdueMaxData:{type:Array,required:!0},refType:{type:Array,required:!0},subRefTypes:{type:Array,required:!0},branch:{type:Array,required:!0},stages:{type:Array,required:!0},currentUser:{type:Object,required:!0},color:{type:String,default:"primary"},switchTextColor:{type:String,default:"primary"}},data(){return{showOverdueOnLogin:!1,showOverdueAlert:!1}},watch:{overdueAlertData:{immediate:!0,handler(){this.checkShowAlert()}},overdueMaxData:{immediate:!0,handler(){this.checkShowAlert()}}},mounted(){const e=localStorage.getItem("showOverdueAlerts");this.showOverdueOnLogin=null===e||"true"===e,this.checkShowAlert()},methods:{toggleOverdueAlerts(e){localStorage.setItem("showOverdueAlerts",e),this.showOverdueOnLogin=e,e?this.checkShowAlert():this.showOverdueAlert=!1},checkShowAlert(){this.showOverdueOnLogin&&(this.overdueAlertData.length>0||this.overdueMaxData.length>0)?this.showOverdueAlert=!0:this.showOverdueAlert=!1}}},q=j,Y=Object(B["a"])(q,D,O,!1,null,null,null),G=Y.exports,K=a("0cbf"),z=a("bc3a"),J=a.n(z),P=a("6736"),H={name:"Welcome",components:{OverdueAlertToggle:G},data(){return{currentTime:"",currentDate:"",clockInterval:null,branches:[],departments:[],quickAccessItems:[{title:"Casefiles",icon:"mdi-folder-multiple",description:"View all casefiles",route:"/home"},{title:"Listing",icon:"mdi-format-list-bulleted",description:"View by Category",route:"/listing"},{title:"Profile",icon:"mdi-account-circle",description:"Your profile",route:"/profile"},{title:"Reports Generator",icon:"mdi-clipboard-search",description:"View detailed reports",route:"/reportsV1"},{title:"Claims",icon:"mdi-cash-multiple",description:"Manage claims",route:"/claims"}],searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},stages:[],insurers:[],tatCharts:[],snackbar:!1,snackbarText:"",filters:{insurer:"",branch:"",refType:"",fileStatus:"",keyword:""},subRefTypes:[],members:[],handlers:[],filterControlsEnabled:!1,overdueItems:{tatAlert:[],tatMax:[]},overdueLoading:!1}},computed:{currentUser(){return this.$store.state.auth.user},branchNames(){return this.currentUser.branches.map(e=>this.branches.find(t=>t.id===e)).filter(e=>e)},deptNames(){return this.currentUser.dept.map(e=>this.departments.find(t=>t.id===e)).filter(e=>e)},greeting(){const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"},welcomeMessage(){const e=["Welcome to your Document Management Workspace","Here's your personalized workspace","Your document control center awaits","Managing documents made simple","Access all your documents in one place","Streamline your document workflow today","Your digital document hub is ready","Efficiently manage your documents here","Welcome to your secure document portal"];return e[Math.floor(Math.random()*e.length)]},departmentsForFilter(){if(!this.departments||0===this.departments.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.departments].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.departments.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...a]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=[...this.stages].filter(e=>e.stageCode&&e.name).sort((e,t)=>e.id-t.id);return[{stageCode:"all",name:"All Statuses"},...e]},insurersForFilter(){return this.insurers&&0!==this.insurers.length?[...this.insurers].sort((e,t)=>e.name.localeCompare(t.name)):[]},isAdvancedSearchValid(){return Boolean(this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer)},hasAnyFilter(){return Object.values(this.filters).some(e=>null!==e&&""!==e&&void 0!==e)}},methods:{retrieveBranches(){_["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepartments(){A["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},retrieveStages(){S["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveInsurers(){k["a"].getAll().then(e=>{this.insurers=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},updateDateTime(){const e=new Date;this.currentTime=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e),this.currentDate=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(e)},async fetchTatCharts(){try{const e=await K["a"].getAll();this.tatCharts=e.data}catch(e){this.tatCharts=[]}},getTatValues(e,t){if(!e||!t)return null;const a=this.tatCharts.find(a=>a.insId===e&&a.subDeptId===t);return a?{tatAlert:parseInt(a.tatAlert),tatMax:parseInt(a.tatMax)}:null},async fetchOverdueItems(){this.overdueLoading=!0;try{const e=this.currentUser,t={userId:e.id,roles:JSON.stringify(e.roles),dept:JSON.stringify(e.dept),branches:JSON.stringify(e.branches)},a=await J.a.get(P["a"].baseURL+"/casefiles/overdue",{params:t});this.overdueItems=a.data}catch(e){this.overdueItems={tatAlert:[],tatMax:[]}}finally{this.overdueLoading=!1}},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&"all"!==this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);try{const e=JSON.stringify(t);e.length<=4096&&localStorage.setItem("lastSearchCriteria",e)}catch(e){console.warn("Unable to save search criteria:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t)}finally{this.searchLoading=!1}}},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null},localStorage.removeItem("lastSearchCriteria")},loadSavedSearchCriteria(){try{const e=localStorage.getItem("lastSearchCriteria");if(e){const t=JSON.parse(e);this.advancedSearch={keyword:t.keyword||"",dept:t.dept||null,branch:t.branch||null,status:t.status||null,insurer:t.insurer||null}}}catch(e){console.error("Error loading saved search criteria:",e)}},updateAdvancedSearch(e){this.advancedSearch={...e}},showComingSoon(){this.snackbarText="Claims feature is coming soon!",this.snackbar=!0},showFilterDisabled(){this.snackbarText="Filter Controls are temporarily disabled. This module will be activated soon.",this.snackbar=!0},onBranchChange(){this.onFilterChange()},onDeptChange(){this.onFilterChange()},onInsurerChange(){this.filters={...this.filters},this.onFilterChange()},onStatusChange(){"all"===this.filters.fileStatus&&(this.filters.fileStatus=""),this.filters={...this.filters},this.onFilterChange()},onKeywordInput(e){this.filters.keyword=e},async onFilterChange(e){e&&(this.filters={...e})},goToAdvancedSearch(){const e={};"undefined"!==typeof this.filters.keyword&&(e.keyword=this.filters.keyword?this.filters.keyword.trim():""),this.filters.refType&&"all"!==this.filters.refType&&(e.dept=this.filters.refType),this.filters.branch&&"all"!==this.filters.branch&&(e.branch=this.filters.branch),this.filters.fileStatus&&"all"!==this.filters.fileStatus&&(e.status=this.filters.fileStatus),this.filters.insurer&&"all"!==this.filters.insurer&&(e.insurer=this.filters.insurer);const t=Object.keys(e).some(t=>"keyword"!==t&&e[t]);if(!t&&(!e.keyword||""===e.keyword))return this.snackbarText="Please enter at least one filter.",void(this.snackbar=!0);this.$router.push({name:"advancedSearch",query:e})}},mounted(){this.retrieveBranches(),this.retrieveDepartments(),this.retrieveStages(),this.retrieveInsurers(),this.updateDateTime(),this.clockInterval=setInterval(this.updateDateTime,6e4),this.loadSavedSearchCriteria(),this.fetchOverdueItems()},beforeDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}},W=H,Q=(a("8e01"),Object(B["a"])(W,w,C,!1,null,"da23c60a",null));t["default"]=Q.exports},fa3e:function(e,t,a){},fe09:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));a("14d9"),a("e9f5"),a("910d"),a("a732");var s=a("c37a"),r=a("5311"),i=a("8547"),n=a("58df");function l(e){e.preventDefault()}t["a"]=Object(n["a"])(s["a"],r["a"],i["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=s["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:l},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:l},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const a=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===a&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}})}}]);
//# sourceMappingURL=chunk-339e2588.31362182.js.map