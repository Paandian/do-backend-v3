(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5df8963d"],{"1e5a":function(e,t,s){"use strict";var r=s("23e7"),a=s("9961"),n=s("dad2");r({target:"Set",proto:!0,real:!0,forced:!n("symmetricDifference")},{symmetricDifference:a})},"1e70":function(e,t,s){"use strict";var r=s("23e7"),a=s("a5f7"),n=s("dad2"),i=!n("difference",(function(e){return 0===e.size}));r({target:"Set",proto:!0,real:!0,forced:i},{difference:a})},"384f":function(e,t,s){"use strict";var r=s("e330"),a=s("5388"),n=s("cb27"),i=n.Set,o=n.proto,l=r(o.forEach),c=r(o.keys),d=c(new i).next;e.exports=function(e,t,s){return s?a({iterator:c(e),next:d},t):l(e,t)}},"395e":function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27").has,n=s("8e16"),i=s("7f65"),o=s("5388"),l=s("2a62");e.exports=function(e){var t=r(this),s=i(e);if(n(t)<s.size)return!1;var c=s.getIterator();return!1!==o(c,(function(e){if(!a(t,e))return l(c,"normal",!1)}))}},"50bd":function(e,t,s){},5388:function(e,t,s){"use strict";var r=s("c65b");e.exports=function(e,t,s){var a,n,i=s?e:e.iterator,o=e.next;while(!(a=r(o,i)).done)if(n=t(a.value),void 0!==n)return n}},"68df":function(e,t,s){"use strict";var r=s("dc19"),a=s("8e16"),n=s("384f"),i=s("7f65");e.exports=function(e){var t=r(this),s=i(e);return!(a(t)>s.size)&&!1!==n(t,(function(e){if(!s.includes(e))return!1}),!0)}},"72c3":function(e,t,s){"use strict";var r=s("23e7"),a=s("e9bc"),n=s("dad2");r({target:"Set",proto:!0,real:!0,forced:!n("union")},{union:a})},"79a4":function(e,t,s){"use strict";var r=s("23e7"),a=s("d039"),n=s("953b"),i=s("dad2"),o=!i("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||a((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:o},{intersection:n})},"7f65":function(e,t,s){"use strict";var r=s("59ed"),a=s("825a"),n=s("c65b"),i=s("5926"),o=s("46c4"),l="Invalid size",c=RangeError,d=TypeError,u=Math.max,m=function(e,t){this.set=e,this.size=u(t,0),this.has=r(e.has),this.keys=r(e.keys)};m.prototype={getIterator:function(){return o(a(n(this.keys,this.set)))},includes:function(e){return n(this.has,this.set,e)}},e.exports=function(e){a(e);var t=+e.size;if(t!==t)throw new d(l);var s=i(t);if(s<0)throw new c(l);return new m(e,s)}},"83b9e":function(e,t,s){"use strict";var r=s("cb27"),a=s("384f"),n=r.Set,i=r.add;e.exports=function(e){var t=new n;return a(e,(function(e){i(t,e)})),t}},"8b00":function(e,t,s){"use strict";var r=s("23e7"),a=s("68df"),n=s("dad2"),i=!n("isSubsetOf",(function(e){return e}));r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:a})},"8e16":function(e,t,s){"use strict";var r=s("7282"),a=s("cb27");e.exports=r(a.proto,"size","get")||function(e){return e.size}},"953b":function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27"),n=s("8e16"),i=s("7f65"),o=s("384f"),l=s("5388"),c=a.Set,d=a.add,u=a.has;e.exports=function(e){var t=r(this),s=i(e),a=new c;return n(t)>s.size?l(s.getIterator(),(function(e){u(t,e)&&d(a,e)})):o(t,(function(e){s.includes(e)&&d(a,e)})),a}},9961:function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27"),n=s("83b9e"),i=s("7f65"),o=s("5388"),l=a.add,c=a.has,d=a.remove;e.exports=function(e){var t=r(this),s=i(e).getIterator(),a=n(t);return o(s,(function(e){c(t,e)?d(a,e):l(a,e)})),a}},a4e7:function(e,t,s){"use strict";var r=s("23e7"),a=s("395e"),n=s("dad2"),i=!n("isSupersetOf",(function(e){return!e}));r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:a})},a5f7:function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27"),n=s("83b9e"),i=s("8e16"),o=s("7f65"),l=s("384f"),c=s("5388"),d=a.has,u=a.remove;e.exports=function(e){var t=r(this),s=o(e),a=n(t);return i(t)<=s.size?l(t,(function(e){s.includes(e)&&u(a,e)})):c(s.getIterator(),(function(e){d(t,e)&&u(a,e)})),a}},b4bc:function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27").has,n=s("8e16"),i=s("7f65"),o=s("384f"),l=s("5388"),c=s("2a62");e.exports=function(e){var t=r(this),s=i(e);if(n(t)<=s.size)return!1!==o(t,(function(e){if(s.includes(e))return!1}),!0);var d=s.getIterator();return!1!==l(d,(function(e){if(a(t,e))return c(d,"normal",!1)}))}},c1a1:function(e,t,s){"use strict";var r=s("23e7"),a=s("b4bc"),n=s("dad2"),i=!n("isDisjointFrom",(function(e){return!e}));r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:a})},cb27:function(e,t,s){"use strict";var r=s("e330"),a=Set.prototype;e.exports={Set:Set,add:r(a.add),has:r(a.has),remove:r(a["delete"]),proto:a}},dad2:function(e,t,s){"use strict";var r=s("d066"),a=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},n=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var s=r("Set");try{(new s)[e](a(0));try{return(new s)[e](a(-1)),!1}catch(o){if(!t)return!0;try{return(new s)[e](n(-1/0)),!1}catch(l){var i=new s;return i.add(1),i.add(2),t(i[e](n(1/0)))}}}catch(l){return!1}}},dc19:function(e,t,s){"use strict";var r=s("cb27").has;e.exports=function(e){return r(e),e}},e9bc:function(e,t,s){"use strict";var r=s("dc19"),a=s("cb27").add,n=s("83b9e"),i=s("7f65"),o=s("5388");e.exports=function(e){var t=r(this),s=i(e).getIterator(),l=n(t);return o(s,(function(e){a(l,e)})),l}},ed36:function(e,t,s){"use strict";s("50bd")},fda7:function(e,t,s){"use strict";s.r(t);var r=s("0798"),a=s("c6a6"),n=s("8336"),i=s("b0af"),o=s("99d9"),l=s("cc20"),c=s("62ad"),d=s("a523"),u=s("8fea"),m=s("2e4b"),f=s("169a"),h=s("ce7e"),p=s("132d"),g=s("8860"),v=s("da13"),b=s("5d23"),I=s("34c3"),y=s("e449"),x=s("6b53"),D=s("0fd9"),k=s("b974"),w=s("8dd9"),_=s("2fa4"),C=s("8654"),S=s("a844"),T=s("71d9"),N=s("3a2f"),A=(s("e9f5"),s("ab43"),s("1e70"),s("79a4"),s("c1a1"),s("8b00"),s("a4e7"),s("1e5a"),s("72c3"),function(){var e=this,t=e._self._c;return t(d["a"],{attrs:{fluid:""}},[t("div",[t(u["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.merimenData,search:e.search,"show-select":"","footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,20,30,40,50,100,-1]},"items-per-page":50},scopedSlots:e._u([{key:"top",fn:function(){return[t(T["a"],{staticClass:"mobile-responsive-toolbar",attrs:{flat:""}},[t(x["a"],{staticClass:"d-flex flex-wrap align-center",attrs:{"max-width":"100%"}},[t("div",{staticClass:"d-flex flex-wrap align-center mb-2 mb-sm-0"},[t(n["a"],{staticClass:"mr-2 mb-2 mb-sm-0",attrs:{disabled:!e.selected.length,small:"",tile:"",color:"success"},on:{click:e.bulkAcceptConfirmation}},[t(p["a"],{attrs:{left:"",small:""}},[e._v("mdi-check-all")]),t("span",{staticClass:"d-none d-sm-inline"},[e._v("Accept Selected")]),t("span",{staticClass:"d-inline d-sm-none"},[e._v("Accept")])],1),t(n["a"],{staticClass:"mr-2 mb-2 mb-sm-0",attrs:{disabled:!e.selected.length,small:"",tile:"",color:"error"},on:{click:e.bulkDeleteConfirmation}},[t(p["a"],{attrs:{left:"",small:""}},[e._v("mdi-delete")]),t("span",{staticClass:"d-none d-sm-inline"},[e._v("Delete Selected")]),t("span",{staticClass:"d-inline d-sm-none"},[e._v("Delete")])],1)],1),t(_["a"],{staticClass:"d-none d-md-block"}),t(C["a"],{staticClass:"mr-2 flex-grow-1",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(f["a"],{attrs:{"max-width":"800px",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(i["a"],[t(o["c"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",[e._v("Verify Record")])]),t(o["b"],[t(d["a"],[t(D["a"],[t(i["a"],{attrs:{width:"100%"}},[t(o["c"],[e._v("Department")]),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.departments,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},on:{change:e.handleDepartmentChange},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0},{key:"append-outer",fn:function(){return[t(N["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){var a;return[t(l["a"],e._g(e._b({attrs:{small:"",outlined:"",color:"primary"}},"v-chip",r,!1),s),[e._v(" "+e._s((null===(a=e.merimenData[e.editedIndex])||void 0===a?void 0:a.claimType)||"No Merimen Data")+" ")])]}}])},[t("span",[e._v("Original Claim Type from Merimen")])])]},proxy:!0}]),model:{value:e.editedItem.refType,callback:function(t){e.$set(e.editedItem,"refType",t)},expression:"editedItem.refType"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.filtersubRefType(e.editedItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.editedItem.subRefType,callback:function(t){e.$set(e.editedItem,"subRefType",t)},expression:"editedItem.subRefType"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.branch,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch (Optional)","persistent-hint":"",label:"Branch",clearable:""},on:{change:t=>e.editedItem.branch=t||null},model:{value:e.editedItem.branch,callback:function(t){e.$set(e.editedItem,"branch",t)},expression:"editedItem.branch"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(a["a"],{attrs:{items:e.insurers,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":"",label:"Insurer",rules:[e=>!!e||"Insurer is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0},{key:"append-outer",fn:function(){return[t(N["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){var a;return[t(l["a"],e._g(e._b({attrs:{small:"",outlined:"",color:"primary"}},"v-chip",r,!1),s),[e._v(" "+e._s((null===(a=e.merimenData[e.editedIndex])||void 0===a?void 0:a.handlingInsurer)||"No Merimen Data")+" ")])]}}])},[t("span",[e._v("Original Insurer from Merimen")])])]},proxy:!0}]),model:{value:e.editedItem.handlingInsurer,callback:function(t){e.$set(e.editedItem,"handlingInsurer",t)},expression:"editedItem.handlingInsurer"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.filterHandler(e.editedItem.handlingInsurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer",placeholder:"Please select a handler","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},scopedSlots:e._u([{key:"selection",fn:function({item:t}){return[e._v(" "+e._s(t.name)+" ")]}}]),model:{value:e.editedItem.handler,callback:function(t){e.$set(e.editedItem,"handler",t)},expression:"editedItem.handler"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6"}},[t(C["a"],{attrs:{label:"Insurers Reference",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.editedItem.insuranceClaimNo,callback:function(t){e.$set(e.editedItem,"insuranceClaimNo",t)},expression:"editedItem.insuranceClaimNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6"}},[t(y["a"],{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(C["a"],e._g(e._b({attrs:{label:"Date of Assignment","prepend-icon":"mdi-calendar",readonly:"",rules:[e=>!!e||"Assignment date is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date of Assignment ")]},proxy:!0}],null,!0),model:{value:e.formattedAssignmentDate,callback:function(t){e.formattedAssignmentDate=t},expression:"formattedAssignmentDate"}},"v-text-field",r,!1),s))]}}]),model:{value:e.assignmentDateMenu,callback:function(t){e.assignmentDateMenu=t},expression:"assignmentDateMenu"}},[t(m["a"],{on:{input:function(t){e.assignmentDateMenu=!1}},model:{value:e.editedItem.assignmentDate,callback:function(t){e.$set(e.editedItem,"assignmentDate",t)},expression:"editedItem.assignmentDate"}})],1)],1),t(c["a"],{attrs:{cols:"12",sm:"6"}},[t(C["a"],{attrs:{label:"Vehicle Number"},model:{value:e.editedItem.insuredVehRegNo,callback:function(t){e.$set(e.editedItem,"insuredVehRegNo",t)},expression:"editedItem.insuredVehRegNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6"}},[t(y["a"],{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(C["a"],e._g(e._b({attrs:{label:"Date of Loss","prepend-icon":"mdi-calendar",readonly:"",rules:[e=>!!e||"Date of loss is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date of Loss ")]},proxy:!0}],null,!0),model:{value:e.formattedLossDate,callback:function(t){e.formattedLossDate=t},expression:"formattedLossDate"}},"v-text-field",r,!1),s))]}}]),model:{value:e.dateOfLossMenu,callback:function(t){e.dateOfLossMenu=t},expression:"dateOfLossMenu"}},[t(m["a"],{on:{input:function(t){e.dateOfLossMenu=!1}},model:{value:e.editedItem.dateOfLoss,callback:function(t){e.$set(e.editedItem,"dateOfLoss",t)},expression:"editedItem.dateOfLoss"}})],1)],1),t(i["a"],{attrs:{width:"100%"}},[t(o["c"],[e._v("Place Of Loss")]),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.state,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.editedItem.stateOfLoss,callback:function(t){e.$set(e.editedItem,"stateOfLoss",t)},expression:"editedItem.stateOfLoss"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.filterRegions(e.editedItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.editedItem.placeOfLoss,callback:function(t){e.$set(e.editedItem,"placeOfLoss",t)},expression:"editedItem.placeOfLoss"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(C["a"],{attrs:{label:"Insured Name"},model:{value:e.editedItem.insuredName,callback:function(t){e.$set(e.editedItem,"insuredName",t)},expression:"editedItem.insuredName"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(S["a"],{attrs:{label:"Insurers Comment"},model:{value:e.editedItem.adjAsgRemarks,callback:function(t){e.$set(e.editedItem,"adjAsgRemarks",t)},expression:"editedItem.adjAsgRemarks"}})],1)],1)],1)],1),t(o["a"],{staticClass:"grey lighten-3"},[t(_["a"]),t(n["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:e.close}},[e._v("Cancel")]),t(n["a"],{attrs:{small:"",tile:"",color:"success",disabled:!e.isFormValid},on:{click:e.acceptItem}},[e._v(" Accept ")]),t(n["a"],{attrs:{small:"",tile:"",color:"error"},on:{click:function(t){return e.deleteItem(e.editedItem)}}},[e._v(" Deny ")])],1)],1)],1),t(f["a"],{attrs:{"max-width":"400px"},model:{value:e.dialogBulkAccept,callback:function(t){e.dialogBulkAccept=t},expression:"dialogBulkAccept"}},[t(i["a"],[t(o["c"],{staticClass:"justify-center text-h5 grey lighten-2"},[e._v(" Accept Selected Records? ")]),t(o["b"],{staticClass:"pt-4"},[e._v(" Are you sure you want to accept "+e._s(e.selected.length)+" records? ")]),t(o["a"],[t(_["a"]),t(n["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(t){e.dialogBulkAccept=!1}}},[e._v("No")]),t(n["a"],{attrs:{small:"",tile:"",color:"success"},on:{click:e.bulkAcceptConfirm}},[e._v("Yes")]),t(_["a"])],1)],1)],1),t(f["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogBulkDelete,callback:function(t){e.dialogBulkDelete=t},expression:"dialogBulkDelete"}},[t(i["a"],[t(o["c"],{staticClass:"justify-center text-h5 error white--text"},[t(p["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-delete-alert")]),e._v(" Bulk Deny Merimen Records ")],1),t(o["b"],{staticClass:"pt-4"},[t(d["a"],[t(r["a"],{staticClass:"mb-3",attrs:{dense:"",outlined:"",type:"warning",border:"left",color:"error"}},[e._v(" This action will permanently remove "+e._s(e.selected.length)+" records from Merimen Data. ")]),t(w["a"],{staticClass:"pa-3 mb-3",attrs:{outlined:""}},[t("div",{staticClass:"text-subtitle-1 mb-2"},[e._v(" Selected Records Summary: ")]),t(g["a"],{staticClass:"transparent",attrs:{dense:""}},[t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-file-multiple")])],1),t(b["a"],[t(b["c"],[e._v("Total Records")]),t(b["b"],[e._v(e._s(e.selected.length))])],1)],1),t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-office-building")])],1),t(b["a"],[t(b["c"],[e._v("Insurers Affected")]),t(b["b"],[e._v(" "+e._s([...new Set(e.selected.map(e=>e.handlingInsurer))].length)+" ")])],1)],1),t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-file-document-multiple")])],1),t(b["a"],[t(b["c"],[e._v("Claim Types")]),t(b["b"],[e._v(" "+e._s([...new Set(e.selected.map(e=>e.claimType))].join(", "))+" ")])],1)],1)],1)],1),t(h["a"],{staticClass:"my-3"}),t("p",{staticClass:"text-center red--text text--darken-1"},[e._v(" Are you sure you want to deny these records?"),t("br"),t("span",{staticClass:"caption"},[e._v("This action cannot be undone.")])])],1)],1),t(o["a"],{staticClass:"pb-6 px-6"},[t(_["a"]),t(n["a"],{attrs:{outlined:"",tile:""},on:{click:function(t){e.dialogBulkDelete=!1}}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-close")]),e._v(" Cancel ")],1),t(n["a"],{staticClass:"ml-3",attrs:{color:"error",dark:"",tile:""},on:{click:e.bulkDeleteConfirm}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-delete-forever")]),e._v(" Deny "+e._s(e.selected.length)+" Records ")],1),t(_["a"])],1)],1)],1),t(f["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(i["a"],[t(o["c"],{staticClass:"justify-center text-h5 error white--text"},[t(p["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-alert")]),e._v(" Deny Merimen Record ")],1),t(o["b"],{staticClass:"pt-4"},[t(d["a"],[t(r["a"],{staticClass:"mb-3",attrs:{dense:"",outlined:"",type:"warning",border:"left",color:"error"}},[e._v(" This action will permanently remove this record from Merimen Data. ")]),t(g["a"],{staticClass:"transparent",attrs:{dense:""}},[t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-identifier")])],1),t(b["a"],[t(b["c"],{staticClass:"font-weight-medium"},[e._v("Case ID")]),t(b["b"],[e._v(e._s(e.editedItem.merimenCaseId||"N/A"))])],1)],1),t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-file-document-outline")])],1),t(b["a"],[t(b["c"],{staticClass:"font-weight-medium"},[e._v("Claim Number")]),t(b["b"],[e._v(e._s(e.editedItem.insuranceClaimNo||"N/A"))])],1)],1),t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-office-building")])],1),t(b["a"],[t(b["c"],{staticClass:"font-weight-medium"},[e._v("Insurer")]),t(b["b"],[e._v(e._s(e.editedItem.handlingInsurer||"N/A"))])],1)],1),t(v["a"],[t(I["a"],[t(p["a"],{attrs:{color:"primary"}},[e._v("mdi-car")])],1),t(b["a"],[t(b["c"],{staticClass:"font-weight-medium"},[e._v("Vehicle Number")]),t(b["b"],[e._v(e._s(e.editedItem.insuredVehRegNo||"N/A"))])],1)],1)],1),t(h["a"],{staticClass:"my-3"}),t("p",{staticClass:"text-center red--text text--darken-1"},[e._v(" Are you sure you want to deny this record? ")])],1)],1),t(o["a"],{staticClass:"pb-6 px-6"},[t(_["a"]),t(n["a"],{attrs:{outlined:"",tile:""},on:{click:e.closeDelete}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-close")]),e._v(" Cancel ")],1),t(n["a"],{staticClass:"ml-3",attrs:{color:"error",dark:"",tile:""},on:{click:e.deleteItemConfirm}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-delete")]),e._v(" Deny Record ")],1),t(_["a"])],1)],1)],1)],1)]},proxy:!0},{key:"item.createdAt",fn:function({item:t}){return[e._v(" "+e._s(e.formatCreatedAt(t.createdAt))+" ")]}},{key:"item.actions",fn:function({item:s}){return[t(N["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:a}){return[t(p["a"],e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},"v-icon",a,!1),r),[e._v(" mdi-pencil ")])]}}],null,!0)},[t("span",[e._v("verify")])]),t(N["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:a}){return[t(p["a"],e._g(e._b({staticClass:"mr-2",attrs:{small:"",color:"success",disabled:""},on:{click:function(t){return e.acceptSingle(s)}}},"v-icon",a,!1),r),[e._v(" mdi-check ")])]}}],null,!0)},[t("span",[e._v("accept")])]),t(N["a"],{attrs:{right:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:a}){return[t(p["a"],e._g(e._b({attrs:{small:"",color:"red darken-1"},on:{click:function(t){return e.deleteItem(s)}}},"v-icon",a,!1),r),[e._v(" mdi-delete ")])]}}],null,!0)},[t("span",[e._v("deny")])])]}},{key:"item.numbering",fn:function({index:t}){return[e._v(" "+e._s(t+1)+" ")]}},{key:"item.handlingInsurer",fn:function({item:s}){return[t(N["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:a}){return[t("span",e._g(e._b({},"span",a,!1),r),[e._v(" "+e._s(e.truncateText(s.handlingInsurer||"N/A",20))+" ")])]}}],null,!0)},[t("span",[e._v(e._s(s.handlingInsurer||"N/A"))])])]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)])}),O=[],L=(s("d9e2"),s("d866"),s("910d"),s("f665"),s("c427"));class R{getAll(){return L["a"].get("/merimenData")}get(e){return L["a"].get("/merimenData/"+e)}create(e){return L["a"].post("/merimenData",e)}update(e,t){return L["a"].put("/merimenData/"+e,t)}updateStatus(e,t){return L["a"].put(`/merimenData/${e}/status`,{status:t})}delete(e){if(!e)throw new Error("ID is required for deletion");return L["a"].delete("/merimenData/"+e)}bulkDelete(e){if(!e||!e.length)throw new Error("IDs are required for bulk deletion");return L["a"].delete("/merimenData/batch/delete",{data:{ids:e}})}bulkUpdateStatus(e,t){return L["a"].put("/merimenData/bulk/status",{ids:e,status:t})}accept(e){return L["a"].post(`/merimenData/${e}/accept`)}bulkAccept(e){return L["a"].post("/merimenData/bulk/accept",{ids:e})}getVerificationStatus(){return L["a"].get("/merimenData/verification-status")}}var $=new R,E=s("f0cc"),M=s("cb28"),B=s("5632"),j=s("304b"),F=s("02ba"),V=s("8643"),H=s("f983"),z=s("fde1"),P={data:()=>({dialog:!1,dialogDelete:!1,search:"",merimenData:[],statusOptions:["New","In Progress","Completed","Cancelled"],dateMenu:!1,dateOfLossMenu:!1,claimActions:["New Claim","Follow Up","Investigation","Settlement","Closed"],claimTypes:["Motor","Fire","Marine","Personal Accident","Workmen Compensation","Other"],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"CASE ID",value:"merimenCaseId"},{text:"CLAIM TYPE",value:"claimType"},{text:"CLAIM NUMBER",value:"insuranceClaimNo"},{text:"VEHICLE NUMBER",value:"insuredVehRegNo"},{text:"INSURER",value:"handlingInsurer"},{text:"RECEIVED",value:"createdAt"},{text:"ACTIONS",value:"actions",sortable:!1}],defaultItem:{id:null,merimenCaseId:"",claimType:"",insuranceClaimNo:"",policyCoverNoteNo:"",status:"New",dateReceived:(new Date).toISOString().substr(0,10),remarks:"",claimAction:"",insuredName:"",insuredIdNo:"",insuredTel:"",insuredVehRegNo:"",dateOfLoss:null,timeOfLoss:null,handlingInsurer:"",claimantInsurer:"",placeOfLossPostcode:"",recommendedReserve:null,adjProviFee:null,adjAsgRemarks:"",assignmentDate:(new Date).toISOString().split("T")[0],refType:null,subRefType:null,handler:null,branch:null,stateOfLoss:null,placeOfLoss:""},editedIndex:-1,editedItem:{id:null,merimenCaseId:"",claimType:"",insuranceClaimNo:"",policyCoverNoteNo:"",status:"New",dateReceived:(new Date).toISOString().substr(0,10),remarks:"",claimAction:"",insuredName:"",insuredIdNo:"",insuredTel:"",insuredVehRegNo:"",dateOfLoss:null,timeOfLoss:null,handlingInsurer:"",claimantInsurer:"",placeOfLossPostcode:"",recommendedReserve:null,adjProviFee:null,adjAsgRemarks:"",stateOfLoss:null,placeOfLoss:"",handler:null,branch:null,assignmentDate:(new Date).toISOString().split("T")[0],refType:null,subRefType:null},selected:[],dialogBulkAccept:!1,dialogBulkDelete:!1,departments:[],insurers:[],policeReportDateMenu:!1,assignmentDateMenu:!1,state:[],regions:[],subRefTypes:[],branch:[],handlers:[],loading:!0}),computed:{formTitle(){return-1===this.editedIndex?"Add Record":"Edit Record"},isAddButtonDisabled(){return!this.editedItem.caseId},isFormValid(){const e=[this.editedItem.refType,this.editedItem.handlingInsurer,this.editedItem.insuranceClaimNo,this.editedItem.assignmentDate,this.editedItem.dateOfLoss];return e.every(e=>null!==e&&void 0!==e&&""!==e)},formattedAssignmentDate:{get(){return this.editedItem.assignmentDate?this.formatDateMethod(this.editedItem.assignmentDate):""},set(e){this.editedItem.assignmentDate=e}},formattedLossDate:{get(){return this.editedItem.dateOfLoss?this.formatDateMethod(this.editedItem.dateOfLoss):""},set(e){this.editedItem.dateOfLoss=e}}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},editedItem:{deep:!0,handler(){this.$forceUpdate()}},"editedItem.refType":{immediate:!0,handler(){this.$nextTick(()=>{this.$forceUpdate()})}},"editedItem.handlingInsurer":{immediate:!0,handler(){this.$nextTick(()=>{this.$forceUpdate()})}}},methods:{formatCreatedAt(e){if(!e)return"";const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()} (${t.getHours().toString().padStart(2,"0")}.${t.getMinutes().toString().padStart(2,"0")}hrs)`},retrieveData(){$.getAll().then(e=>{this.merimenData=e.data}).catch(e=>{console.log(e)})},refreshList(){this.retrieveData()},editItem(e){this.editedIndex=this.merimenData.indexOf(e),this.editedItem=Object.assign({},this.defaultItem,{...e,refType:null,handlingInsurer:null,handler:null,branch:null,subRefType:null,claimType:e.claimType,assignmentDate:e.assignmentDate||(new Date).toISOString().split("T")[0]}),this.dialog=!0},deleteItem(e){e.id?(this.editedIndex=this.merimenData.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0):console.error("No item ID provided")},async deleteItemConfirm(){try{if(!this.editedItem.id)throw new Error("No ID found for deletion");await $.delete(this.editedItem.id),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Record denied successfully"}),this.refreshList(),this.closeDelete(),this.dialog=!1}catch(e){console.error("Delete error:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error denying record"})}},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){this.editedIndex>-1?$.update(this.editedItem.id,this.editedItem).then(e=>{this.close(),this.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:e&&e.data&&e.data.message||"Record updated successfully"}),this.refreshList()}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.response&&e.response.data&&e.response.data.message||"Error updating record"})}):$.create(this.editedItem).then(e=>{this.editedItem.id=e.data.id,this.close(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||"Record created successfully"}),this.refreshList()}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.response&&e.response.data&&e.response.data.message||e.message||"Error creating record"})}),this.close()},async fetchDepartments(){try{const e=await M["a"].getAll();this.departments=e.data}catch(e){console.error("Error fetching departments:",e)}},async fetchInsurers(){try{const e=await B["a"].getAll();this.insurers=e.data}catch(e){console.error("Error fetching insurers:",e)}},findDepartmentId(e){var t;if(!e)return console.warn("No claim type provided, using default department"),null===(t=this.departments[0])||void 0===t?void 0:t.id;const s=this.departments.find(t=>t.name.toLowerCase()===e.toLowerCase());var r;return s?s.id:(console.warn(`No matching department found for ${e}, using default`),null===(r=this.departments[0])||void 0===r?void 0:r.id)},findInsurerId(e){var t;if(!e)return console.warn("No insurer name provided, using default insurer"),null===(t=this.insurers[0])||void 0===t?void 0:t.id;const s=this.insurers.find(t=>t.name.toLowerCase()===e.toLowerCase());var r;return s?s.id:(console.warn(`No matching insurer found for ${e}, using default`),null===(r=this.insurers[0])||void 0===r?void 0:r.id)},formatDate(e){if(!e)return null;try{const t=e.split(" ");if(t.length>=1){const e=t[0].split("/");if(3===e.length){const t=e[0].padStart(2,"0"),s=e[1].padStart(2,"0"),r=e[2];return`${r}-${t}-${s}`}}const s=new Date(e);return isNaN(s.getTime())?null:s.toISOString().split("T")[0]}catch(t){return console.error("Error formatting date:",e,t),null}},formatDateForDisplay(e){if(!e)return null;try{const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString().split("T")[0]}catch(t){return console.error("Error formatting date:",t),null}},transformToCasefileData(e){try{var t,s,r,a,n,i,o,l,c;if(!e)throw new Error("No data provided for transformation");if(!e.refType)throw new Error("Department must be selected");const d=this.departments.find(t=>t.id===e.refType);if(!d)throw new Error("Invalid department selection: "+e.refType);const u={refType:e.refType,subRefType:e.subRefType,claimNo:(null===(t=e.insuranceClaimNo)||void 0===t?void 0:t.trim())||null,insuredName:(null===(s=e.insuredName)||void 0===s?void 0:s.trim())||null,insuredIC:(null===(r=e.insuredIdNo)||void 0===r?void 0:r.trim())||null,insuredTel:(null===(a=e.insuredTel)||void 0===a?void 0:a.trim())||null,vehicleNo:(null===(n=e.insuredVehRegNo)||void 0===n?void 0:n.trim())||null,dateOfLoss:this.formatDateForDisplay(e.dateOfLoss),timeOfLoss:(null===(i=e.timeOfLoss)||void 0===i?void 0:i.trim())||null,policyNo:(null===(o=e.policyCoverNoteNo)||void 0===o?void 0:o.trim())||null,insurer:this.findInsurerId(e.handlingInsurer),dateOfAssign:this.formatDateForDisplay(e.assignmentDate)||this.formatDateForDisplay(new Date),insComment:(null===(l=e.adjAsgRemarks)||void 0===l?void 0:l.trim())||null,fileStatus:"NEW",flag:1,branch:e.branch||null,handler:e.handler,stateOfLoss:e.stateOfLoss||null,placeOfLoss:(null===(c=e.placeOfLoss)||void 0===c?void 0:c.trim())||null};return u}catch(d){throw console.error("Data transformation error:",d),d}},async acceptItem(){try{this.departments.length&&this.insurers.length||await Promise.all([this.fetchDepartments(),this.fetchInsurers()]);const e=this.transformToCasefileData(this.editedItem),t=await E["a"].create(e);if(!t||!t.data)throw new Error("Casefile creation response was invalid");await $.delete(this.editedItem.id),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Record accepted and moved to casefiles successfully"}),this.refreshList(),this.close()}catch(s){var e,t;console.error("Accept error details:",{message:s.message,response:null===(e=s.response)||void 0===e?void 0:e.data,stack:s.stack}),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error: "+((null===(t=s.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||s.message||"Server error occurred")})}},async acceptSingle(e){try{this.departments.length&&this.insurers.length||await Promise.all([this.fetchDepartments(),this.fetchInsurers()]);const t=this.transformToCasefileData(e);await E["a"].create(t),await $.delete(e.id),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Record accepted and moved to casefiles successfully"}),this.refreshList()}catch(t){console.error("Accept error:",t),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error accepting and moving record"})}},async bulkAcceptConfirm(){try{this.departments.length&&this.insurers.length||await Promise.all([this.fetchDepartments(),this.fetchInsurers()]);for(const e of this.selected){const t=this.transformToCasefileData(e);await E["a"].create(t),await $.delete(e.id)}this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Selected records accepted and moved to casefiles successfully"}),this.dialogBulkAccept=!1,this.selected=[],this.refreshList()}catch(e){console.error("Bulk accept error:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error processing bulk accept"})}},bulkAcceptConfirmation(){this.dialogBulkAccept=!0},bulkDeleteConfirmation(){this.selected.length>0&&this.selected.every(e=>e.id)?this.dialogBulkDelete=!0:this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Invalid selection for deletion"})},async bulkDeleteConfirm(){try{const e=this.selected.map(e=>e.id);if(!e.length)throw new Error("No IDs found for deletion");await $.bulkDelete(e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Selected records denied successfully"}),this.dialogBulkDelete=!1,this.selected=[],this.refreshList()}catch(e){console.error("Bulk delete error:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.message||"Error denying selected records"})}},filterRegions(e){return this.regions&&e?this.regions.filter(t=>t.branchId===e):[]},filterHandler(e){if(!this.handlers||!e||!this.insurers)return[];const t=this.insurers.find(t=>t.name.toLowerCase()===e.toLowerCase());return t?this.handlers.filter(e=>e.insId===t.id):[]},async retrieveStates(){try{const e=await j["a"].getAll();this.state=e.data}catch(e){console.error("Error fetching states:",e)}},async retrieveRegions(){try{const e=await F["a"].getAll();this.regions=e.data}catch(e){console.error("Error fetching regions:",e)}},async retrieveHandlers(){try{const e=await V["a"].getAll();this.handlers=e.data}catch(e){console.error("Error fetching handlers:",e)}},filtersubRefType(e){if(!this.subRefTypes||!e)return[];const t=this.subRefTypes.filter(t=>t.deptId===e);return t},async retrieveSubRefType(){try{const e=await H["a"].getAll();this.subRefTypes=e.data}catch(e){console.error("Error fetching sub-departments:",e)}},async retrieveBranches(){try{const e=await z["a"].getAll();this.branch=e.data.map(this.getDisplayBranch)}catch(e){console.error("Error fetching branches:",e)}},getDisplayBranch(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},formatDateMethod(e){if(!e)return"";const[t,s,r]=e.split("-");return`${r}/${s}/${t}`},handleDepartmentChange(e){const t=this.departments.find(t=>t.id===e);t&&(this.editedItem.claimType=t.name),this.$nextTick(()=>{this.editedItem.subRefType=null})},truncateText(e,t){return e?e.length>t?e.substring(0,t)+"...":e:"N/A"}},async mounted(){try{this.loading=!0,await Promise.all([this.retrieveData(),this.fetchDepartments(),this.fetchInsurers(),this.retrieveStates(),this.retrieveRegions(),this.retrieveHandlers(),this.retrieveSubRefType(),this.retrieveBranches()])}catch(e){console.error("Error loading data:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error loading data"})}finally{this.loading=!1}}},U=P,q=(s("ed36"),s("2877")),Y=Object(q["a"])(U,A,O,!1,null,"439c4646",null);t["default"]=Y.exports}}]);
//# sourceMappingURL=chunk-5df8963d.75ab86e8.js.map