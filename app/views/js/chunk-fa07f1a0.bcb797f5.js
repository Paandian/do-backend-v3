(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa07f1a0"],{"61ac":function(t,e,s){"use strict";s.r(e);var a=s("c6a6"),l=s("8336"),i=s("b0af"),r=s("99d9"),o=s("cc20"),n=s("62ad"),c=s("a523"),d=s("2e4b"),f=s("169a"),u=s("ce7e"),m=s("132d"),p=s("a722"),h=s("e449"),b=s("0fd9"),g=s("b974"),x=s("2fa4"),C=s("8654"),v=s("71d9"),_=s("3a2f"),y=s("f977"),k=function(){var t=this,e=t._self._c;return e("div",[e(c["a"],{staticStyle:{width:"80%"},attrs:{fluid:""}},[t.dropboxfiles.id&&t.fileaccess?e("div",[e(b["a"],[e(v["a"],{attrs:{dense:"",color:"indigo",dark:""}},[e(_["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(l["a"],t._g({staticClass:"success mr-1",attrs:{fab:"","x-small":"",disabled:t.assignDisabled},on:{click:function(e){return t.assignFile()}}},{...s}),[e(m["a"],[t._v("mdi-file-cabinet")])],1)]}}],null,!1,1307247208)},[e("span",[t._v("ACCEPT FILE")])]),e(_["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(l["a"],t._g({staticClass:"warning mr-1",attrs:{fab:"","x-small":"",disabled:t.cancelIncDisabled},on:{click:function(e){return t.cancelInc()}}},{...s}),[e(m["a"],[t._v("mdi-file-minus-outline")])],1)]}}],null,!1,1691e4)},[e("span",[t._v("CANCEL INCOMING")])]),e(x["a"]),t.dateDiff?e(o["a"],{staticClass:"purple lighten-3",attrs:{outlined:"",small:""}},[t._v(t._s(t.dateDiff(t.moment(t.dropboxfiles.createdAt).format(),t.moment().format()))+" Day(s)")]):t._e()],1),e(l["a"],{directives:[{def:y["b"],name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:t.fab,expression:"fab"}],attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"indigo"},on:{click:t.toTop}},[e(m["a"],[t._v("mdi-apple-keyboard-shift")])],1)],1),e(b["a"],[e(n["a"],{attrs:{cols:"12"}},[e(b["a"],{staticClass:"mt-2",attrs:{"no-gutters":""}},[e(n["a"],{attrs:{cols:"12",justify:"center",align:"center"}},[e(f["a"],{attrs:{"max-width":"750px"},model:{value:t.dialogFile,callback:function(e){t.dialogFile=e},expression:"dialogFile"}},[e(i["a"],{attrs:{tile:""}},[e(r["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[e("span",{staticClass:"text-h5"},[t._v("ACCEPT FILE")])]),e(r["c"],[e(c["a"],[e(b["a"],[e(i["a"],{attrs:{width:"100%"}},[e(r["d"],[t._v("Department")]),e(n["a"],{attrs:{cols:"12"}},[e(g["a"],{attrs:{items:t.refType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Department ")]},proxy:!0}],null,!1,895171366),model:{value:t.dropboxfiles.refType,callback:function(e){t.$set(t.dropboxfiles,"refType",e)},expression:"dropboxfiles.refType"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(g["a"],{attrs:{items:t.filtersubRefType(t.dropboxfiles.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:t.dropboxfiles.subRefType,callback:function(e){t.$set(t.dropboxfiles,"subRefType",e)},expression:"dropboxfiles.subRefType"}})],1)],1),e(n["a"],{attrs:{cols:"12"}},[e(a["a"],{attrs:{items:t.insurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Insurer ")]},proxy:!0}],null,!1,1715300934),model:{value:t.dropboxfiles.insurer,callback:function(e){t.$set(t.dropboxfiles,"insurer",e)},expression:"dropboxfiles.insurer"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(g["a"],{attrs:{items:t.filterHandler(t.dropboxfiles.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:t.dropboxfiles.handler,callback:function(e){t.$set(t.dropboxfiles,"handler",e)},expression:"dropboxfiles.handler"}})],1),e(n["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(C["a"],{attrs:{"item-text":"Insurer's Reference",rules:[t=>!!t||"Insurers reference is required"]},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Insurers Reference ")]},proxy:!0}],null,!1,3049719038),model:{value:t.dropboxfiles.claimNo,callback:function(e){t.$set(t.dropboxfiles,"claimNo",e)},expression:"dropboxfiles.claimNo"}})],1),e(n["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[e("div",[e(h["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(C["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(e){t.date=null}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:t.dropboxfiles.dateOfAssign,callback:function(e){t.$set(t.dropboxfiles,"dateOfAssign",e)},expression:"dropboxfiles.dateOfAssign"}},"v-text-field",a,!1),s))]}}],null,!1,3034007956),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(d["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu=!1}},model:{value:t.dropboxfiles.dateOfAssign,callback:function(e){t.$set(t.dropboxfiles,"dateOfAssign",e)},expression:"dropboxfiles.dateOfAssign"}})],1)],1)]],2),e(n["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(C["a"],{attrs:{rules:[t=>!!t||"Vehicle Number is required"]},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Vehicle Number ")]},proxy:!0}],null,!1,2036810265),model:{value:t.dropboxfiles.vehicleNo,callback:function(e){t.$set(t.dropboxfiles,"vehicleNo",e)},expression:"dropboxfiles.vehicleNo"}})],1),e(n["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[e("div",[e(h["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(C["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(e){t.date=null}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"red--text"},[e("strong",[t._v("* ")])]),t._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:t.dropboxfiles.dateOfLoss,callback:function(e){t.$set(t.dropboxfiles,"dateOfLoss",e)},expression:"dropboxfiles.dateOfLoss"}},"v-text-field",a,!1),s))]}}],null,!1,3468761958),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[e(d["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu1=!1}},model:{value:t.dropboxfiles.dateOfLoss,callback:function(e){t.$set(t.dropboxfiles,"dateOfLoss",e)},expression:"dropboxfiles.dateOfLoss"}})],1)],1)]],2),e(n["a"],{attrs:{cols:"12"}},[e(x["a"]),e(l["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:t.closeFile}},[t._v(" Cancel ")]),e(l["a"],{staticClass:"mt-3 success",attrs:{disabled:t.isAddFileButtonDisabled,small:"",tile:""},on:{click:t.addCasefile}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),e(f["a"],{attrs:{"max-width":"500px"},model:{value:t.dialogIncCancelCase,callback:function(e){t.dialogIncCancelCase=e},expression:"dialogIncCancelCase"}},[e(i["a"],[e(r["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t._v("Cancel Incoming File?")]),e(r["a"],[e(x["a"]),e(l["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:t.closeCancelIncCase}},[t._v("Cancel")]),e(l["a"],{staticClass:"error",attrs:{small:"",tile:""},on:{click:t.cancelIncConfirm}},[t._v("OK")]),e(x["a"])],1)],1)],1)],1)],1),e(i["a"],{staticClass:"mt-3 pa-3"},[e(r["d"],{staticClass:"pb-0"},[t._v("CASE DETAILS")]),e(u["a"]),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Vehicle No.:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.dropboxfiles.vehicleNo))])],1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Our Ref.:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"})],1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Date of Loss:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.formatDate(t.dropboxfiles.dateOfLoss)))])],1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Place of Loss:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[t.dropboxfiles.placeOfLoss?e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.dropboxfiles.placeOfLoss)+", "),t._l(t.filterStates(t.dropboxfiles.stateOfLoss),(function(s){return e("span",{key:s.id},[t._v(t._s(s.name)+" ")])}))],2):e(r["c"],{staticClass:"ma-0 pa-0 font-italic text-caption"},[t._v(" to be assigned ")])],1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Claim Type:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},t._l(t.filterDept(t.dropboxfiles.refType),(function(s,a){return e(r["c"],{key:a,staticClass:"ma-0 pa-0"},[t._v(t._s(s.name))])})),1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Assignment Date:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.formatDate(t.dropboxfiles.dateOfAssign)))])],1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"})],1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"})],1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Acknowledgement Date:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.formatDate(t.dropboxfiles.createdAt)))])],1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Case Creator:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}}),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Creator Branch:")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}})],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"my-2",attrs:{cols:"12",lg:"12",md:"12",sm:"12",align:"left"}},[e("span",{staticClass:"font-weight-black"},[t._v(" INSURER DETAILS: ")])])],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Insurer: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},t._l(t.filterIns(t.dropboxfiles.insurer),(function(s){return e(r["c"],{key:s.id,staticClass:"ma-0 pa-0"},[t._v(" "+t._s(s.name)+" ")])})),1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Claim No.: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0"},[t._v(t._s(t.dropboxfiles.claimNo)+" ")])],1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Claims Handler: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"9",md:"6",sm:"6",align:"center"}},t._l(t.filterHandler(t.dropboxfiles.handler),(function(s){return e(r["c"],{key:s.id,staticClass:"ma-0 pa-0"},[t._v(t._s(s.name)+" ")])})),1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Tel: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},t._l(t.filterHandler(t.dropboxfiles.handler),(function(s){return e(r["c"],{key:s.id,staticClass:"ma-0 pa-0"},[t._v(t._s(s.offTel)+" ")])})),1),e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Mobile: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},t._l(t.filterHandler(t.dropboxfiles.handler),(function(s){return e(r["c"],{key:s.id,staticClass:"ma-0 pa-0"},[t._v(t._s(s.mobile)+" ")])})),1)],1),e(b["a"],{staticClass:"d-flex",attrs:{"no-gutters":""}},[e(n["a"],{staticClass:"main-column",attrs:{cols:"12",lg:"3",md:"6",sm:"6",align:"center"}},[e(r["c"],{staticClass:"ma-0 pa-0 font-weight-black"},[t._v("Email: ")])],1),e(n["a"],{staticClass:"bottom-border",attrs:{cols:"12",lg:"9",md:"6",sm:"6",align:"center"}},t._l(t.filterHandler(t.dropboxfiles.handler),(function(s){return e(r["c"],{key:s.id,staticClass:"ma-0 pa-0"},[t._v(t._s(s.email)+" ")])})),1)],1)],1)],1)],1)],1):e("div",[e(p["a"],{staticClass:"justify-center mt-5"},[t._v(" No result(s) to Display. Did you refresh the page?")])],1)])],1)},A=[],S=(s("14d9"),s("e9f5"),s("910d"),s("fbde")),D=s("f0cc"),T=s("d14b"),w=s("cb28"),$=s("f983"),I=s("5632"),N=s("8643"),R=s("c1df"),O=s.n(R),F={name:"dropboxDetail",components:{},data(){return{dropboxfiles:[],fileaccess:!1,management:!1,stages:[],refType:[],subRefTypes:[],insurer:[],handlers:[],dialogFile:!1,dialogIncCancelCase:!1,menu:!1,menu1:!1,fab:!1}},computed:{assignDisabled(){return!(("INC"==this.dropboxfiles.fileStatus||"NEW"==this.dropboxfiles.fileStatus)&&this.management)},cancelIncDisabled(){return!("INC"==this.dropboxfiles.fileStatus&&this.management)},isAddFileButtonDisabled(){return!(this.dropboxfiles.refType&&this.dropboxfiles.insurer&&this.dropboxfiles.claimNo&&this.dropboxfiles.vehicleNo&&this.dropboxfiles.dateOfLoss)},computedDateFormattedMomentjs(){return this.date?O()(this.date).format("DD/MM/YY"):""}},watch:{assignFile(t){t||this.closeFile()},cancelInc(t){t||this.closeCancelIncCase()}},methods:{onScroll(t){if("undefined"===typeof window)return;const e=window.pageYOffset||t.target.scrollTop||0;this.fab=e>20},toTop(){this.$vuetify.goTo(0)},getDeptCode(t){return`${t.name} - (${t.subCode})`},filtersubRefType(t){return this.subRefTypes.filter(e=>e.deptId===t)},moment:function(t){return O()(t)},yearOnly(t){return O()(t).format("YY")},filterStages(t){return this.stages.filter(e=>e.stageCode===t)},filterDept(t){return this.refType.filter(e=>e.id===t)},filterSubDept(t){return this.subRefTypes.filter(e=>e.id===t)},filterIns(t){return this.insurer.filter(e=>e.id===t)},filterHandler(t){return this.handlers.filter(e=>e.insId===t)},checkManagement(){(this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")||this.$store.state.auth.user.roles.includes("BRANCHCLERK"))&&(this.management=!0)},formatDate:function(t){return O()(t).format("DD/MM/YYYY")},formatTime:function(t){return O()(t).format("h:mm:ss a")},dateDiff(t,e){let s=O()(t),a=O()(e),l=O.a.duration(a.diff(s));return Math.round(l.asDays())},refreshList(){this.retrieveCasefiles(this.$route.params.id)},retrieveDept(){w["a"].getAll().then(t=>{this.refType=t.data}).catch(t=>{console.log(t)})},retrieveSubRefType(){$["a"].getAll().then(t=>{this.subRefTypes=t.data}).catch(t=>{console.log(t)})},retrieveIns(){I["a"].getAll().then(t=>{this.insurer=t.data}).catch(t=>{console.log(t)})},retrieveHandler(){N["a"].getAll().then(t=>{this.handlers=t.data}).catch(t=>{console.log(t)})},retrieveStages(){T["a"].getAll().then(t=>{this.stages=t.data}).catch(t=>{console.log(t)})},retrieveCasefiles(t){S["a"].get(t).then(t=>{this.dropboxfiles=t.data}).catch(t=>{console.log(t)})},assignFile(){this.dialogFile=!0},cancelInc(){this.dialogIncCancelCase=!0},addCasefile(){var t={refType:this.dropboxfiles.refType,subRefType:this.dropboxfiles.subRefType,insurer:this.dropboxfiles.insurer,handler:this.dropboxfiles.handler,claimNo:this.dropboxfiles.claimNo,dateOfAssign:this.dropboxfiles.dateOfAssign,vehicleNo:this.dropboxfiles.vehicleNo,dateOfLoss:this.dropboxfiles.dateOfLoss,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"MERIMEN"};D["a"].create(t).then(t=>{this.closeFile(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:t&&t.data&&t.data.message||toString()})}).then(()=>{S["a"].delete(this.dropboxfiles.id).then(t=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:t&&t.data&&t.data.message||toString()}),this.refreshList()}).catch(t=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:t||toString()})}),this.closeFile(),this.$router.push("/dropboxfiles")}).catch(t=>{this.$store.dispatch("setSnackbar",{showing:!0,text:t.response&&t.response.data&&t.response.data.message||t.message||toString()})})},cancelIncConfirm(){S["a"].update(this.dropboxfiles.id,this.dropboxfiles,this.dropboxfiles.fileStatus="CINC").then(t=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:t&&t.data&&t.data.message||toString()}),this.refreshList()}).catch(t=>{console.log(t)}),this.closeCancelIncCase(),this.$router.push("/dropboxfiles")},closeFile(){this.dialogFile=!1,this.$nextTick(()=>{})},closeCancelIncCase(){this.dialogIncCancelCase=!1,this.$nextTick(()=>{this.dropboxfiles.fileStatus="INC"})},checkFileaccess(){(this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("BRANCHCLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")&&this.$store.state.auth.user.dept.includes(this.dropboxfiles.refType)&&this.$store.state.auth.user.branches.includes(this.dropboxfiles.branch)||this.$store.state.auth.user.roles.includes("ADJUSTER")&&this.$store.state.auth.user.dept.includes(this.dropboxfiles.refType)&&this.$store.state.auth.user.branches.includes(this.dropboxfiles.branch)&&this.$store.state.auth.user.id===this.dropboxfiles.adjuster||this.$store.state.auth.user.roles.includes("EDITOR")&&this.$store.state.auth.user.dept.includes(this.dropboxfiles.refType)&&this.$store.state.auth.user.branches.includes(this.dropboxfiles.branch)&&this.$store.state.auth.user.id===this.dropboxfiles.editor)&&(this.fileaccess=!0)}},mounted(){this.retrieveCasefiles(this.$route.params.id),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveIns(),this.retrieveHandler(),this.retrieveStages(),this.checkManagement(),this.checkFileaccess()}},L=F,E=(s("ed2e"),s("2877")),M=Object(E["a"])(L,k,A,!1,null,"5e5d1f4c",null);e["default"]=M.exports},a722:function(t,e,s){"use strict";s("20f6");var a=s("e8f2");e["a"]=Object(a["a"])("layout")},ed2e:function(t,e,s){"use strict";s("ff3b")},fbde:function(t,e,s){"use strict";var a=s("c427");class l{getAll(){return a["a"].get("/dropboxfiles")}getAllInc(){return a["a"].get("/dropboxfiles/incoming")}getAllCanc(){return a["a"].get("/dropboxfiles/cancelled")}getAllRefType(t){return a["a"].get("/byref/"+t)}getAllBranch(t){return a["a"].get("/bybranch/"+t)}getAllStatusRefType(t,e){return a["a"].get(`/detailByRef/${t}/${e}`)}getAllStatusBranch(t,e){return a["a"].get(`/detailByBranch/${t}/${e}`)}get(t){return a["a"].get("/dropboxfiles/"+t)}create(t){return a["a"].post("/dropboxfiles",t)}update(t,e){return a["a"].put("/dropboxfiles/"+t,e)}delete(t){return a["a"].delete("/dropboxfiles/"+t)}deleteids(t){return a["a"].delete("/dropboxfiles/delete/selected/",t)}deleteAll(){return a["a"].delete("/dropboxfiles")}}e["a"]=new l},ff3b:function(t,e,s){}}]);
//# sourceMappingURL=chunk-fa07f1a0.bcb797f5.js.map