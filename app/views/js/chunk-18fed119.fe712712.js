(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18fed119"],{"271a":function(t,e,a){"use strict";var s=a("cb2d"),i=a("e330"),l=a("577e"),r=a("d6d6"),n=URLSearchParams,c=n.prototype,o=i(c.getAll),d=i(c.has),u=new n("a=1");!u.has("a",2)&&u.has("a",void 0)||s(c,"has",(function(t){var e=arguments.length,a=e<2?void 0:arguments[1];if(e&&void 0===a)return d(this,t);var s=o(this,t);r(e,1);var i=l(a),n=0;while(n<s.length)if(s[n++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},"271a7":function(t,e,a){"use strict";a.r(e);var s=a("c6a6"),i=a("8336"),l=a("b0af"),r=a("99d9"),n=a("cc20"),c=a("62ad"),o=a("a523"),d=a("8fea"),u=a("2e4b"),f=a("169a"),m=a("132d"),h=a("8860"),C=a("da13"),_=a("5d23"),p=a("34c3"),v=a("e449"),D=a("490a"),x=a("0fd9"),b=a("1f4f"),y=a("2fa4"),g=a("8654"),T=a("3a2f"),A=function(){var t=this,e=t._self._c;return e("div",[e(o["a"],{attrs:{fluid:""}},[e(f["a"],{attrs:{width:"600px",persistent:""},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[e(l["a"],{attrs:{tile:""}},[e(r["a"],[t.checkingFinalReport?[e(i["a"],{staticClass:"ml-2",attrs:{text:"",small:"",disabled:""}},[e(D["a"],{staticClass:"mr-2",attrs:{indeterminate:"",size:"20",width:"2",color:"primary"}}),t._v(" Checking Final Reports... ")],1)]:t.finalReports&&t.finalReports.length>0?e(v["a"],{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({staticClass:"ml-2",attrs:{color:"success",outlined:"",small:"",tile:""}},"v-btn",s,!1),a),[e(m["a"],{attrs:{left:""}},[t._v("mdi-file-document-outline")]),t._v(" Final Reports ("+t._s(t.finalReports.length)+") "),e(m["a"],{attrs:{right:""}},[t._v("mdi-chevron-down")])],1)]}}])},[e(h["a"],{attrs:{dense:""}},t._l(t.finalReports,(function(a,s){return e(C["a"],{key:s,on:{click:function(e){return t.downloadFinalReport(a)}}},[e(p["a"],[e(m["a"],{attrs:{small:""}},[t._v("mdi-download")])],1),e(_["a"],[e(_["c"],{staticClass:"caption"},[t._v(" "+t._s(a.Type||"Report")+" - "+t._s(t.formatDate(a.createdAt))+" ")]),e(_["b"],{staticClass:"caption"},[t._v(" "+t._s(a.Remark||"No remark")+" ")])],1)],1)})),1)],1):[e(i["a"],{staticClass:"ml-2 caption",attrs:{text:"",small:"",disabled:""}},[e(m["a"],{attrs:{left:"",color:"warning"}},[t._v("mdi-alert-circle-outline")]),t._v(" No Final Reports Available ")],1)],e(y["a"]),e(i["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(e){t.dialogDetail=!1}}},[t._v(" Close ")])],2),e(r["d"],[e(y["a"]),e("span",{staticClass:"caption text-decoration-overline"},[t._v("Details of AA/"),t._l(t.filterDept(t.caseDetail.refType),(function(a,s){return e("span",{key:s},[t._v(t._s(a.name)+" "),t._l(t.filterSubDept(t.caseDetail.subRefType),(function(a,s){return e("span",{key:s},[t._v("/"+t._s(a.subCode))])}))],2)})),t._v("/"+t._s(t.caseDetail.id)+"/"+t._s(t.yearOnly(t.caseDetail.createdAt))+"/"),t._l(t.filterBranch(t.caseDetail.branch),(function(a){return e("span",{key:a.id},[t._v(t._s(a.brCode)+" ")])}))],2)],1),e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center font-weight-black"},[t._v("Name")]),e("th",{staticClass:"text-left font-weight-black"},[t._v("Description")])])]),e("tbody",[t.caseDetail.fileStatus?e("tr",[e("td",{staticClass:"text-center"},[t._v("Status")]),t._l(t.filterStages(t.caseDetail.fileStatus),(function(a){return e("td",{key:a.id,staticClass:"text-left font-italic font-weight-black"},[t._v(" "+t._s(a.name)+" ")])}))],2):t._e(),t.caseDetail.createdAt?e("tr",[e("td",{staticClass:"text-center"},[t._v("Created On:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.createdAt))+" ")])]):t._e(),t.caseDetail.createdAt?e("tr",[e("td",{staticClass:"text-center"},[t._v("Created By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.createdBy))+" ")])]):t._e(),t.caseDetail.transferDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Transfer Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.transferDate))+" ")])]):t._e(),t.caseDetail.transferDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Transfered By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.transferBy))+" ")])]):t._e(),t.caseDetail.dateOfCancel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cancellation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfCancel))+" ")])]):t._e(),t.caseDetail.dateOfCancel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cancellation By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.cancelBy))+" ")])]):t._e(),t.caseDetail.caseFrom?e("tr",[e("td",{staticClass:"text-center"},[t._v("Type")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.caseFrom)+" ")])]):t._e(),t.caseDetail.refType?e("tr",[e("td",{staticClass:"text-center"},[t._v("Department")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterDept(t.caseDetail.refType)[0].name)+", ("+t._s(t.filterDept(t.caseDetail.refType)[0].description)+") ")])]):t._e(),t.caseDetail.subRefType?e("tr",[e("td",{staticClass:"text-center"},[t._v("File Classification")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterSubDept(t.caseDetail.subRefType)[0].subCode)+" ")])]):t._e(),t.caseDetail.branch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterBranch(t.caseDetail.branch)[0].brCode)+", ("+t._s(t.filterBranch(t.caseDetail.branch)[0].name)+") ")])]):t._e(),t.caseDetail.insurer?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterIns(t.caseDetail.insurer)[0].name)+" ")])]):t._e(),t.caseDetail.handler?e("tr",[e("td",{staticClass:"text-center"},[t._v("Handler")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterHandler(t.caseDetail.handler)[0].name)+", ("+t._s(t.filterHandler(t.caseDetail.handler)[0].email)+") ")])]):t._e(),t.caseDetail.adjuster?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.adjuster))+" ")])]):t._e(),t.caseDetail.editor?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.editor))+" ")])]):t._e(),t.caseDetail.clerkInCharge?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk In Charge")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.clerkInCharge))+" ")])]):t._e(),t.caseDetail.claimNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer's Ref No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.claimNo)+" ")])]):t._e(),t.caseDetail.vehicleNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Vehicle No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.vehicleNo)+" ")])]):t._e(),t.caseDetail.dateOfAssign?e("tr",[e("td",{staticClass:"text-center"},[t._v("Date Of Assignment")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfAssign))+" ")])]):t._e(),t.caseDetail.dateOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("Date Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfLoss))+" ")])]):t._e(),t.caseDetail.stateOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("State Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterState(t.caseDetail.stateOfLoss)[0].stCode)+", ("+t._s(t.filterState(t.caseDetail.stateOfLoss)[0].name)+") ")])]):t._e(),t.caseDetail.placeOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("Place Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.placeOfLoss)+" ")])]):t._e(),t.caseDetail.insuredName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredName)+" ")])]):t._e(),t.caseDetail.insuredIC?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredIC)+" ")])]):t._e(),t.caseDetail.InsuredTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Tel. No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.InsuredTel)+" ")])]):t._e(),t.caseDetail.insuredEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredEmail)+" ")])]):t._e(),t.caseDetail.insuredDriverName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverName)+" ")])]):t._e(),t.caseDetail.insuredDriverIc?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverIc)+" ")])]):t._e(),t.caseDetail.insuredDriverEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverEmail)+" ")])]):t._e(),t.caseDetail.policeReportNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Police Report No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policeReportNo)+" ")])]):t._e(),t.caseDetail.policeReportDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Police Report Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policeReportDate)+" ")])]):t._e(),t.caseDetail.policyNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Policy Number")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policyNo)+" ")])]):t._e(),t.caseDetail.coverFrom||t.caseDetail.coverTo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cover Period")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.coverFrom))+" - "+t._s(t.formatDate(t.caseDetail.coverTo))+" ")])]):t._e(),t.caseDetail.insComment?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer's Comment")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insComment)+" ")])]):t._e(),t.caseDetail.solicitorName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorName)+" ")])]):t._e(),t.caseDetail.solicitorTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Tel.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorTel)+" ")])]):t._e(),t.caseDetail.solicitorEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorEmail)+" ")])]):t._e(),t.caseDetail.counselName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselName)+" ")])]):t._e(),t.caseDetail.counselTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Tel")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselTel)+" ")])]):t._e(),t.caseDetail.counselEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselEmail)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantName)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantIc?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantIc)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Tel No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantTel)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantEmail)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Vehicle No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleNo)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleModel?e("tr",[e("td",{staticClass:"text-center"},[t._v(" Third Party Claimant Vehicle Model ")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleModel)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleSolicitor?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Solicitor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleSolicitor)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleSolicitorEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v(" Third Party Claimant Solicitor Email ")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleSolicitorEmail)+" ")])]):t._e(),t.caseDetail.applyDocDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Document Application Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.applyDocDate))+" ")])]):t._e(),t.caseDetail.applyDocDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Document Application By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.applyDocBy))+" ")])]):t._e(),t.caseDetail.dateOfReg?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch Assigning Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfReg))+" ")])]):t._e(),t.caseDetail.dateOfReg?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch Assigned By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignBranchBy))+" ")])]):t._e(),t.caseDetail.dateOfAdj?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster Assigning Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfAdj))+" ")])]):t._e(),t.caseDetail.dateOfAdj?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster Assigning By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignAdjBy))+" ")])]):t._e(),t.caseDetail.dateStartInv?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Investigation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartInv))+" ")])]):t._e(),t.caseDetail.dateEndInv?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Investigation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndInv))+" ")])]):t._e(),t.caseDetail.dateOfEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor Assigned Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfEdi))+" ")])]):t._e(),t.caseDetail.dateOfEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor Assigned By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignEdiBy))+" ")])]):t._e(),t.caseDetail.dateStartEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Editing Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartEdi))+" ")])]):t._e(),t.caseDetail.dateEndEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Editing Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndEdi))+" ")])]):t._e(),t.caseDetail.dateOfApproval?e("tr",[e("td",{staticClass:"text-center"},[t._v("Approval Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfApproval))+" ")])]):t._e(),t.caseDetail.dateOfApproval?e("tr",[e("td",{staticClass:"text-center"},[t._v("Approval By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.approvedBy))+" ")])]):t._e(),t.caseDetail.dateAssignFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk Assigned Date(Formatting)")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateAssignFormatting))+" ")])]):t._e(),t.caseDetail.dateAssignFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk Assigned (Formatting) By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignClerkBy))+" ")])]):t._e(),t.caseDetail.dateStartFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Formatting Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartFormatting))+" ")])]):t._e(),t.caseDetail.dateEndFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Formatting Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndFormatting))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoising & Finalisation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateFinal))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoising & Finalisation By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.finalBy))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Nombor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.invNo)+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Fee Note")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.invFeeNote)+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Total")]),e("td",{staticClass:"text-left font-italic"},[t._v(" RM "+t._s(t.caseDetail.invTotal)+" ")])]):t._e(),t.caseDetail.dateDispatch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Dispatch Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateDispatch))+" ")])]):t._e(),t.caseDetail.dateDispatch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Dispatch By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.dispatchBy))+" ")])]):t._e(),t.caseDetail.dateClosed?e("tr",[e("td",{staticClass:"text-center"},[t._v("Closed Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateClosed))+" ")])]):t._e(),t.caseDetail.dateClosed?e("tr",[e("td",{staticClass:"text-center"},[t._v("Closed By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.closedBy))+" ")])]):t._e()])]},proxy:!0}])}),e(r["a"],[e(y["a"]),e(i["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(e){t.dialogDetail=!1}}},[t._v(" Close ")])],1)],1)],1),e(d["a"],{staticClass:"elevation-1 pt-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:t.headers,items:t.casefiles,loading:t.loadTable,"loading-text":"Working on it ......",search:t.search,"mobile-breakpoint":"1100"},on:{"current-items":t.currentItems,"click:row":e=>t.showDetail(e)},scopedSlots:t._u([{key:"top",fn:function(){return[e(x["a"],{staticClass:"ma-1",staticStyle:{border:"1px dotted orange"},attrs:{"no-gutters":""}},[e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.sortedInsurers,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Insurer","persistent-hint":"",label:"Insurer"},model:{value:t.insurerColumn,callback:function(e){t.insurerColumn=e},expression:"insurerColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.insurer,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Insurer","persistent-hint":"",label:"Insurer"},model:{value:t.insurerColumn,callback:function(e){t.insurerColumn=e},expression:"insurerColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(g["a"],{attrs:{clearable:"",type:"text",label:"Vehicle No."},model:{value:t.vehicleNoColumn,callback:function(e){t.vehicleNoColumn=e},expression:"vehicleNoColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[e(g["a"],{attrs:{clearable:"",type:"text",label:"Vehicle No."},model:{value:t.vehicleNoColumn,callback:function(e){t.vehicleNoColumn=e},expression:"vehicleNoColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(g["a"],{attrs:{clearable:"",type:"text",label:"AASB Ref."},model:{value:t.aasbidColumn,callback:function(e){t.aasbidColumn=e},expression:"aasbidColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[e(g["a"],{attrs:{clearable:"",type:"text",label:"AASB Ref."},model:{value:t.aasbidColumn,callback:function(e){t.aasbidColumn=e},expression:"aasbidColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(v["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(g["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"Start Date"},on:{"click:clear":function(e){t.date=null}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(u["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[e(v["a"],{ref:"menu1",attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(g["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"Start Date"},on:{"click:clear":function(e){t.date=null}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[e(u["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu1=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(v["a"],{ref:"menu2",attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(g["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"End Date"},on:{"click:clear":function(e){t.date=null}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[e(u["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu2=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[e(v["a"],{ref:"menu3",attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(g["a"],t._g(t._b({attrs:{value:t.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"End Date"},on:{"click:clear":function(e){t.date=null}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[e(u["a"],{attrs:{value:t.computedDateFormattedMomentjs},on:{change:function(e){t.menu3=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),e(x["a"],{staticClass:"ma-1",staticStyle:{border:"1px dotted orange"},attrs:{"no-gutters":""}},[e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.sortedBranches,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Branch","persistent-hint":"",label:"Branch"},model:{value:t.branchColumn,callback:function(e){t.branchColumn=e},expression:"branchColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.branch,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Branch","persistent-hint":"",label:"Branch"},model:{value:t.branchColumn,callback:function(e){t.branchColumn=e},expression:"branchColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.sortedDepartments,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Department","persistent-hint":"",label:"Department"},model:{value:t.refTypeColumn,callback:function(e){t.refTypeColumn=e},expression:"refTypeColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.refType,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Department","persistent-hint":"",label:"Department"},model:{value:t.refTypeColumn,callback:function(e){t.refTypeColumn=e},expression:"refTypeColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.sortedSubRefTypesByDept,"item-text":"subCode","item-value":"subCode","menu-props":{maxHeight:"400"},hint:"Filter by File Classification","persistent-hint":"",label:"File Classification"},model:{value:t.subRefTypesColumn,callback:function(e){t.subRefTypesColumn=e},expression:"subRefTypesColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.subRefTypes,"item-text":"subCode","item-value":"subCode","menu-props":{maxHeight:"400"},hint:"Filter by File Classification","persistent-hint":"",label:"File Classification"},model:{value:t.subRefTypesColumn,callback:function(e){t.subRefTypesColumn=e},expression:"subRefTypesColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.filterAdjByBranch(t.branchColumn),"item-text":"username","item-value":"username","menu-props":{maxHeight:"400"},hint:"Filter by Adjuster","persistent-hint":"",label:"Adjuster","no-data-text":"Select Branch"},model:{value:t.adjusterColumn,callback:function(e){t.adjusterColumn=e},expression:"adjusterColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.filterAdjByBranch(t.branchColumn),"item-text":"username","item-value":"username","menu-props":{maxHeight:"400"},hint:"Filter by Adjuster","persistent-hint":"",label:"Adjuster","no-data-text":"Select Branch"},model:{value:t.adjusterColumn,callback:function(e){t.adjusterColumn=e},expression:"adjusterColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.stages,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Status","persistent-hint":"",label:"Status"},model:{value:t.statusColumn,callback:function(e){t.statusColumn=e},expression:"statusColumn"}})],1),e(c["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[e(s["a"],{attrs:{clearable:"",items:t.stages,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Status","persistent-hint":"",label:"Status"},model:{value:t.statusColumn,callback:function(e){t.statusColumn=e},expression:"statusColumn"}})],1),e(c["a"],{staticClass:"d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2"}},[e("vue-excel-xlsx",{attrs:{data:t.currentCasefiles,columns:t.columns,"file-name":""+t.moment().format("DD/MM/YYYY"),"file-type":"xlsx","sheet-name":"sheetname"}},[e(T["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({staticClass:"success",attrs:{fab:"",small:""}},"v-btn",s,!1),a),[e(m["a"],[t._v("mdi-file-excel-outline")])],1)]}}])},[e("span",[t._v(" EXPORT EXCEL REPORT")])])],1)],1),e(c["a"],{staticClass:"pb-5 d-md-none justify-center text-center"},[e("vue-excel-xlsx",{attrs:{data:t.currentCasefiles,columns:t.columns,"file-name":""+t.moment().format("DD/MM/YYYY"),"file-type":"xlsx","sheet-name":"sheetname"}},[e(T["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({staticClass:"success",attrs:{tile:"",width:"250px"}},"v-btn",s,!1),a),[t._v("EXPORT EXCEL ")])]}}])},[e("span",[t._v(" EXPORT XLS")])])],1)],1)],1)]},proxy:!0},{key:"item.numbering",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return t._l(t.filterIns(a.insurer),(function(a){return e("div",{key:a.id},[e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(a.name)+" ")])])}))}},{key:"item.branch",fn:function({item:a}){return t._l(t.filterBranch(a.branch),(function(a){return e("div",{key:a.id},[e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(a.name)+" ")])])}))}},{key:"item.refType",fn:function({item:a}){return t._l(t.filterDept(a.refType),(function(a){return e("div",{key:a.id},[e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(a.name)+" ")])])}))}},{key:"item.subRefType",fn:function({item:a}){return t._l(t.filterSubDept(a.subRefType),(function(a){return e("div",{key:a.id},[e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(a.subCode)+" ")])])}))}},{key:"item.adjuster",fn:function({item:a}){return t._l(t.filterAdj(a.adjuster),(function(a){return e("div",{key:a.id},[e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(a.username)+" ")])])}))}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?e("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[t._v(" "+t._s(a.vehicleNo.toUpperCase())+" ")]):e("div",{staticClass:"font-italic"},[t._v("NIL")])]}},{key:"item.id",fn:function({item:a}){return[e("tr",{staticClass:"d-flex"},[t._v(" AA "),t._l(t.filterDept(a.refType),(function(s,i){return e("div",{key:i},[t._v(" /"+t._s(s.name)),t._l(t.filterSubDept(a.subRefType),(function(a,s){return e("span",{key:s},[t._v("/"+t._s(a.subCode))])}))],2)})),t._v(" /"+t._s(a.id)+"/"+t._s(t.yearOnly(a.createdAt))+" "),t._l(t.filterBranch(a.branch),(function(a){return e("div",{key:a.id},[t._v(" /"+t._s(a.brCode)+" ")])}))],2)]}},{key:"item.dateOfAssign",fn:function({item:e}){return[t._v(" "+t._s(t.formatDate(e.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:e}){return[t._v(" "+t._s(t.dateDiff(t.moment(e.dateOfAssign).format(),t.moment().format()))+" ")]}},{key:"item.fileStatus",fn:function({item:a}){return t._l(t.filterStages(a.fileStatus),(function(a){return e("span",t._b({key:a.id},"span",a.item,!1),[e(n["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[t._v(" "+t._s(a.name)+" ")])],1)}))}}],null,!0)})],1)],1)},S=[],R=(a("e9f5"),a("910d"),a("f665"),a("ab43"),a("a732"),a("88a7"),a("271a"),a("5494"),a("fde1")),N=a("304b"),k=a("02ba"),E=a("cb28"),F=a("f983"),I=a("5632"),w=a("f0cc"),j=a("d14b"),B=a("8643"),O=a("9df5"),L=a("bc3a"),M=a.n(L),P=a("6736"),U=a("3c98"),H=a("c1df"),$=a.n(H),Y={name:"reportsTwo",components:{},data(){return{loadTable:!0,columns:[{label:"CLAIMS HANDLER",field:"handler",dataFormat:this.showHandlerName},{label:"INSURER'S REF",field:"claimNo"},{label:"INSURED NAME",field:"insuredName",dataFormat:this.upperCaseVehicleNo},{label:"VEHICLE NO",field:"vehicleNo",dataFormat:this.upperCaseVehicleNo},{label:"INSURER",field:"insurer",dataFormat:this.showInsurerName},{label:"CLAIM TYPE",field:"refType",dataFormat:this.filterDeptOnly},{label:"BRANCH",field:"branch",dataFormat:this.showBranchName},{label:"DEPARTMENT",field:"refType",dataFormat:this.showRefTypeName},{label:"FILE CLASSIFICATION",field:"subRefType",dataFormat:this.showsubRefTypeName},{label:"ADJUSTER",field:"adjuster",dataFormat:this.showAdjusterName},{label:"AASB REF",field:"id",dataFormat:this.showAasbRef},{label:"DATE OF ASSIGNMENT",field:"dateOfAssign",dataFormat:this.formatDate},{label:"DATE OF LOSS",field:"dateOfLoss",dataFormat:this.formatDate},{label:"DAYS",field:"dateOfAssign",dataFormat:this.showDateDiff},{label:"ADJUSTER ACKNOWLEDMENT DATE",field:"dateStartInv",dataFormat:this.formatDate},{label:"REPORT SUBMISSION DATE",field:"dateEndInv",dataFormat:this.formatDate},{label:"STATUS",field:"fileStatus",dataFormat:this.showFileStatus},{label:"TOTAL AMOUNT OF ALL TAX INVOICES",field:"invTotal"}],search:"",insurerColumn:"",branchColumn:"",refTypeColumn:"",subRefTypesColumn:"",adjusterColumn:"",statusColumn:"",vehicleNoColumn:"",aasbidColumn:"",claimNoColumn:"",casefiles:[],currentCasefiles:[],branch:[],states:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],handlers:[],caseDetail:[],members:[],adjusters:[],documents:[],finalReports:[],checkingFinalReport:!1,startDate:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,endDate:null,dialogDetail:!1}},computed:{filteredCasefiles(){return this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("ADMIN")?this.casefiles:this.$store.state.auth.user.roles.includes("BRANCHCLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")?this.casefiles.filter(t=>this.$store.state.auth.user.dept.includes(t.refType)&&this.$store.state.auth.user.branches.includes(t.branch)):this.$store.state.auth.user.roles.includes("ADJUSTER")?this.casefiles.filter(t=>this.$store.state.auth.user.dept.includes(t.refType)&&this.$store.state.auth.user.branches.includes(t.branch)&&this.$store.state.auth.user.id.toString().includes(t.adjuster)):this.$store.state.auth.user.roles.includes("EDITOR")?this.casefiles.filter(t=>this.$store.state.auth.user.dept.includes(t.refType)&&this.$store.state.auth.user.branches.includes(t.branch)&&this.$store.state.auth.user.id.toString().includes(t.editor)):this.casefiles},computedDateFormattedMomentjs(){return this.date?$()(this.date).format("DD/MM/YY"):""},headers(){return[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"INSURER",align:"start",sortable:!1,value:"insurer",filter:t=>{if(!this.insurerColumn)return!0;const e=this.filterIns(t);return(e[0].name+"").toLowerCase().includes(this.insurerColumn.toLowerCase())}},{text:"BRANCH",align:"start",sortable:!1,value:"branch",filter:t=>{if(!this.branchColumn)return!0;const e=this.filterBranch(t);return(e[0].name+"").toLowerCase().includes(this.branchColumn.toLowerCase())}},{text:"DEPARTMENT",align:"start",sortable:!1,value:"refType",filter:t=>{if(!this.refTypeColumn)return!0;const e=this.filterDept(t);return(e[0].name+"").toLowerCase().includes(this.refTypeColumn.toLowerCase())}},{text:"FILE CLASSIFICATION",align:"start",sortable:!1,value:"subRefType",filter:t=>{if(!this.subRefTypesColumn)return!0;const e=this.filterSubDept(t);return(e[0].subCode+"").toLowerCase().includes(this.subRefTypesColumn.toLowerCase())}},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster",filter:t=>{if(!this.adjusterColumn)return!0;const e=this.filterAdj(t);return(e[0].username+"").toLowerCase().includes(this.adjusterColumn.toLowerCase())}},{text:"VEHICLE NO.",align:"start",value:"vehicleNo",filter:t=>!this.vehicleNoColumn||(t+"").toLowerCase().includes(this.vehicleNoColumn.toLowerCase())},{text:"AASB REFERENCE",align:"start",value:"id",filter:t=>!this.aasbidColumn||t==parseInt(this.aasbidColumn)},{text:"DATE OF ASSIGNMENT",align:"start",sortable:!1,value:"dateOfAssign",filter:t=>this.startDate&&!this.endDate?$()(t)>=$()(this.startDate):!this.startDate&&this.endDate?$()(t)<=$()(this.endDate):!this.startDate||!this.endDate||$()(t)>=$()(this.startDate)&&$()(t)<=$()(this.endDate)},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"STATUS",align:"center",sortable:!1,value:"fileStatus",filter:t=>{if(!this.statusColumn)return!0;const e=this.filterStages(t);return(e[0].name+"").toLowerCase().includes(this.statusColumn.toLowerCase())}}]},sortedDepartments(){return[...this.refType].sort((t,e)=>t.name.localeCompare(e.name))},sortedSubDepts(){return this.selectedDept?[...this.subRefTypes].filter(t=>t.deptId===this.selectedDept).sort((t,e)=>t.subCode.localeCompare(e.subCode)):[]},sortedBranches(){return[...this.branch].sort((t,e)=>t.name.localeCompare(e.name))},sortedInsurers(){return[...this.insurer].sort((t,e)=>t.name.localeCompare(e.name))},sortedSubRefTypesByDept(){var t;const e=this.refTypeColumn?null===(t=this.refType.find(t=>t.name===this.refTypeColumn))||void 0===t?void 0:t.id:null;return e?[...this.subRefTypes].filter(t=>t.deptId===e).sort((t,e)=>t.subCode.localeCompare(e.subCode)):[]}},methods:{filterAdjByBranch(t){if(!t)return[];try{return[...this.adjusters].filter(e=>e.branches&&e.branches.some(e=>e.name===t)).sort((t,e)=>(t.username||"").localeCompare(e.username||""))}catch(e){return console.warn("Error filtering adjusters by branch:",e),[]}},async showDetail(t){this.caseDetail=Object.assign({},t),this.dialogDetail=!0,this.finalReports=[],this.checkingFinalReport=!0;try{const[e]=await Promise.all([U["a"].getAll(),new Promise(t=>setTimeout(t,500))]);this.documents=e.data,this.finalReports=this.documents.filter(e=>e.caseId===t.id&&4===e.docStageId),this.$store.dispatch("setSnackbar",{showing:!0,color:this.finalReports.length?"success":"info",text:this.finalReports.length?this.finalReports.length+" final report(s) available":"No final reports found for this case"})}catch(e){console.error("Error fetching documents:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error checking for final reports"})}finally{this.checkingFinalReport=!1}},downloadFinalReport(t){t&&M()({url:`${P["a"].docsURL}/${t.name}`,method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a;const i=t.name.substr(t.name.lastIndexOf(".")+1),l=this.caseDetail.vehicleNo.toUpperCase(),r=$()(t.createdAt).format("YYYYMMDD");s.setAttribute("download",`${l}_${this.caseDetail.id}_${r}.${i}`),document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(t=>{console.error("Error downloading file:",t),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error downloading final report"})})},currentItems:function(t){return this.currentCasefiles=t},retrieveCasefiles(){w["a"].getAll().then(t=>{this.casefiles=t.data,this.loadTable=!1}).catch(t=>{console.log(t)})},refreshList(){this.retrieveCasefiles(),this.retrieveIns()},filterUser(t){const e=this.members.filter(e=>e.id===t);let a=e.map(t=>t.username+", "+t.email);return a[0]},filterStages(t){return this.stages.filter(e=>e.stageCode===t)},filterRegions(t){return this.regions.filter(e=>e.branchId===t)},filterDept(t){return t?this.refType.filter(e=>e.id===t):"TBA"},filterSubDept(t){return t?this.subRefTypes.filter(e=>e.id===t):"TBA"},filterAdj(t){if(!t)return[{id:null,username:"TBA"}];const e=this.adjusters.filter(e=>e.id===t);return e.length?e:[{id:null,username:"TBA"}]},filtersubRefType(t){return this.subRefType.filter(e=>e.id===t)},filterHandler(t){return this.handlers.filter(e=>e.id===t)},filterBranch(t){return t?this.branch.filter(e=>e.id===t):"TBA"},filterState(t){return this.states.filter(e=>e.id===t)},filterIns(t){return this.insurer.filter(e=>e.id===t)},showHandlerName(t){const e=this.handlers.filter(e=>e.id===t);let a=e.map(t=>t.name);return a},showBranchName(t){const e=this.branch.filter(e=>e.id===t);let a=e.map(t=>t.name);return a},showRefTypeName(t){const e=this.refType.filter(e=>e.id===t);let a=e.map(t=>t.name);return a},showsubRefTypeName(t){const e=this.subRefTypes.filter(e=>e.id===t);let a=e.map(t=>t.subCode);return a},showAdjusterName(t){const e=this.adjusters.filter(e=>e.id===t);let a=e.map(t=>t.username);return a},showInsurerName(t){const e=this.insurer.filter(e=>e.id===t);let a=e.map(t=>t.name);return a},showAasbRef(t){const e=this.casefiles.filter(e=>e.id===t);let a=e.map(t=>"AA/"+this.filterDeptMap(t.refType)+this.filtersubRefTypeMap(t.subRefType)+t.id+"/"+this.yearOnly(t.createdAt)+this.filterBranchMap(t.branch));return a},showFileStatus(t){const e=this.stages.filter(e=>e.stageCode===t);let a=e.map(t=>t.name);return a},filterDeptMap(t){const e=this.refType.filter(e=>e.id===t);let a=e.map(t=>t.name);return t?a+"/":""},filterDeptOnly(t){const e=this.refType.filter(e=>e.id===t);let a=e.map(t=>t.name);return t?a:""},filtersubRefTypeMap(t){const e=this.subRefTypes.filter(e=>e.id===t);let a=e.map(t=>t.subCode);return t?a+"/":""},filterBranchMap(t){const e=this.branch.filter(e=>e.id===t);let a=e.map(t=>t.brCode);return t?"/"+a:""},formatDate(t){return t?$()(t).format("DD/MM/YYYY"):""},dateDiff(t,e){let a=$()(t),s=$()(e),i=$.a.duration(s.diff(a));return Math.round(i.asDays())},showDateDiff(t){let e=$()(t),a=$()(),s=$.a.duration(a.diff(e));return Math.round(s.asDays())},upperCaseVehicleNo(t){if(!t)return"";let e=t,a=e.toUpperCase();return a},yearOnly(t){return $()(t).format("YY")},moment:function(t){return $()(t)},retrieveDept(){E["a"].getAll().then(t=>{this.refType=t.data.sort((t,e)=>t.name.localeCompare(e.name))}).catch(t=>{console.log(t)})},retrieveSubRefType(){F["a"].getAll().then(t=>{this.subRefTypes=t.data}).catch(t=>{console.log(t)})},retrieveStages(){j["a"].getAll().then(t=>{this.stages=t.data}).catch(t=>{console.log(t)})},retrieveIns(){I["a"].getAll().then(t=>{this.insurer=t.data.sort((t,e)=>t.name.localeCompare(e.name))}).catch(t=>{console.log(t)})},retrieveBranches(){R["a"].getAll().then(t=>{this.branch=t.data.sort((t,e)=>t.name.localeCompare(e.name))}).catch(t=>{console.log(t)})},retrieveStates(){N["a"].getAll().then(t=>{this.states=t.data}).catch(t=>{console.log(t)})},retrieveRegions(){k["a"].getAll().then(t=>{this.regions=t.data}).catch(t=>{console.log(t)})},retrieveHandlers(){B["a"].getAll().then(t=>{this.handlers=t.data}).catch(t=>{console.log(t)})},retrieveUsers(){O["a"].getAll().then(t=>{this.members=t.data}).catch(t=>{console.log(t)})},retrieveAdj(){O["a"].getAll().then(t=>{this.adjusters=t.data.filter(t=>t.roles.some(t=>"adjuster"===t.roleCode))}).catch(t=>{console.log(t)})}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.retrieveHandlers(),this.retrieveUsers(),this.retrieveAdj()}},V=Y,X=a("2877"),J=Object(X["a"])(V,A,S,!1,null,null,null);e["default"]=J.exports},"3c98":function(t,e,a){"use strict";var s=a("c427");class i{getAll(){return s["a"].get("/documents")}get(t){return s["a"].get("/documents/"+t)}create(t){return s["a"].post("/documents",t)}update(t,e){return s["a"].put("/documents/"+t,e)}delete(t,e){return s["a"].delete(`/documents/${t}/${e}`)}deleteAll(){return s["a"].delete("/documents")}findByHandler(t){return s["a"].get("/documents?name="+t)}}e["a"]=new i},5494:function(t,e,a){"use strict";var s=a("83ab"),i=a("e330"),l=a("edd0"),r=URLSearchParams.prototype,n=i(r.forEach);s&&!("size"in r)&&l(r,"size",{get:function(){var t=0;return n(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"88a7":function(t,e,a){"use strict";var s=a("cb2d"),i=a("e330"),l=a("577e"),r=a("d6d6"),n=URLSearchParams,c=n.prototype,o=i(c.append),d=i(c["delete"]),u=i(c.forEach),f=i([].push),m=new n("a=1&a=2&b=3");m["delete"]("a",1),m["delete"]("b",void 0),m+""!=="a=2"&&s(c,"delete",(function(t){var e=arguments.length,a=e<2?void 0:arguments[1];if(e&&void 0===a)return d(this,t);var s=[];u(this,(function(t,e){f(s,{key:e,value:t})})),r(e,1);var i,n=l(t),c=l(a),m=0,h=0,C=!1,_=s.length;while(m<_)i=s[m++],C||i.key===n?(C=!0,d(this,i.key)):h++;while(h<_)i=s[h++],i.key===n&&i.value===c||o(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},d6d6:function(t,e,a){"use strict";var s=TypeError;t.exports=function(t,e){if(t<e)throw new s("Not enough arguments");return t}}}]);
//# sourceMappingURL=chunk-18fed119.fe712712.js.map