{"version":3,"sources":["webpack:///./src/views/detailView/detailByRef.vue","webpack:///src/views/detailView/detailByRef.vue","webpack:///./src/views/detailView/detailByRef.vue?939e","webpack:///./src/views/detailView/detailByRef.vue?180f"],"names":["attrs","staticClass","_vm","showFirstLastPage","viewItem","key","header","fn","item","flag","_c","allStatus","_v","index","_s","subDept","staticRenderFns","name","components","data","loadTable","headers","text","align","sortable","value","casefiles","departments","subRefTypes","branches","states","insurer","members","stages","mounted","retrieveCasefiles","$route","params","fileStatus","refType","retrieveDepts","retrieveSubRefType","retrieveBranches","retrieveStates","retrieveIns","retrieveMembers","retrieveStages","computed","filteredCasefiles","$store","state","auth","user","roles","includes","filter","casefile","x","dept","branch","id","toString","adjuster","editor","methods","moment","date","filterBranch","filterStates","filterDept","filterSubDept","subRef","filterIns","filterUser","member","filterStages","stage","stageCode","yearOnly","format","formatDate","dateDiff","startDateString","endDateString","start","end","duration","diff","Math","round","asDays","CasefileDataService","getAllStatusRefType","then","response","catch","e","console","log","DeptDataService","getAll","SubRefTypeDataService","BranchDataService","StateDataService","InsDataService","MemberDataService","some","b","roleCode","StagesDataService","$router","push","component"],"mappings":"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","file":"js/chunk-2d216263.a588f554.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticStyle:{\"width\":\"80%\"},attrs:{\"fluid\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.filteredCasefiles,\"loading\":_vm.loadTable,\"loading-text\":\"Working on it ......\",\"footer-props\":{\n      showFirstLastPage: true,\n      'items-per-page-options': [10, 20, 30, 40, 50, 100],\n    },\"items-per-page\":50},on:{\"click:row\":_vm.viewItem},scopedSlots:_vm._u([{key:`header.id`,fn:function({ header }){return [_vm._v(\" \"+_vm._s(header.text.toUpperCase())+\" \")]}},{key:\"item.numbering\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.index + 1)+\" \")]}},{key:`item.vehicleNo`,fn:function({ item }){return [(item.vehicleNo)?_c('span',[(item.vehicleNo)?_c('div',[_vm._v(\" \"+_vm._s(item.vehicleNo.toUpperCase())+\" \")]):_vm._e()]):_c('span',[_vm._v(\"TBA\")])]}},{key:`item.dateOfAssign`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.formatDate(item.dateOfAssign))+\" \")]}},{key:`item.days`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.dateDiff(_vm.moment(item.dateOfAssign).format(), _vm.moment().format()))+\" Day(s) \")]}},{key:`item.adjuster`,fn:function({ item }){return [(item.adjuster)?_c('span',_vm._l((_vm.filterUser(item.adjuster)),function(adjuster){return _c('div',{key:adjuster.id},[_vm._v(\" \"+_vm._s(adjuster.username)+\" \")])}),0):_c('span',[_vm._v(\"TBA\")])]}},{key:`item.fileStatus`,fn:function({ item }){return [_c('v-tooltip',{attrs:{\"left\":\"\",\"transition\":\"fab-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [(item.flag === 1)?_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"green lighten-1\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-shield-check \")]):_vm._e(),(item.flag === 2)?_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"orange lighten-1\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-shield-half-full \")]):_vm._e(),(item.flag === 3)?_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"red darken-5\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-shield-alert-outline \")]):_vm._e()]}}],null,true)},[(item.flag === 1)?_c('span',[_vm._v(\"GENUINE\")]):_vm._e(),(item.flag === 2)?_c('span',[_vm._v(\"SUSPECTED FRAUD\")]):_vm._e(),(item.flag === 3)?_c('span',[_vm._v(\"FRAUD\")]):_vm._e()]),_vm._l((_vm.filterStages(item.fileStatus)),function(allStatus){return _c('span',_vm._b({key:allStatus.id},'span',allStatus.item,false),[_c('v-chip',{attrs:{\"label\":\"\",\"outlined\":\"\",\"block\":\"\",\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(allStatus.name)+\" \")])],1)})]}},{key:`item.id`,fn:function({ item }){return [_c('tr',{staticClass:\"font-weight-black d-flex\"},[_vm._v(\" AA/ \"),_vm._l((_vm.filterDept(item.refType)),function(dept){return _c('div',{key:dept.id},[_vm._v(\" \"+_vm._s(dept.name)),_vm._l((_vm.filterSubDept(item.subRefType)),function(subDept,index){return _c('span',{key:index},[_vm._v(\"/\"+_vm._s(subDept.subCode))])})],2)}),_vm._v(\" /\"+_vm._s(item.id)+\"/\"+_vm._s(_vm.yearOnly(item.createdAt))+\" \"),_vm._l((_vm.filterBranch(item.branch)),function(branch,index){return _c('div',{key:index},[_vm._v(\" /\"+_vm._s(branch.brCode)+\" \")])})],2)]}},{key:`item.insurer`,fn:function({ item }){return _vm._l((_vm.filterIns(item.insurer)),function(ins){return _c('div',{key:ins.id},[_c('div',{staticClass:\"text-truncate\",staticStyle:{\"max-width\":\"80px\"}},[_vm._v(\" \"+_vm._s(ins.name)+\" \")])])})}},{key:`item.dateOfLoss`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.formatDate(item.dateOfLoss))+\" \")]}},{key:`item.placeOfLoss`,fn:function({ item }){return [(item.placeOfLoss)?_c('span',[_vm._v(\" \"+_vm._s(item.placeOfLoss)+\", \")]):_vm._e(),_vm._l((_vm.filterStates(item.stateOfLoss)),function(state){return _c('span',{key:state.id},[_vm._v(_vm._s(state.name)+\" \")])})]}}],null,true)})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid style=\"width: 80%\">\r\n    <v-data-table\r\n      dense\r\n      :headers=\"headers\"\r\n      :items=\"filteredCasefiles\"\r\n      class=\"elevation-1\"\r\n      :loading=\"loadTable\"\r\n      loading-text=\"Working on it ......\"\r\n      style=\"cursor: pointer\"\r\n      @click:row=\"viewItem\"\r\n      :footer-props=\"{\r\n        showFirstLastPage: true,\r\n        'items-per-page-options': [10, 20, 30, 40, 50, 100],\r\n      }\"\r\n      :items-per-page=\"50\"\r\n    >\r\n      <template v-slot:[`header.id`]=\"{ header }\">\r\n        {{ header.text.toUpperCase() }}\r\n      </template>\r\n      <!-- <template slot=\"item.numbering\" slot-scope=\"props\">\r\n        {{ props.index + 1 }}\r\n      </template> -->\r\n      <template slot=\"item.numbering\" slot-scope=\"props\">\r\n        {{ props.index + 1 }}\r\n      </template>\r\n      <template v-slot:[`item.vehicleNo`]=\"{ item }\">\r\n        <span v-if=\"item.vehicleNo\">\r\n          <div v-if=\"item.vehicleNo\">\r\n            {{ item.vehicleNo.toUpperCase() }}\r\n          </div>\r\n        </span>\r\n        <span v-else>TBA</span>\r\n      </template>\r\n      <template v-slot:[`item.dateOfAssign`]=\"{ item }\">\r\n        {{ formatDate(item.dateOfAssign) }}\r\n      </template>\r\n      <template v-slot:[`item.days`]=\"{ item }\">\r\n        {{ dateDiff(moment(item.dateOfAssign).format(), moment().format()) }}\r\n        Day(s)\r\n      </template>\r\n\r\n      <template v-slot:[`item.adjuster`]=\"{ item }\">\r\n        <span v-if=\"item.adjuster\">\r\n          <div v-for=\"adjuster in filterUser(item.adjuster)\" :key=\"adjuster.id\">\r\n            {{ adjuster.username }}\r\n          </div>\r\n        </span>\r\n        <span v-else>TBA</span>\r\n      </template>\r\n      <template v-slot:[`item.fileStatus`]=\"{ item }\">\r\n        <v-tooltip left transition=\"fab-transition\">\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-icon\r\n              v-if=\"item.flag === 1\"\r\n              small\r\n              color=\"green lighten-1\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            >\r\n              <!-- mdi-check-decagram-outline -->\r\n              mdi-shield-check\r\n            </v-icon>\r\n            <v-icon\r\n              v-if=\"item.flag === 2\"\r\n              small\r\n              color=\"orange lighten-1\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            >\r\n              <!-- mdi-alarm-light-off-outline -->\r\n              mdi-shield-half-full\r\n            </v-icon>\r\n            <v-icon\r\n              v-if=\"item.flag === 3\"\r\n              small\r\n              color=\"red darken-5\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            >\r\n              <!-- mdi-alarm-light-off-outline -->\r\n              mdi-shield-alert-outline\r\n            </v-icon>\r\n          </template>\r\n          <!-- <span> {{ item.flag ? \"Genuine\" : \"Suspected Fraud\" }}</span> -->\r\n          <span v-if=\"item.flag === 1\">GENUINE</span>\r\n          <span v-if=\"item.flag === 2\">SUSPECTED FRAUD</span>\r\n          <span v-if=\"item.flag === 3\">FRAUD</span>\r\n        </v-tooltip>\r\n\r\n        <span\r\n          v-for=\"allStatus in filterStages(item.fileStatus)\"\r\n          :key=\"allStatus.id\"\r\n          v-bind=\"allStatus.item\"\r\n        >\r\n          <v-chip label outlined block x-small>\r\n            {{ allStatus.name }}\r\n          </v-chip>\r\n        </span>\r\n      </template>\r\n\r\n      <template v-slot:[`item.id`]=\"{ item }\">\r\n        <tr class=\"font-weight-black d-flex\">\r\n          AA/\r\n          <div v-for=\"dept in filterDept(item.refType)\" :key=\"dept.id\">\r\n            {{ dept.name\r\n            }}<span\r\n              v-for=\"(subDept, index) in filterSubDept(item.subRefType)\"\r\n              :key=\"index\"\r\n              >/{{ subDept.subCode }}</span\r\n            >\r\n          </div>\r\n          /{{\r\n            item.id\r\n          }}/{{\r\n            yearOnly(item.createdAt)\r\n          }}\r\n          <div\r\n            v-for=\"(branch, index) in filterBranch(item.branch)\"\r\n            :key=\"index\"\r\n          >\r\n            /{{ branch.brCode }}\r\n          </div>\r\n        </tr>\r\n      </template>\r\n\r\n      <!-- <template v-slot:[`item.fileStatus`]=\"{ item }\">\r\n        <span\r\n          v-for=\"allStatus in filterStages(item.fileStatus)\"\r\n          :key=\"allStatus.id\"\r\n        >\r\n          {{ allStatus.name }}\r\n        </span>\r\n      </template> -->\r\n\r\n      <template v-slot:[`item.insurer`]=\"{ item }\">\r\n        <div v-for=\"ins in filterIns(item.insurer)\" :key=\"ins.id\">\r\n          <div class=\"text-truncate\" style=\"max-width: 80px\">\r\n            {{ ins.name }}\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:[`item.dateOfLoss`]=\"{ item }\">\r\n        {{ formatDate(item.dateOfLoss) }}\r\n      </template>\r\n      <template v-slot:[`item.placeOfLoss`]=\"{ item }\">\r\n        <!-- {{ formatDate(item.dateOfLoss) }} -->\r\n        <span v-if=\"item.placeOfLoss\"> {{ item.placeOfLoss }}, </span>\r\n\r\n        <span v-for=\"state in filterStates(item.stateOfLoss)\" :key=\"state.id\"\r\n          >{{ state.name }}\r\n        </span>\r\n      </template>\r\n      <!-- <template v-slot:[`item.id`]=\"{ item }\">\r\n        <tr\r\n          class=\"font-weight-black\"\r\n          style=\"cursor: pointer\"\r\n          @click=\"viewItem(item.id)\"\r\n        >\r\n          AA/{{\r\n            item.refType\r\n          }}/{{\r\n            item.id\r\n          }}/{{\r\n            item.year\r\n          }}/{{\r\n            item.branch\r\n          }}\r\n        </tr>\r\n      </template> -->\r\n    </v-data-table>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport CasefileDataService from \"../../services/CasefileDataService\";\r\nimport BranchDataService from \"../../services/BranchDataService\";\r\nimport StateDataService from \"../../services/StateDataService\";\r\nimport DeptDataService from \"../../services/DeptDataService\";\r\nimport SubRefTypeDataService from \"../../services/SubDeptDataService\";\r\nimport InsDataService from \"../../services/InsDataService\";\r\nimport StagesDataService from \"../../services/StageDataService\";\r\nimport MemberDataService from \"../../services/MemberDataService\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"detail-by-ref\",\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      loadTable: true,\r\n      headers: [\r\n        // {\r\n        //   text: \"File Reference\",\r\n        //   align: \"start\",\r\n        //   value: \"id\",\r\n        // },\r\n        // { text: \"Status\", value: \"fileStatus\" },\r\n        // { text: \"Insurer\", value: \"insurer\" },\r\n        // { text: \"Insurers Reference\", value: \"claimNo\" },\r\n        // { text: \"Date Of Loss\", value: \"dateOfLoss\" },\r\n        // { text: \"Place Of Loss\", value: \"placeOfLoss\" },\r\n\r\n        {\r\n          text: \"NO.\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          value: \"numbering\",\r\n        },\r\n        {\r\n          text: \"VEHICLE NO.\",\r\n          align: \"center\",\r\n          value: \"vehicleNo\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"AA REF\",\r\n          align: \"start\",\r\n          value: \"id\",\r\n          sortable: false,\r\n        },\r\n\r\n        {\r\n          text: \"INSURER\",\r\n          align: \"start\",\r\n          value: \"insurer\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"DOA\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          value: \"dateOfAssign\",\r\n        },\r\n        {\r\n          text: \"DAYS\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          value: \"days\",\r\n        },\r\n        {\r\n          text: \"ADJUSTER\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          value: \"adjuster\",\r\n        },\r\n        {\r\n          text: \"STATUS\",\r\n          align: \"center\",\r\n          value: \"fileStatus\",\r\n          sortable: false,\r\n        },\r\n      ],\r\n      casefiles: [],\r\n      departments: [],\r\n      subRefTypes: [],\r\n      branches: [],\r\n      states: [],\r\n      insurer: [],\r\n      members: [],\r\n      stages: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.retrieveCasefiles(\r\n      this.$route.params.fileStatus && this.$route.params.refType\r\n    );\r\n    this.retrieveDepts();\r\n    this.retrieveSubRefType();\r\n    this.retrieveBranches();\r\n    this.retrieveStates();\r\n    this.retrieveIns();\r\n    this.retrieveMembers();\r\n    this.retrieveStages();\r\n  },\r\n\r\n  computed: {\r\n    filteredCasefiles() {\r\n      if (\r\n        this.$store.state.auth.user.roles.includes(\"MANAGER\") ||\r\n        this.$store.state.auth.user.roles.includes(\"ADMIN\")\r\n      ) {\r\n        return this.casefiles.filter((casefile) => {\r\n          return (\r\n            casefile.fileStatus === this.$route.params.fileStatus &&\r\n            casefile.refType == this.$route.params.refType\r\n          );\r\n        });\r\n      } else if (\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHCLERK\") ||\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHMANAGER\")\r\n      ) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            x.fileStatus === this.$route.params.fileStatus &&\r\n            x.refType == this.$route.params.refType\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"ADJUSTER\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.adjuster) &&\r\n            x.fileStatus === this.$route.params.fileStatus &&\r\n            x.refType == this.$route.params.refType\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"EDITOR\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.editor) &&\r\n            x.fileStatus === this.$route.params.fileStatus &&\r\n            x.refType == this.$route.params.refType\r\n        );\r\n      } else\r\n        return this.casefiles.filter((casefile) => {\r\n          return (\r\n            casefile.fileStatus === this.$route.params.fileStatus &&\r\n            casefile.refType == this.$route.params.refType\r\n          );\r\n        });\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    moment: function (date) {\r\n      return moment(date);\r\n    },\r\n    filterBranch(item) {\r\n      return this.branches.filter((branch) => branch.id === item);\r\n    },\r\n    filterStates(item) {\r\n      return this.states.filter((state) => state.id === item);\r\n    },\r\n    filterDept(item) {\r\n      return this.departments.filter((dept) => dept.id === item);\r\n    },\r\n    filterSubDept(item) {\r\n      return this.subRefTypes.filter((subRef) => subRef.id === item);\r\n    },\r\n    filterIns(item) {\r\n      return this.insurer.filter((insurer) => insurer.id === item);\r\n    },\r\n    filterUser(item) {\r\n      return this.members.filter((member) => member.id === item);\r\n    },\r\n    filterStages(item) {\r\n      return this.stages.filter((stage) => stage.stageCode === item);\r\n    },\r\n    yearOnly(value) {\r\n      // return moment(value).format(\"YYYY\");\r\n      return moment(value).format(\"YY\");\r\n    },\r\n    formatDate(value) {\r\n      return moment(value).format(\"DD/MM/YYYY\");\r\n    },\r\n    dateDiff(startDateString, endDateString) {\r\n      let start = moment(startDateString);\r\n      let end = moment(endDateString);\r\n      let duration = moment.duration(end.diff(start));\r\n      return Math.round(duration.asDays());\r\n    },\r\n    retrieveCasefiles() {\r\n      CasefileDataService.getAllStatusRefType(\r\n        this.$route.params.fileStatus,\r\n        this.$route.params.refType\r\n      )\r\n        .then((response) => {\r\n          this.casefiles = response.data;\r\n          this.loadTable = false;\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"Error fetching casefiles:\", e);\r\n          this.loadTable = false;\r\n        });\r\n    },\r\n    retrieveDepts() {\r\n      DeptDataService.getAll()\r\n        .then((response) => {\r\n          this.departments = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveSubRefType() {\r\n      SubRefTypeDataService.getAll()\r\n        .then((response) => {\r\n          this.subRefTypes = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveBranches() {\r\n      BranchDataService.getAll()\r\n        .then((response) => {\r\n          this.branches = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveStates() {\r\n      StateDataService.getAll()\r\n        .then((response) => {\r\n          this.states = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveIns() {\r\n      InsDataService.getAll()\r\n        .then((response) => {\r\n          this.insurer = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveMembers() {\r\n      MemberDataService.getAll()\r\n        .then((response) => {\r\n          this.members = response.data.filter((item) =>\r\n            item.roles.some((b) => b.roleCode === \"adjuster\")\r\n          );\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    retrieveStages() {\r\n      StagesDataService.getAll()\r\n        .then((response) => {\r\n          this.stages = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    viewItem(id) {\r\n      this.$router.push({\r\n        name: \"vuexFile\",\r\n        params: { id: id.id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailByRef.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailByRef.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./detailByRef.vue?vue&type=template&id=27ff7b42\"\nimport script from \"./detailByRef.vue?vue&type=script&lang=js\"\nexport * from \"./detailByRef.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}