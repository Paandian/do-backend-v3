(function(e){function t(t){for(var a,r,l=t[0],o=t[1],c=t[2],d=0,u=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},n={app:0},i=[];function l(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-096742b6":"6e47e4ff","chunk-0a994422":"effd037c","chunk-13a66c1c":"f9415eee","chunk-18fed119":"89fb9e81","chunk-194d3724":"0f10bc71","chunk-22ffe50d":"7c510ce4","chunk-252c9079":"4f588890","chunk-2d0a2df0":"3d3b591f","chunk-2d0b6339":"275ea8a6","chunk-2d0c9388":"34b2fb49","chunk-2d0d7c06":"665b4a17","chunk-2d0db490":"2a2d66b9","chunk-2d0dd47c":"f97d3f07","chunk-2d0df849":"d8a44f4b","chunk-2d0e521d":"e47b5e02","chunk-2d0e8bc0":"03ced21b","chunk-2d216257":"58872a85","chunk-6acb04da":"8fe963b8","chunk-168b0bef":"9966288c","chunk-3324cb38":"f85d12bf","chunk-581877a4":"7c4f44cb","chunk-074b12e8":"64ba7346","chunk-2d216263":"a588f554","chunk-2d216d19":"1fb6a42e","chunk-2d21af88":"f28b77aa","chunk-2d21f29b":"a29be1ee","chunk-503eee76":"e297be52","chunk-657a8f98":"a4cb8be7","chunk-5d674c98":"c97a6e41","chunk-5df8963d":"bb91a927","chunk-78538b25":"b4537b00","chunk-7aacc23c":"f85e2361","chunk-c5685398":"4be6e1e7","chunk-fa07f1a0":"276c97cc","chunk-086a213a":"7f9992c7","chunk-2d209639":"97670acb","chunk-2d216214":"1f54003d"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s={"chunk-096742b6":1,"chunk-194d3724":1,"chunk-22ffe50d":1,"chunk-252c9079":1,"chunk-168b0bef":1,"chunk-3324cb38":1,"chunk-581877a4":1,"chunk-074b12e8":1,"chunk-503eee76":1,"chunk-657a8f98":1,"chunk-5df8963d":1,"chunk-78538b25":1,"chunk-7aacc23c":1,"chunk-fa07f1a0":1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=new Promise((function(t,s){for(var a="css/"+({}[e]||e)+"."+{"chunk-096742b6":"c3c4f225","chunk-0a994422":"31d6cfe0","chunk-13a66c1c":"31d6cfe0","chunk-18fed119":"31d6cfe0","chunk-194d3724":"4ce7a121","chunk-22ffe50d":"ecf8f88c","chunk-252c9079":"b6a9c0d8","chunk-2d0a2df0":"31d6cfe0","chunk-2d0b6339":"31d6cfe0","chunk-2d0c9388":"31d6cfe0","chunk-2d0d7c06":"31d6cfe0","chunk-2d0db490":"31d6cfe0","chunk-2d0dd47c":"31d6cfe0","chunk-2d0df849":"31d6cfe0","chunk-2d0e521d":"31d6cfe0","chunk-2d0e8bc0":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-6acb04da":"31d6cfe0","chunk-168b0bef":"0bce51bc","chunk-3324cb38":"503dd2b8","chunk-581877a4":"e09d5f2e","chunk-074b12e8":"a20ad025","chunk-2d216263":"31d6cfe0","chunk-2d216d19":"31d6cfe0","chunk-2d21af88":"31d6cfe0","chunk-2d21f29b":"31d6cfe0","chunk-503eee76":"76a811a3","chunk-657a8f98":"f152fb25","chunk-5d674c98":"31d6cfe0","chunk-5df8963d":"9588358d","chunk-78538b25":"06109613","chunk-7aacc23c":"85b53cc9","chunk-c5685398":"31d6cfe0","chunk-fa07f1a0":"5d5bedda","chunk-086a213a":"31d6cfe0","chunk-2d209639":"31d6cfe0","chunk-2d216214":"31d6cfe0"}[e]+".css",n=o.p+a,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===n))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){c=u[l],d=c.getAttribute("data-href");if(d===a||d===n)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||n,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],m.parentNode.removeChild(m),s(i)},m.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){r[e]=0})));var a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,s){a=n[e]=[t,s]}));t.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=l(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(m);var s=n[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,s[1](u)}n[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var m=d;i.push([1,"chunk-vendors"]),s()})({0:function(e,t){},"0046":function(e,t,s){},"02ba":function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/regions")}get(e){return a["a"].get("/regions/"+e)}create(e){return a["a"].post("/regions",e)}update(e,t){return a["a"].put("/regions/"+e,t)}delete(e){return a["a"].delete("/regions/"+e)}deleteAll(){return a["a"].delete("/regions")}findByRegion(e){return a["a"].get("/regions?name="+e)}}t["a"]=new r},"061e":function(e,t,s){"use strict";var a=s("c427");class r{mailData(e){return a["a"].post("/send",e,{headers:{"Content-Type":"multipart/form-data"}})}assignBranch(e){return a["a"].post("/send/branch",e,{headers:{"Content-Type":"multipart/form-data"}})}assignAdj(e){return a["a"].post("/send/adjuster",e,{headers:{"Content-Type":"multipart/form-data"}})}assignEditor(e){return a["a"].post("/send/editor",e,{headers:{"Content-Type":"multipart/form-data"}})}editorAccept(e){return a["a"].post("/send/editorAccept",e,{headers:{"Content-Type":"multipart/form-data"}})}managerApproval(e){return a["a"].post("/send/managerApproval",e,{headers:{"Content-Type":"multipart/form-data"}})}assignClerk(e){return a["a"].post("/send/assignClerk",e,{headers:{"Content-Type":"multipart/form-data"}})}}t["a"]=new r},"0a51":function(e,t,s){"use strict";s("39f3")},"0c04":function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/bulletins")}get(e){return a["a"].get("/bulletins/"+e)}create(e){return a["a"].post("/bulletins",e)}update(e,t){return a["a"].put("/bulletins/"+e,t)}delete(e){return a["a"].delete("/bulletins/"+e)}deleteAll(){return a["a"].delete("/bulletins")}findByBulletin(e){return a["a"].get("/bulletins?newsTitle="+e)}}t["a"]=new r},"0cbf":function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/tatcharts")}get(e){return a["a"].get("/tatcharts/"+e)}create(e){return a["a"].post("/tatcharts",e)}update(e,t){return a["a"].put("/tatcharts/"+e,t)}delete(e){return a["a"].delete("/tatcharts/"+e)}deleteAll(){return a["a"].delete("/tatcharts")}findByRegion(e){return a["a"].get("/tatcharts?name="+e)}}t["a"]=new r},1:function(e,t,s){e.exports=s("56d7")},"107b":function(e,t,s){},"14a5":function(e,t,s){"use strict";s("62e7")},"1ab5":function(e,t,s){"use strict";s("847e")},"1f0e":function(e,t,s){"use strict";s("d6e0")},2:function(e,t){},"25bb":function(e,t,s){e.exports=s.p+"img/aasb-logo.d0bf795f.png"},"27b5":function(e,t,s){},3:function(e,t){},"304b":function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/states")}get(e){return a["a"].get("/states/"+e)}create(e){return a["a"].post("/states",e)}update(e,t){return a["a"].put("/states/"+e,t)}delete(e){return a["a"].delete("/states/"+e)}deleteAll(){return a["a"].delete("/states")}findByBranch(e){return a["a"].get("/states?name="+e)}}t["a"]=new r},"30ef":function(e,t,s){"use strict";const a={on(e,t){document.addEventListener(e,e=>t(e.detail))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};t["a"]=a},"39f3":function(e,t,s){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="4678"},5632:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/inss")}get(e){return a["a"].get("/inss/"+e)}create(e){return a["a"].post("/inss",e)}update(e,t){return a["a"].put("/inss/"+e,t)}delete(e){return a["a"].delete("/inss/"+e)}deleteAll(){return a["a"].delete("/inss")}}t["a"]=new r},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=s("7496"),n=s("8336"),i=s("b0af"),l=s("0789"),o=s("132d"),c=s("f6c4"),d=s("2db4"),u=s("f977"),m=function(){var e=this,t=e._self._c;return t(r["a"],[t("div",{attrs:{id:"the-content"}},[t(c["a"],[t("app-bar"),["login","forgot","reset","activate","NotFound"].includes(e.$route.name)?e._e():t("page-route-title"),t("keep-alive",[e.$route.meta.keepAlive?t("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():t("router-view")],1)],1),t("br"),t("staticFooter"),t(l["e"],{attrs:{group:""}},[e._l(e.visibleSnackbars,(function(s){return t(d["a"],{key:s.id,staticClass:"custom-snackbar",style:`margin-bottom: ${60*e.visibleSnackbars.indexOf(s)}px`,attrs:{color:s.color,timeout:e.timeout,app:"",right:"",elevation:6,shaped:""},on:{input:function(t){return e.onSnackbarHide(s.id)}},model:{value:s.showing,callback:function(t){e.$set(s,"showing",t)},expression:"snackbar.showing"}},[t(i["a"],{staticClass:"d-flex align-center",attrs:{flat:"",color:s.color,dark:""}},[t(o["a"],{staticClass:"ml-2",attrs:{left:"",size:"20"}},[e._v(" "+e._s(e.getSnackbarIcon(s.color))+" ")]),t("span",{staticClass:"mx-3 font-weight-medium"},[e._v(e._s(s.text))]),t(n["a"],{attrs:{icon:"","x-small":""},on:{click:function(e){s.showing=!1}}},[t(o["a"],{attrs:{size:"16"}},[e._v("mdi-close")])],1)],1)],1)}))],2),t(l["c"],[t(n["a"],{directives:[{name:"show",rawName:"v-show",value:e.offsetTop,expression:"offsetTop"},{def:u["b"],name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}],staticClass:"to-top-button",attrs:{fab:"",dark:"",fixed:"",bottom:"",color:"primary"},on:{click:e.toTop}},[t(o["a"],[e._v("mdi-chevron-up")])],1)],1)],1)},h=[],f=(s("e9f5"),s("910d"),s("2f62")),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"simple-footer"},[e.currentUser?t("span",{staticClass:"user-name"},[e._v(e._s(e.currentUser.fullname))]):e._e(),t("span",{staticClass:"copyright"},[e._v(" Licenced Loss Adjusters & Investigation Â© "+e._s((new Date).getFullYear())+" ")])])},b=[],g={name:"staticFooter",computed:{currentUser(){return this.$store.state.auth.user}}},v=g,y=(s("f0dd"),s("2877")),_=Object(y["a"])(v,p,b,!1,null,"6007454e",null),k=_.exports,C=s("40dc"),w=s("5bc1"),S=s("8212"),x=s("ce7e"),A=s("adda"),I=s("8860"),T=s("56b0"),D=s("da13"),O=s("5d23"),N=s("34c3"),E=s("f774"),L=s("2fa4"),j=s("2a7f"),R=s("3a2f"),$=function(){var e=this,t=e._self._c;return t("div",[e.currentUser?t(C["a"],{class:{"app-bar-shadow":e.isScrolled},attrs:{color:e.appBarColor,elevation:e.elevation,app:"",fixed:"",dense:""}},[t(w["a"],{on:{click:function(t){e.drawer=!0}}}),t(j["a"],[t("span",{staticClass:"d-block d-sm-none"},[e._v("Document Management")]),t("div",{staticClass:"d-none d-sm-block"},[t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/dashboard",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-monitor-dashboard")])],1)]}}],null,!1,564744786)},[t("span",[e._v("Dashboard")])]),t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/home",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-home-circle")])],1)]}}],null,!1,401123084)},[t("span",[e._v(" Home")])]),t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/listing",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-format-list-bulleted")])],1)]}}],null,!1,3205435895)},[t("span",[e._v(" Listing")])]),t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reports",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-clipboard-file")])],1)]}}],null,!1,1442824809)},[t("span",[e._v("Basic Report Generator")])]),t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reportsTwo",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-clipboard-search")])],1)]}}],null,!1,409900109)},[t("span",[e._v("Detail Report Generator")])]),e.showMerimen?t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/merimen-data",icon:""}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-inbox-arrow-down")])],1)]}}],null,!1,290371458)},[t("span",[e._v("Merimen")])]):e._e()],1)]),t(L["a"]),t("div",{staticClass:"custom-dropdown-container"},[t("div",{staticClass:"profile-btn",on:{click:e.toggleProfileMenu,mouseenter:e.showProfileMenu}},[t(S["a"],{attrs:{size:"36px"}},[e.currentUser.profile?t(A["a"],{attrs:{src:e.currentUser.profile,alt:e.currentUser.username},on:{error:e.handleAvatarError},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o["a"],[e._v("mdi-account")])]},proxy:!0}],null,!1,1925218037)}):t(o["a"],[e._v("mdi-account")])],1)],1),t("div",{staticClass:"dropdown-content",class:{show:e.isProfileMenuVisible},on:{mouseenter:e.cancelHideMenu,mouseleave:e.delayHideMenu}},[t("router-link",{staticClass:"dropdown-item",attrs:{to:"/welcome"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-hand-wave")]),t("span",[e._v("Welcome")])],1),t("div",{staticClass:"dropdown-divider"}),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/profile"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-account-circle")]),t("span",[e._v("My Profile")])],1),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/mytasks"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-clipboard-check")]),t("span",[e._v("My Tasks")])],1)],1)]),e.currentUser?t("div",[t(R["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{icon:""},on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},"v-btn",a,!1),s),[t(o["a"],[e._v("mdi-logout-variant")])],1)]}}],null,!1,4262698453)},[t("span",[e._v("Logout")])])],1):t("div",[t(n["a"],{staticClass:"text-decoration-none",attrs:{to:"/login",plain:""}},[t("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v("Login ")],1)],1)],1):e._e(),e.currentUser?t(E["a"],{attrs:{app:"",temporary:"","expand-on-hover":"",dark:"",src:s("9462")},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(I["a"],[t(D["a"],[t(O["a"],[t(O["c"],{staticClass:"text-h6"},[e._v(" "+e._s(e.currentUser.username)+" ")]),t(O["b"],[e._v(" "+e._s(e.currentUser.email)+" ")]),t(x["a"]),t(O["b"],{staticClass:"text-h7"},[t("strong",[e._v("Access:")])]),t(O["b"],{staticClass:"text-h8"},[t("ul",e._l(e.currentUser.roles,(function(s,a){return t("li",{key:a},[e._v(" "+e._s(s)+" ")])})),0)]),t(x["a"]),e.currentUser.branches&&e.currentUser.branches.length?t("div",[t(O["b"],{staticClass:"text-h7"},[t("strong",[e._v("Branch:")])]),t(O["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.branches,(function(s,a){return t("li",{key:a},e._l(e.filterStates(s),(function(s,a){return t("div",{key:a},[e._v(" "+e._s(s.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length?t("div",[t(O["b"],{staticClass:"text-h7"},[t("strong",[e._v("Department:")])]),t(O["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.dept,(function(s,a){return t("li",{key:a},e._l(e.filterDept(s),(function(s,a){return t("div",{key:a},[e._v(" "+e._s(s.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e()],1)],1)],1),t(x["a"]),e.showAdminBoard?t(I["a"],{attrs:{nav:"",dense:""}},e._l(e.adminlinks,(function(s,a){return t("div",{key:a},[s.subLinks?t(T["a"],{key:s.text,attrs:{"no-action":"","prepend-icon":s.icon,value:"admin"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("admin")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(O["c"],[e._v(e._s(s.text))])]},proxy:!0}],null,!0)},e._l(s.subLinks,(function(s){return t(D["a"],{key:s.text,staticClass:"text-decoration-none pl-5",attrs:{to:s.to,"active-class":"white--text"}},[t(N["a"],[t(o["a"],[e._v(e._s(s.icon))])],1),t(O["c"],[e._v(e._s(s.text))])],1)})),1):e._e()],1)})),0):e._e(),t(I["a"],{attrs:{nav:"",dense:""}},e._l(e.links,(function(s,a){return t("div",{key:a},[t(T["a"],{key:s.text,attrs:{"no-action":"","prepend-icon":s.icon,value:"dashboard"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("dasboard")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(O["c"],[e._v(e._s(s.text))])]},proxy:!0}],null,!0)},e._l(e.filteredSubLinks(s),(function(s){return t(D["a"],{key:s.text,staticClass:"text-decoration-none pl-5",attrs:{to:s.to,"active-class":"white--text"}},[t(N["a"],[t(o["a"],[e._v(e._s(s.icon))])],1),t(O["c"],[e._v(e._s(s.text))])],1)})),1)],1)})),0)],1):e._e()],1)},M=[],B=(s("14d9"),s("fde1")),U=s("cb28"),F=s("30ef"),P={components:{},name:"appBar",data:()=>({searchId:"",drawer:!1,profileMenu:!1,adminlinks:[{icon:"mdi-shield-lock-outline",text:"Admin",subLinks:[{text:"User",to:"/members",icon:"mdi-account-group"},{text:"Branch",to:"/branches",icon:"mdi-office-building"},{text:"Department",to:"/depts",icon:"mdi-domain"},{text:"File Classification",to:"/subDepts",icon:"mdi-file-tree"},{text:"State",to:"/states",icon:"mdi-map-marker"},{text:"District",to:"/districts",icon:"mdi-map"},{text:"Insurer",to:"/inss",icon:"mdi-shield-check"},{text:"TAT List",to:"/tatcharts",icon:"mdi-clock-outline"},{text:"Handler",to:"/handlers",icon:"mdi-account-tie"},{text:"Bulletin",to:"/bulletins",icon:"mdi-bulletin-board"}]}],links:[{icon:"mdi-menu",text:"Navigation",subLinks:[{to:"/dashboard",icon:"mdi-monitor-dashboard",text:"Dashboard"},{to:"/home",icon:"mdi-home-circle-outline",text:"Home"},{to:"/listing",icon:"mdi-format-list-bulleted",text:"Listing"},{to:"/reports",icon:"mdi-clipboard-file",text:"Basic Report Generator"},{to:"/reportsTwo",icon:"mdi-clipboard-search",text:"Detail Report Generator"},{text:"Merimen",to:"/merimen-data",icon:"mdi-inbox-arrow-down"}]}],branches:[],departments:[],activeMenu:null,isScrolled:!1,elevation:1,appBarColor:"transparent",isProfileMenuVisible:!1}),computed:{currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ADMIN")},showMerimen(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ADMIN")||this.currentUser.roles.includes("MANAGER")||this.currentUser.roles.includes("CLERK"))}},methods:{filterStates(e){return this.branches.filter(t=>t.id===e)},filterDept(e){return this.departments.filter(t=>t.id===e)},retrieveStates(){B["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepts(){U["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},logOut(){this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Successfully Logged Out!"}),this.$store.dispatch("auth/logout"),this.$router.push("/login")},handleMenuClick(e){this.activeMenu===e?this.activeMenu=null:this.activeMenu=e},filteredSubLinks(e){return e.subLinks.filter(e=>"Merimen"!==e.text||this.showMerimen)},handleScroll(){this.isScrolled=window.scrollY>0,this.elevation=this.isScrolled?6:1,this.appBarColor=this.isScrolled?"white":"transparent"},handleAvatarError(){this.$store.state.auth.user.profile=null},toggleProfileMenu(){this.isProfileMenuVisible=!this.isProfileMenuVisible},showProfileMenu(){this.isProfileMenuVisible=!0},hideProfileMenu(){this.isProfileMenuVisible=!1},cancelHideMenu(){clearTimeout(this.hideMenuTimeout)},delayHideMenu(){this.hideMenuTimeout=setTimeout(()=>{this.isProfileMenuVisible=!1},300)}},watch:{$route(){}},mounted(){this.retrieveStates(),this.retrieveDepts(),F["a"].on("logout",()=>{this.logOut()}),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){F["a"].remove("logout"),window.removeEventListener("scroll",this.handleScroll)}},H=P,q=(s("f390"),Object(y["a"])(H,$,M,!1,null,null,null)),Y=q.exports,G=s("cc20"),V=s("a523"),z=function(){var e=this,t=e._self._c;return t(V["a"],{staticClass:"pa-2",attrs:{fluid:""}},[t(i["a"],{staticClass:"d-flex align-center px-4 py-2",attrs:{flat:""}},[t(o["a"],{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-map-marker")]),t("span",{staticClass:"text-grey"},[e._v("You are here:")]),t(G["a"],{staticClass:"ml-2",attrs:{size:"small",variant:"flat"}},[e._v(" "+e._s(e.$route.meta.title)+" ")]),t(L["a"]),t(n["a"],{attrs:{"prepend-icon":"mdi-arrow-left",variant:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Return ")])],1)],1)},J=[],K={},W=Object(y["a"])(K,z,J,!1,null,null,null),Q=W.exports,X={data:()=>({fab:!1,timeout:2e3,left:!0,bottom:!0,offsetTop:0}),mounted(){this.overlay=!1},components:{staticFooter:k,appBar:Y,PageRouteTitle:Q},computed:{currentUser(){return this.$store.state.auth.user},...Object(f["c"])(["snackbars"]),visibleSnackbars(){return this.snackbars.filter(e=>e.showing).slice(0,3)}},methods:{onScroll(e){if("undefined"===typeof window)return;const t=window.pageYOffset||e.target.scrollTop||0;this.offsetTop=t>20},toTop(){this.$vuetify.goTo(0)},getSnackbarIcon(e){switch(e){case"success":return"mdi-check-circle-outline";case"error":return"mdi-alert-circle-outline";case"warning":return"mdi-alert-outline";case"info":return"mdi-information-outline";default:return"mdi-bell-outline"}},onSnackbarHide(e){this.$store.commit("REMOVE_SNACKBAR",e)}},watch:{snackbars:{handler(e){e.length>10&&this.$store.commit("CLEANUP_OLD_SNACKBARS")},deep:!0}}},Z=X,ee=(s("14a5"),Object(y["a"])(Z,m,h,!1,null,null,null)),te=ee.exports,se=(s("a732"),s("8c4f")),ae=s("bb51"),re=s("c6a6"),ne=s("99d9"),ie=s("62ad"),le=s("8fea"),oe=s("2e4b"),ce=s("169a"),de=s("e449"),ue=s("0fd9"),me=s("b974"),he=s("8654"),fe=s("a844"),pe=s("71d9"),be=function(){var e=this,t=e._self._c;return t(V["a"],{attrs:{fluid:""}},[t("div",[t(ue["a"],[t(ie["a"],{attrs:{cols:"12"}},[t(le["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.filteredCasefiles,"sort-by":["id"],"sort-desc":[!0],"footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,20,30,40,50,100]},"items-per-page":30,search:e.search,loading:e.loadTable,"loading-text":"Working on it ......","mobile-breakpoint":"1100"},on:{"click:row":t=>e.viewItem(t)},scopedSlots:e._u([{key:"top",fn:function(){return[t(pe["a"],{attrs:{flat:""}},[t(ce["a"],{attrs:{"max-width":"600px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(R["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(n["a"],e._g(e._b({attrs:{fab:"",small:"",color:"primary",dark:"",disabled:e.addCasefileDisabled}},"v-btn",a,!1),{...r,...s}),[t(o["a"],[e._v("mdi-plus")])],1)]}}],null,!0)},[t("span",[e._v("ADD CASEFILE")])])]}}]),model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[t(i["a"],{attrs:{tile:""}},[t(ne["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",{staticClass:"text-h5"},[e._v("ADD NEW CASE")])]),t(ne["c"],[t(V["a"],[t(ue["a"],[t(i["a"],{attrs:{width:"100%"}},[t(ne["d"],[e._v("Department")]),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.refType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0}]),model:{value:e.newItem.refType,callback:function(t){e.$set(e.newItem,"refType",t)},expression:"newItem.refType"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filtersubRefType(e.newItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.newItem.subRefType,callback:function(t){e.$set(e.newItem,"subRefType",t)},expression:"newItem.subRefType"}})],1)],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.branch,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch","persistent-hint":"",label:"Branch"},model:{value:e.newItem.branch,callback:function(t){e.$set(e.newItem,"branch",t)},expression:"newItem.branch"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(re["a"],{attrs:{items:e.insurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0}]),model:{value:e.newItem.insurer,callback:function(t){e.$set(e.newItem,"insurer",t)},expression:"newItem.insurer"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filterHandler(e.newItem.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:e.newItem.handler,callback:function(t){e.$set(e.newItem,"handler",t)},expression:"newItem.handler"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(he["a"],{attrs:{"item-text":"Insurer's Reference",label:"Insurers Reference Number",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.newItem.claimNo,callback:function(t){e.$set(e.newItem,"claimNo",t)},expression:"newItem.claimNo"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(de["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(he["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfAssignAdd,callback:function(t){e.ComputedDateOfAssignAdd=t},expression:"ComputedDateOfAssignAdd"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(oe["a"],{on:{change:function(t){e.menu=!1}},model:{value:e.newItem.dateOfAssign,callback:function(t){e.$set(e.newItem,"dateOfAssign",t)},expression:"newItem.dateOfAssign"}})],1)],1)]],2),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(he["a"],{attrs:{label:"Vehicle Number",hint:"Vehicle Number"},model:{value:e.newItem.vehicleNo,callback:function(t){e.$set(e.newItem,"vehicleNo",t)},expression:"newItem.vehicleNo"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(de["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(he["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfLossAdd,callback:function(t){e.ComputedDateOfLossAdd=t},expression:"ComputedDateOfLossAdd"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(oe["a"],{on:{change:function(t){e.menu1=!1}},model:{value:e.newItem.dateOfLoss,callback:function(t){e.$set(e.newItem,"dateOfLoss",t)},expression:"newItem.dateOfLoss"}})],1)],1)]],2),t(i["a"],{attrs:{width:"100%"}},[t(ne["d"],[e._v("Place Of Loss")]),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.state,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.newItem.stateOfLoss,callback:function(t){e.$set(e.newItem,"stateOfLoss",t)},expression:"newItem.stateOfLoss"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filterRegions(e.newItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state above","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.newItem.placeOfLoss,callback:function(t){e.$set(e.newItem,"placeOfLoss",t)},expression:"newItem.placeOfLoss"}})],1)],1),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{attrs:{label:"Insured Name"},model:{value:e.newItem.insuredName,callback:function(t){e.$set(e.newItem,"insuredName",t)},expression:"newItem.insuredName"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(fe["a"],{attrs:{label:"Insurers Comment"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Comment ")]},proxy:!0}]),model:{value:e.newItem.insComment,callback:function(t){e.$set(e.newItem,"insComment",t)},expression:"newItem.insComment"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[t(me["a"],{attrs:{items:e.stages,"item-text":"name","item-value":"stageCode","menu-props":{maxHeight:"400"},label:"FILE STATUS",hint:"Set File Status - Will be removed on Production version","persistent-hint":""},model:{value:e.newItem.fileStatus,callback:function(t){e.$set(e.newItem,"fileStatus",t)},expression:"newItem.fileStatus"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(L["a"]),t(n["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:e.closeAddDialog}},[e._v(" Cancel ")]),t(n["a"],{staticClass:"success mt-3",attrs:{disabled:e.isAddFileButtonDisabled,small:"",tile:""},on:{click:e.addCasefile}},[e._v("Submit")])],1)],1)],1)],1)],1)],1),t(ce["a"],{attrs:{"max-width":"600px",persistent:""},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[t(i["a"],{attrs:{tile:""}},[t(ne["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",{staticClass:"text-h5"},[e._v("EDIT CASEFILE")])]),t(ne["c"],[t(V["a"],[t(ue["a"],[t(i["a"],{attrs:{width:"100%"}},[t(ne["d"],[e._v("Department")]),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.refType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0}]),model:{value:e.editItem.refType,callback:function(t){e.$set(e.editItem,"refType",t)},expression:"editItem.refType"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filtersubRefType(e.editItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.editItem.subRefType,callback:function(t){e.$set(e.editItem,"subRefType",t)},expression:"editItem.subRefType"}})],1)],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.branch,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch","persistent-hint":"",label:"Branch"},model:{value:e.editItem.branch,callback:function(t){e.$set(e.editItem,"branch",t)},expression:"editItem.branch"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(re["a"],{attrs:{items:e.insurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0}]),model:{value:e.editItem.insurer,callback:function(t){e.$set(e.editItem,"insurer",t)},expression:"editItem.insurer"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filterHandler(e.editItem.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:e.editItem.handler,callback:function(t){e.$set(e.editItem,"handler",t)},expression:"editItem.handler"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(he["a"],{attrs:{"item-text":"Insurer's Reference",label:"Insurers Reference Number",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.editItem.claimNo,callback:function(t){e.$set(e.editItem,"claimNo",t)},expression:"editItem.claimNo"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(de["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(he["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfAssignEdit,callback:function(t){e.ComputedDateOfAssignEdit=t},expression:"ComputedDateOfAssignEdit"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(oe["a"],{on:{change:function(t){e.menu2=!1}},model:{value:e.editItem.dateOfAssign,callback:function(t){e.$set(e.editItem,"dateOfAssign",t)},expression:"editItem.dateOfAssign"}})],1)],1)]],2),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(he["a"],{attrs:{label:"Vehicle Number",hint:"Vehicle Number"},model:{value:e.editItem.vehicleNo,callback:function(t){e.$set(e.editItem,"vehicleNo",t)},expression:"editItem.vehicleNo"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(de["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(he["a"],e._g(e._b({attrs:{"prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfLossEdit,callback:function(t){e.ComputedDateOfLossEdit=t},expression:"ComputedDateOfLossEdit"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(oe["a"],{on:{change:function(t){e.menu3=!1}},model:{value:e.editItem.dateOfLoss,callback:function(t){e.$set(e.editItem,"dateOfLoss",t)},expression:"editItem.dateOfLoss"}})],1)],1)]],2),t(i["a"],{attrs:{width:"100%"}},[t(ne["d"],[e._v("Place Of Loss")]),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.state,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.editItem.stateOfLoss,callback:function(t){e.$set(e.editItem,"stateOfLoss",t)},expression:"editItem.stateOfLoss"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(me["a"],{attrs:{items:e.filterRegions(e.editItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state above","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.editItem.placeOfLoss,callback:function(t){e.$set(e.editItem,"placeOfLoss",t)},expression:"editItem.placeOfLoss"}})],1)],1),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{attrs:{label:"Insured Name"},model:{value:e.editItem.insuredName,callback:function(t){e.$set(e.editItem,"insuredName",t)},expression:"editItem.insuredName"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(fe["a"],{attrs:{label:"Insurers Comment"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Comment ")]},proxy:!0}]),model:{value:e.editItem.insComment,callback:function(t){e.$set(e.editItem,"insComment",t)},expression:"editItem.insComment"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[t(me["a"],{attrs:{items:e.stages,"item-text":"name","item-value":"stageCode","menu-props":{maxHeight:"400"},label:"FILE STATUS",hint:"Set File Status - Will be removed on Production version","persistent-hint":""},model:{value:e.editItem.fileStatus,callback:function(t){e.$set(e.editItem,"fileStatus",t)},expression:"editItem.fileStatus"}})],1),t(ie["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(L["a"]),t(n["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:e.closeEditDialog}},[e._v(" Cancel ")]),t(n["a"],{staticClass:"success mt-3",attrs:{disabled:e.isEditFileButtonDisabled,small:"",tile:""},on:{click:e.editCasefile}},[e._v("Submit")])],1)],1)],1)],1)],1)],1),t(ce["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(i["a"],[t(ne["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[e._v("Confirm delete? ")]),t(ne["a"],[t(L["a"]),t(n["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:e.closeDelete}},[e._v("No")]),t(n["a"],{staticClass:"error",attrs:{small:"",tile:""},on:{click:e.deleteItemConfirm}},[e._v("Yes")]),t(L["a"])],1)],1)],1),e.addcase?t(x["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}):e._e(),t(R["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(n["a"],e._g({attrs:{fab:"",small:"",color:"success",dark:"",to:"/home"}},{...s}),[t(o["a"],[e._v("mdi-home")])],1)]}}])},[t("span",[e._v("Home")])]),t(L["a"]),t(he["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:s}){return e._l(e.filterIns(s.insurer),(function(s){return t("div",{key:s.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(s.name)+" ")])])}))}},{key:"item.vehicleNo",fn:function({item:s}){return[s.vehicleNo?t("span",[s.vehicleNo?t("div",[e._v(" "+e._s(s.vehicleNo.toUpperCase())+" ")]):e._e()]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:s}){return[t("tr",{staticClass:"d-flex"},[e._v(" AA "),e._l(e.filterDept(s.refType),(function(a,r){return t("div",{key:r},[e._v(" /"+e._s(a.name)),e._l(e.filterSubDept(s.subRefType),(function(s,a){return t("span",{key:a},[e._v("/"+e._s(s.subCode))])}))],2)})),e._v(" /"+e._s(s.id)+"/"+e._s(e.yearOnly(s.dateOfAssign))+" "),e._l(e.filterBranches(s.branch),(function(s){return t("div",{key:s.id},[e._v(" /"+e._s(s.brCode)+" ")])}))],2)]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:s}){return[s.adjuster?t("span",e._l(e.filterUser(s.adjuster),(function(s){return t("div",{key:s.id},[e._v(" "+e._s(s.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:s}){return[t(R["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[1===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-check ")]):e._e(),2===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-half-full ")]):e._e(),3===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",r,!1),a),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===s.flag?t("span",[e._v("GENUINE")]):e._e(),2===s.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===s.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(s.fileStatus),(function(s){return t("span",e._b({key:s.id},"span",s.item,!1),[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(s.name)+" ")])],1)}))]}},{key:"item.actions",fn:function({item:s}){return[e.management?t("span",[t(R["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t(o["a"],e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.updateItem(s)}}},"v-icon",r,!1),a),[e._v(" mdi-pencil ")])]}}],null,!0)},[t("span",[e._v(" edit")])]),t(R["a"],{attrs:{right:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-1"},on:{click:function(t){return t.stopPropagation(),e.deleteItem(s)}}},"v-icon",r,!1),a),[e._v(" mdi-delete ")])]}}],null,!0)},[t("span",[e._v(" delete")])])],1):t("span",[t(o["a"],{staticClass:"mr-2",attrs:{small:"",disabled:""}},[e._v(" mdi-pencil ")]),t(o["a"],{staticClass:"mr-2",attrs:{small:"",disabled:""}},[e._v(" mdi-delete ")])],1)]}}],null,!0)})],1)],1)],1)])},ge=[],ve=(s("ab43"),s("304b")),ye=s("02ba"),_e=s("f983"),ke=s("5632"),Ce=s("f0cc"),we=s("d14b"),Se=s("8643"),xe=s("061e"),Ae=s("9df5"),Ie=s("c1df"),Te=s.n(Ie),De={name:"archive",components:{},data:()=>({message:"",addDialog:!1,editDialog:!1,dialogDelete:!1,casefiles:[],search:"",management:!1,addcase:!1,loadTable:!0,date:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,branch:[],state:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],members:[],handlers:[],newItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},editItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}),computed:{ComputedDateOfAssignAdd(){return this.formatDateMethod(this.newItem.dateOfAssign)},ComputedDateOfLossAdd(){return this.formatDateMethod(this.newItem.dateOfLoss)},ComputedDateOfAssignEdit(){return this.formatDateMethod(this.editItem.dateOfAssign)},ComputedDateOfLossEdit(){return this.formatDateMethod(this.editItem.dateOfLoss)},addCasefileDisabled(){return!this.addcase},currentUser(){return this.$store.state.auth.user},filteredCasefiles(){return this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("ADMIN")?this.casefiles:this.$store.state.auth.user.roles.includes("BRANCHCLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)):this.$store.state.auth.user.roles.includes("ADJUSTER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id===e.adjuster):this.$store.state.auth.user.roles.includes("EDITOR")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id===e.editor):this.casefiles},isAddFileButtonDisabled(){return!(this.newItem.refType&&this.newItem.insurer&&this.newItem.claimNo&&this.newItem.dateOfAssign&&this.newItem.dateOfLoss&&this.newItem.insComment)},isEditFileButtonDisabled(){return!(this.editItem.refType&&this.editItem.insurer&&this.editItem.claimNo&&this.editItem.dateOfAssign&&this.editItem.dateOfLoss&&this.editItem.insComment)},computedDateFormattedMomentjs(){return this.date?Te()(this.date).format("DD/MM/YY"):""}},watch:{addDialog(e){e||this.closeAddDialog()},editDialog(e){e||this.closeEditDialog()},dialogDelete(e){e||this.closeDelete()}},methods:{moment:function(e){return Te()(e)},handleSuccess(){alert("Export Success")},handleError(){alert("Error Exporting")},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},filtersubRefType(e){return this.subRefTypes.filter(t=>t.deptId===e)},filterHandler(e){return this.handlers.filter(t=>t.insId===e)},filterBranches(e){return this.branch.filter(t=>t.id===e)||"Not Found"},filterBranchesEmail(e){if(!e)return"TBA";const t=this.branch.filter(t=>t.id===e);return t[0].name},filterTatMax(e){if(!e)return 0;const t=this.insurer.filter(t=>t.id===e);return t[0].tatMax},filterVehiclNo(e){return e?e.toLowerCase().replace(/\s/g,""):"TBA"},filterIns(e){return e?this.insurer.filter(t=>t.id===e):""},filterUser(e){return this.members.filter(t=>t.id===e)},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},checkManagement(){(this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER"))&&(this.management=!0)},checkAddCase(){(this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("CLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")||this.$store.state.auth.user.roles.includes("BRANCHCLERK"))&&(this.addcase=!0)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},formatDate(e){return Te()(e).format("DD/MM/YYYY")},formatDateMethod(e){return e?Te()(e).format("DD/MM/YYYY"):null},yearOnly(e){return Te()(e).format("YY")},dateDiff(e,t){let s=Te()(e),a=Te()(t),r=Te.a.duration(a.diff(s));return Math.round(r.asDays())},tatDiff(e,t,s,a){let r=Te()(e),n=Te()(t),i=Te.a.duration(n.diff(r)),l=Math.round(i.asDays()),o=a[0].stageCode;return l>s&&"CLO"!==o&&"CANC"!==o?l-s:""},retrieveCasefiles(){Ce["a"].getAll().then(e=>{this.casefiles=e.data.filter(e=>"CLO"===e.fileStatus||"CANC"===e.fileStatus),this.loadTable=!1}).catch(e=>{console.log(e)})},refreshList(){this.retrieveCasefiles()},retrieveDept(){U["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},retrieveSubRefType(){_e["a"].getAll().then(e=>{this.subRefTypes=e.data}).catch(e=>{console.log(e)})},retrieveStages(){we["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveIns(){ke["a"].getAll().then(e=>{this.insurer=e.data}).catch(e=>{console.log(e)})},retrieveMembers(){Ae["a"].getAll().then(e=>{this.members=e.data.filter(e=>e.roles.some(e=>"adjuster"===e.roleCode))}).catch(e=>{console.log(e)})},retrieveBranches(){B["a"].getAll().then(e=>{this.branch=e.data.map(this.getDisplayBranch)}).catch(e=>{console.log(e)})},getDisplayBranch(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},retrieveStates(){ve["a"].getAll().then(e=>{this.state=e.data.map(this.getDisplayState)}).catch(e=>{console.log(e)})},getDisplayState(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,stCode:e.stCode.length>30?e.stCode.substr(0,30)+"...":e.stCode}},retrieveRegions(){ye["a"].getAll().then(e=>{this.regions=e.data}).catch(e=>{console.log(e)})},retrieveHandlers(){Se["a"].getAll().then(e=>{this.handlers=e.data}).catch(e=>{console.log(e)})},updateItem(e){this.editItem=Object.assign({},e),this.editDialog=!0},deleteItem(e){this.editItem=Object.assign({},e),this.dialogDelete=!0},closeAddDialog(){this.addDialog=!1,this.$nextTick(()=>{this.newItem=Object.assign({})})},closeEditDialog(){this.editDialog=!1},closeDelete(){this.dialogDelete=!1},addCasefile(){this.message="";var e={refType:this.newItem.refType,subRefType:this.newItem.subRefType,branch:this.newItem.branch,insurer:this.newItem.insurer,handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.filterVehiclNo(this.newItem.vehicleNo),dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"},t={refType:this.filterDept(this.newItem.refType)[0].description,subRefType:this.filterSubDept(this.newItem.subRefType)[0].subCodeDesc,branch:this.filterBranchesEmail(this.newItem.branch),insurer:this.filterIns(this.newItem.insurer)[0].name,handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.newItem.vehicleNo.toLowerCase().replace(/\s/g,""),dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"};Ce["a"].create(e).then(e=>{this.closeAddDialog(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.refreshList(),this.data=""}).then(()=>{xe["a"].mailData(t).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()})}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e||toString()})}),this.dataEmail=""}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})}),this.closeAddDialog()},editCasefile(){var e={refType:this.editItem.refType,subRefType:this.editItem.subRefType,branch:this.editItem.branch,insurer:this.editItem.insurer,handler:this.editItem.handler,claimNo:this.editItem.claimNo,dateOfAssign:this.editItem.dateOfAssign,vehicleNo:this.editItem.vehicleNo.toLowerCase().replace(/\s/g,""),dateOfLoss:this.editItem.dateOfLoss,stateOfLoss:this.editItem.stateOfLoss,placeOfLoss:this.editItem.placeOfLoss,insuredName:this.editItem.insuredName,insComment:this.editItem.insComment,fileStatus:this.editItem.fileStatus};Ce["a"].update(this.editItem.id,e).then(e=>{this.closeEditDialog(),this.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:e&&e.data&&e.data.message||toString()}),this.refreshList()}).catch(e=>{console.log(e)}),this.closeEditDialog()},deleteItemConfirm(){Ce["a"].delete(this.editItem.id).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e&&e.data&&e.data.message||toString()}),this.refreshList()}).catch(e=>{console.log(e)}),this.closeDelete()}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveMembers(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.checkManagement(),this.checkAddCase(),this.retrieveHandlers()}},Oe=De,Ne=Object(y["a"])(Oe,be,ge,!1,null,null,null),Ee=Ne.exports,Le=s("71a3"),je=s("fe57"),Re=function(){var e=this,t=e._self._c;return t("div",[t(V["a"],{staticClass:"text-center",attrs:{fluid:""}},[t(je["a"],{model:{value:e.selectedTabIndex,callback:function(t){e.selectedTabIndex=t},expression:"selectedTabIndex"}},[t(Le["a"],{on:{click:function(t){e.dept=!0,e.branch=!1}}},[e._v("Department")]),t(Le["a"],{attrs:{dark:""},on:{click:function(t){e.branch=!0,e.dept=!1}}},[e._v("Branch")])],1),e.dept?t("deptTab"):e._e(),e.branch?t("brTab"):e._e()],1)],1)},$e=[],Me=s("ce87"),Be=function(){var e=this,t=e._self._c;return t(V["a"],[t(ue["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredRefType,(function(a,r){return[t(ie["a"],{key:r,attrs:{align:"center"}},[t(Me["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:r}){return[t(i["a"],{class:{"on-hover":r,highlighted:a.id===e.highlightedDeptId},attrs:{width:"300px",shaped:"",elevation:r||a.id===e.highlightedDeptId?12:2},on:{click:function(t){return e.viewItem(a.id)}}},[t(A["a"],{attrs:{src:s("dfb6"),height:"100px"}},[t(ne["d"],{staticClass:"text-h4 white--text"},[t(ue["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(a.name)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(a.description)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Ue=[],Fe={data(){return{refType:[],highlightedDeptId:null}},mounted(){this.retrieveDept(),this.$route.query.dept&&(this.highlightedDeptId=parseInt(this.$route.query.dept,10),this.$router.replace({path:this.$route.path}))},computed:{filteredRefType(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.refType:this.refType.filter(e=>this.$store.state.auth.user.dept.includes(e.id))}},methods:{retrieveDept(){U["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"refTabDetail",params:{id:e}})}}},Pe=Fe,He=(s("ac58"),Object(y["a"])(Pe,Be,Ue,!1,null,"d8cef326",null)),qe=He.exports,Ye=function(){var e=this,t=e._self._c;return t(V["a"],[t(ue["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredBranch,(function(a,r){return[t(ie["a"],{key:r,attrs:{align:"center"}},[t(Me["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:r}){return[t(i["a"],{class:{"on-hover":r,highlighted:a.id===e.highlightedBranchId},attrs:{width:"300px",shaped:"",elevation:r||a.id===e.highlightedBranchId?12:2},on:{click:function(t){return e.viewItem(a.id)}}},[t(A["a"],{attrs:{src:s("f31f"),height:"100px"}},[t(ne["d"],{staticClass:"text-h4 white--text"},[t(ue["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(a.brCode)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(a.name)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Ge=[],Ve={data(){return{branch:[],highlightedBranchId:null}},mounted(){this.retrieveBr(),this.$route.query.branch&&(this.highlightedBranchId=parseInt(this.$route.query.branch,10),this.$router.replace({path:this.$route.path}))},computed:{filteredBranch(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.branch:this.branch.filter(e=>this.$store.state.auth.user.branches.includes(e.id))}},methods:{retrieveBr(){B["a"].getAll().then(e=>{this.branch=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"brTabDetail",params:{id:e}})}}},ze=Ve,Je=(s("1f0e"),Object(y["a"])(ze,Ye,Ge,!1,null,"2ecd4472",null)),Ke=Je.exports,We={name:"listing",components:{deptTab:qe,brTab:Ke},data(){return{dept:!0,branch:!1,selectedTabIndex:0}},created(){const e=localStorage.getItem("selectedTab");"branch"===e?(this.dept=!1,this.branch=!0,this.selectedTabIndex=1):(this.dept=!0,this.branch=!1,this.selectedTabIndex=0),localStorage.removeItem("selectedTab")}},Qe=We,Xe=Object(y["a"])(Qe,Re,$e,!1,null,null,null),Ze=Xe.exports,et=function(){var e=this,t=e._self._c;return t(V["a"],{staticStyle:{width:"80%"},attrs:{fluid:""}},[t("div",[t(ue["a"],[t(ie["a"],{attrs:{cols:"12"}},[t(le["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.casefiles,search:e.search,loading:e.loadTable,"loading-text":"Working on it ......"},on:{"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(pe["a"],{attrs:{flat:""}},[t(he["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:s}){return e._l(e.filterIns(s.insurer),(function(s){return t("div",{key:s.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(s.name)+" ")])])}))}},{key:"item.id",fn:function({item:s}){return[t("tr",{staticClass:"d-flex"},[e._v(" AA "),e._l(e.filterDept(s.refType),(function(a,r){return t("div",{key:r},[e._v(" /"+e._s(a.name)),e._l(e.filterSubDept(s.subRefType),(function(s,a){return t("span",{key:a},[e._v("/"+e._s(s.subCode))])}))],2)})),e._v(" /"+e._s(s.id)+"/"+e._s(e.yearOnly(s.createdAt))+" "),e._l(e.filterStates(s.branch),(function(s){return t("div",{key:s.id},[e._v(" /"+e._s(s.brCode)+" ")])}))],2)]}},{key:"item.dateOfLoss",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfLoss))+" ")]}},{key:"item.fileStatus",fn:function({item:s}){return[t(R["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[1===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-check ")]):e._e(),2===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-half-full ")]):e._e(),3===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",r,!1),a),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===s.flag?t("span",[e._v("GENUINE")]):e._e(),2===s.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===s.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(s.fileStatus),(function(s){return t("span",e._b({key:s.id},"span",s.item,!1),[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(s.name)+" ")])],1)}))]}}],null,!0)})],1)],1)],1)])},tt=[],st={name:"find",data:()=>({casefiles:[],search:"",loadTable:!0,branch:[],state:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],handlers:[],newItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},editItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AASB REFERENCE",align:"start",value:"id",sortable:!1},{text:"CLAIM NO.",align:"start",sortable:!1,value:"claimNo"},{text:"DATE OF LOSS",align:"start",sortable:!1,value:"dateOfLoss"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}),computed:{},watch:{},methods:{filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},filtersubRefType(e){return this.subRefTypes.filter(t=>t.deptId===e)},filterHandler(e){return this.handlers.filter(t=>t.insId===e)},filterStates(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},viewItem(e){this.$router.push({name:"findfile",params:{id:e.id}})},formatDate(e){return Te()(e).format("DD/MM/YYYY")},yearOnly(e){return Te()(e).format("YY")},retrieveCasefiles(){Ce["a"].getAll().then(e=>{this.casefiles=e.data,this.loadTable=!1}).catch(e=>{console.log(e)})},refreshList(){this.retrieveCasefiles()},retrieveDept(){U["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},retrieveSubRefType(){_e["a"].getAll().then(e=>{this.subRefTypes=e.data}).catch(e=>{console.log(e)})},retrieveStages(){we["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveIns(){ke["a"].getAll().then(e=>{this.insurer=e.data}).catch(e=>{console.log(e)})},retrieveBranches(){B["a"].getAll().then(e=>{this.branch=e.data.map(this.getDisplayBranch)}).catch(e=>{console.log(e)})},getDisplayBranch(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},retrieveStates(){ve["a"].getAll().then(e=>{this.state=e.data.map(this.getDisplayState)}).catch(e=>{console.log(e)})},getDisplayState(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,stCode:e.stCode.length>30?e.stCode.substr(0,30)+"...":e.stCode}},retrieveRegions(){ye["a"].getAll().then(e=>{this.regions=e.data}).catch(e=>{console.log(e)})},retrieveHandlers(){Se["a"].getAll().then(e=>{this.handlers=e.data}).catch(e=>{console.log(e)})}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.retrieveHandlers()}},at=st,rt=Object(y["a"])(at,et,tt,!1,null,null,null),nt=rt.exports,it=s("0798"),lt=function(){var e=this,t=e._self._c;return t("body",[t(i["a"],{staticClass:"transparent justify-center align-center text-center",attrs:{flat:""}},[t(ue["a"],[t(ie["a"],{attrs:{cols:"2"}}),t(ie["a"],{staticClass:"white--text text-center",attrs:{cols:"8",color:"white"}},[t(ne["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Forgot your password? "),t("br"),e._v(" Please provide emaill address for assistance.")])],1),t(ie["a"],{attrs:{cols:"2"}})],1)],1),t(i["a"],{staticClass:"fill-height pa-0 ma-auto",attrs:{"max-width":"1000",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ue["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[e.message?t(ie["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(it["a"],{attrs:{width:"90%",type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),e.message2?t(ie["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(it["a"],{attrs:{width:"90%",type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")])],1):e._e(),t(ie["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"4",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:s("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.resetlink.apply(null,arguments)}}},[t(ue["a"],{attrs:{"no-gutters":""}},[t(ie["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(he["a"],{attrs:{rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(n["a"],{attrs:{disabled:e.isEmptyForm,tile:"",block:"",color:"blue",type:"submit"}},[e._v(" Help me ")])],1)],1)],1),t(ue["a"],{staticClass:"mt-1"},[t(ne["c"],{staticClass:"text-right ma-0 pa-0"},[t(n["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},ot=[],ct={name:"forgot",data(){return{message:"",message2:"",user:{email:""},rules:{emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!this.user.email}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{resetlink(){this.message="",this.message2="";var e={email:this.user.email};Ae["a"].resetlink(e).then(e=>{this.message2=e&&e.data&&e.data.message||toString()},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()}),this.$refs.form.reset()}},mounted(){}},dt=ct,ut=(s("98a8"),Object(y["a"])(dt,lt,ot,!1,null,"32c608f2",null)),mt=ut.exports,ht=s("4bd4"),ft=s("8e36"),pt=s("7e85"),bt=s("e516"),gt=s("9c54"),vt=s("56a4"),yt=function(){var e=this,t=e._self._c;return t("body",[t(ue["a"],[t(ie["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(ne["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Reset password!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ue["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ie["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:s("25bb")}}),t(pt["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(gt["a"],[t(vt["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(x["a"]),t(vt["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(x["a"]),t(vt["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(it["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(gt["b"],[t(bt["a"],{attrs:{step:"1"}},[t(ht["a"],{ref:"form"},[t(i["a"],[t(ne["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(he["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(he["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(ne["a"],[t(n["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(n["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(bt["a"],{attrs:{step:"2"}},[t(ht["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(ne["c"],[e._v(" Key in new password ")]),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ft["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:s}){return[t("strong",[e._v(e._s(Math.ceil(s))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(ne["a"],[t(n["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(bt["a"],{attrs:{step:"3"}},[e.message2?t(ie["a"],{staticClass:"ma-auto"},[t(it["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(ne["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ue["a"],{staticClass:"mt-1"},[t(ne["c"],{staticClass:"text-right ma-0 pa-0"},[t(n["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},_t=[],kt=s("580e"),Ct=s.n(kt),wt={name:"reset",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>Ct()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=Ct()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};Ae["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};Ae["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},St=wt,xt=(s("c7a3"),Object(y["a"])(St,yt,_t,!1,null,"72672027",null)),At=xt.exports,It=function(){var e=this,t=e._self._c;return t("body",[t(ue["a"],[t(ie["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(ne["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Activate User Account!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ue["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ie["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:s("25bb")}}),t(pt["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(gt["a"],[t(vt["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(x["a"]),t(vt["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(x["a"]),t(vt["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(it["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(gt["b"],[t(bt["a"],{attrs:{step:"1"}},[t(ht["a"],{ref:"form"},[t(i["a"],[t(ne["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(he["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(he["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(ne["a"],[t(n["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(n["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(bt["a"],{attrs:{step:"2"}},[t(ht["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(ne["c"],[e._v(" Key in new password ")]),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ft["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:s}){return[t("strong",[e._v(e._s(Math.ceil(s))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(he["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(ne["a"],[t(n["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(bt["a"],{attrs:{step:"3"}},[e.message2?t(ie["a"],{staticClass:"ma-auto"},[t(it["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(ne["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ue["a"],{staticClass:"mt-1"},[t(ne["c"],{staticClass:"text-right ma-0 pa-0"},[t(n["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},Tt=[],Dt={name:"activate",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>Ct()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=Ct()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};Ae["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};Ae["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},Ot=Dt,Nt=(s("0a51"),Object(y["a"])(Ot,It,Tt,!1,null,"19b8c066",null)),Et=Nt.exports,Lt=s("afd9"),jt=function(){var e=this,t=e._self._c;return t("body",[t(ue["a"],[t(ie["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(ne["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Welcome to Associated Adjusters Online Reporting System")])],1)],1),t(i["a"],{staticClass:"pa-auto ma-auto",attrs:{outlined:"",tile:"",color:"transparent"}},[t("div",[t(ue["a"],{staticClass:"pa-0"},[t(ie["a"],{attrs:{cols:"12",lg:"3"}}),t(ie["a"],{staticClass:"fill-height d-flex justify-center",attrs:{cols:"12",lg:"3",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:s("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t(ue["a"],{attrs:{"no-gutters":""}},[t(ie["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(he["a"],{attrs:{name:"email",value:"",type:"text",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ie["a"],{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[t(he["a"],{attrs:{name:"password",type:"password",label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t(ie["a"],{attrs:{cols:"12"}},[t(n["a"],{staticClass:"primary",attrs:{tile:"",block:"",disabled:e.isEmptyForm,type:"submit"}},[e._v(" Login ")])],1)],1)],1),t(ue["a"],{staticClass:"mt-1"},[t(ne["c"],{staticClass:"text-right ma-0 pa-0"},[t(n["a"],{attrs:{plain:"",text:"",small:"",to:"/forgot"}},[e._v(" Forgot Password ")])],1)],1)],1)])],1),t(ie["a"],{staticClass:"d-none d-md-none d-lg-flex justify-center",attrs:{cols:"12",lg:"4"}},[t(i["a"],{staticClass:"transparent",attrs:{flat:"",width:"100%"}},[t(ie["a"],{staticClass:"pa-0 text-start"},[t(Lt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(L["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(s){return t(ie["a"],e._b({key:s.id},"v-col",s.item,!1),[t(it["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(e._s(s.newsTitle)),t("br"),t("small",[t("p",[e._v(" "+e._s(s.newsStory)+" ")])]),t("p",[e._v("- "+e._s(s.newsAuthor))]),t("p",[e._v(" "+e._s(e.formatDate(s.createdAt))+" ")])])],1)}))],2)],1),t(ie["a"],{staticClass:"d-lg-none d-flex justify-center",attrs:{cols:"12"}},[t(i["a"],{staticClass:"transparent px-3",attrs:{"max-width":"600px",flat:""}},[t(ue["a"],[t(ie["a"],{staticClass:"align-center justify-center text-center",attrs:{cols:"12"}},[t(Lt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(L["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(s){return t(ie["a"],e._b({key:s.id,staticClass:"py-0",attrs:{cols:"12"}},"v-col",s.item,!1),[t(it["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(" "+e._s(s.newsTitle)+" - "+e._s(s.newsAuthor)+" - "+e._s(e.formatDate(s.createdAt))),t("span",{staticClass:"pl-3 caption",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.something(s.id)}}},[e._v("... read more")])])],1)}))],2)],1)],1)],1)],1)]),t(ce["a"],{model:{value:e.newsDialog,callback:function(t){e.newsDialog=t},expression:"newsDialog"}},[t(i["a"],[t(ne["c"],[t(ne["d"],[e._v(e._s(e.newBulletin.newsTitle))]),t(ne["c"],{staticClass:"text-subtitle-2"},[e._v(e._s(e.newBulletin.newsStory))]),t(ne["c"],{staticClass:"text-caption"},[e._v("- "+e._s(e.newBulletin.newsAuthor)+" - "+e._s(e.formatDate(e.newBulletin.createdAt)))])],1)],1)],1)],1)},Rt=[];class $t{constructor(e,t,s){this.username=e,this.email=t,this.password=s}}var Mt=s("0c04"),Bt={name:"Login",data(){return{user:new $t("",""),loading:!1,bulletins:[],newsDialog:!1,newBulletin:[]}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!(this.user.email&&this.user.password)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{something(e){this.newsDialog=!0;let t=this.bulletins.filter(t=>t.id===e);return this.newBulletin=t[0]},formatDate(e){return Te()(e).format("DD/MM/YYYY LT")},handleLogin(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.user.email&&this.user.password&&this.$store.dispatch("auth/login",this.user).then(()=>{this.$router.push("/welcome")},e=>{this.loading=!1,this.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})}):this.loading=!1})},retrieveBulletins(){Mt["a"].getAll().then(e=>{this.bulletins=e.data.slice(-2).reverse()}).catch(e=>{console.log(e)})},refreshList(){this.retrieveBulletins()},getDisplayBulletin(e){return{id:e.id,newsTitle:e.newsTitle.length>100?e.newsTitle.substr(0,100)+"...":e.newsTitle,newsStory:e.newsStory.length>200?e.newsStory.substr(0,200)+"...":e.newsStory,newsAuthor:e.newsAuthor.length>30?e.newsAuthor.substr(0,30)+"...":e.newsAuthor}}},mounted(){this.retrieveBulletins()}},Ut=Bt,Ft=(s("1ab5"),Object(y["a"])(Ut,jt,Rt,!1,null,"2c806ecc",null)),Pt=Ft.exports,Ht=function(){var e=this,t=e._self._c;return t("div",{staticClass:"soonbox"},[t(i["a"],{staticClass:"text-center",attrs:{flat:""}},[t(ue["a"],{staticClass:"pa-0 ma-auto"},[t(ne["c"],{staticClass:"pa-0 ma-0"},[t(ue["a"],[t(ie["a"],{staticClass:"text-h1"},[e._v(" 404 ")])],1)],1)],1),t(ue["a"],[t(ne["c"],{staticClass:"pa-0 ma-0"},[t(ue["a"],[t(ie["a"],[e._v(" The Page you're looking for isn't here. ")])],1)],1)],1)],1)],1)},qt=[],Yt={name:"NotFound"},Gt=Yt,Vt=(s("5e05"),Object(y["a"])(Gt,Ht,qt,!1,null,null,null)),zt=Vt.exports,Jt=(s("f665"),{namespaced:!0,state:{casefiles:[],lastFetch:null,isLoading:!1,activeFilters:{},filteredCasefiles:[],cacheTimeout:3e5,currentUserId:null},getters:{getFilteredCasefiles:e=>(t,s,a,r)=>{if(!t||!s||!a||!r)return[];if(!e.casefiles.length)return[];if(!e.filteredCasefiles.length){let n=e.casefiles.map(e=>({...e,days:Te()().diff(Te()(e.dateOfAssign),"days"),tatStatus:null}));t.includes("MANAGER")||t.includes("ADMIN")||t.includes("CLERK")?e.filteredCasefiles=n:t.includes("BRANCHCLERK")||t.includes("BRANCHMANAGER")?(n=n.filter(e=>s.includes(e.refType)&&a.includes(e.branch)),e.filteredCasefiles=n):t.includes("ADJUSTER")&&(n=n.filter(e=>s.includes(e.refType)&&a.includes(e.branch)&&e.adjuster===r),e.filteredCasefiles=n)}return e.filteredCasefiles},needsRefresh:e=>!e.lastFetch||Date.now()-e.lastFetch>e.cacheTimeout,getAllCasefiles:e=>e.casefiles},mutations:{SET_CASEFILES(e,t){e.casefiles=t,e.lastFetch=Date.now()},SET_LOADING(e,t){e.isLoading=t},UPDATE_CASEFILE(e,t){const s=e.casefiles.findIndex(e=>e.id===t.id);-1!==s&&e.casefiles.splice(s,1,t)},CLEAR_FILTERED_CACHE(e){e.filteredCasefiles=[]},CLEAR_STORE(e){e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[],e.currentUserId=null,e.isLoading=!1},SET_CURRENT_USER(e,t){e.currentUserId!==t&&(e.currentUserId=t,e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[])},UPDATE_TAT_STATUS(e,{id:t,status:s}){const a=e.filteredCasefiles.find(e=>e.id===t);a&&(a.tatStatus=s)}},actions:{async fetchCasefiles({commit:e,getters:t,state:s},a){if(s.currentUserId!==a&&e("SET_CURRENT_USER",a),t.needsRefresh||!(s.casefiles.length>0)){e("SET_LOADING",!0);try{const t=await Ce["a"].getAll();e("SET_CASEFILES",t.data)}catch(r){throw console.error("Error fetching casefiles:",r),r}finally{e("SET_LOADING",!1)}}},async updateCasefile({commit:e},t){try{const s=await Ce["a"].update(t.id,t);return e("UPDATE_CASEFILE",s.data),e("CLEAR_FILTERED_CACHE"),s.data}catch(s){throw console.error("Error updating casefile:",s),s}},clearStore({commit:e}){e("CLEAR_STORE")}}});s("13d5"),s("7d54"),s("9485");const Kt={namespaced:!0,state:{isLoading:!1,statistics:{totalActiveCases:0,overdueCount:0,completedThisMonth:0,newCasesToday:0,pendingInvestigation:0,pendingEditing:0},topAdjusters:[],topBranches:[],topInsurers:[],topEditors:[],deptPerformance:[],caseCategories:[],monthlyTrends:{values:[0,0,0,0,0,0],labels:[],trend:0},upcomingDeadlines:[],systemNotifications:[],recentDocuments:[],pendingActions:[]},mutations:{SET_LOADING(e,t){e.isLoading=t},SET_STATISTICS(e,t){e.statistics={...e.statistics,...t}},SET_TOP_ADJUSTERS(e,t){e.topAdjusters=t},SET_TOP_BRANCHES(e,t){e.topBranches=t},SET_TOP_INSURERS(e,t){e.topInsurers=t},SET_TOP_EDITORS(e,t){e.topEditors=t},SET_DEPT_PERFORMANCE(e,t){e.deptPerformance=t},SET_CASE_CATEGORIES(e,t){e.caseCategories=t},SET_MONTHLY_TRENDS(e,t){e.monthlyTrends=t},SET_UPCOMING_DEADLINES(e,t){e.upcomingDeadlines=t},SET_SYSTEM_NOTIFICATIONS(e,t){e.systemNotifications=t},SET_RECENT_DOCUMENTS(e,t){e.recentDocuments=t},SET_PENDING_ACTIONS(e,t){e.pendingActions=t}},actions:{async fetchStatistics({commit:e},t){e("SET_LOADING",!0);try{if(!t){const e=await Ce["a"].getAll(),s=e.data,a=Te()().startOf("day"),r=Te()().startOf("month");t={totalActiveCases:s.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).length,overdueCount:s.filter(e=>{const t=Te()().diff(Te()(e.dateOfAssign),"days");return t>30&&"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus}).length,completedThisMonth:s.filter(e=>"CLO"===e.fileStatus&&Te()(e.dateOfAssign).isAfter(r)).length,newCasesToday:s.filter(e=>Te()(e.dateOfAssign).isSame(a,"day")).length,pendingInvestigation:s.filter(e=>"INVE"===e.fileStatus).length,pendingEditing:s.filter(e=>"PEDI"===e.fileStatus).length}}e("SET_STATISTICS",t)}finally{e("SET_LOADING",!1)}},async fetchTopAdjusters({commit:e},t){if(!t){const e=await Ce["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.adjuster]||(e[t.adjuster]={id:t.adjuster,name:t.adjusterName||"Unknown Adjuster",active:0,total:0,performance:0}),e[t.adjuster].total++,"CLO"!==t.fileStatus&&"CANC"!==t.fileStatus&&e[t.adjuster].active++,e[t.adjuster].performance=Math.round(e[t.adjuster].active/e[t.adjuster].total*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_ADJUSTERS",t)},async fetchTopBranches({commit:e},t){if(!t){const e=await Ce["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.branch]||(e[t.branch]={id:t.branch,name:t.branchName||"Unknown Branch",caseCount:0,performance:0,completed:0}),e[t.branch].caseCount++,"CLO"===t.fileStatus&&e[t.branch].completed++,e[t.branch].performance=Math.round(e[t.branch].completed/e[t.branch].caseCount*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_BRANCHES",t)},async fetchTopInsurers({commit:e},t){e("SET_TOP_INSURERS",t)},async fetchTopEditors({commit:e},t){e("SET_TOP_EDITORS",t)},async fetchDeptPerformance({commit:e},t){e("SET_DEPT_PERFORMANCE",t)},async fetchCaseCategories({commit:e},t){e("SET_CASE_CATEGORIES",t)},async fetchMonthlyTrends({commit:e},t){if(!t){const e=await Ce["a"].getAll().then(e=>e.data),s=Array.from({length:6},(e,t)=>{const s=Te()().subtract(t,"months");return{month:s,label:s.format("MMM"),value:0}}).reverse();e.forEach(e=>{const t=Te()(e.dateOfAssign),a=s.findIndex(e=>e.month.isSame(t,"month"));-1!==a&&s[a].value++});const a=s.map(e=>e.value),r=a.length>=2?(a[a.length-1]-a[a.length-2])/a[a.length-2]*100:0;t={values:a,labels:s.map(e=>e.label),trend:Math.round(r)}}e("SET_MONTHLY_TRENDS",t)},async fetchSystemNotifications({commit:e},t){t||(t=[{id:1,type:"info",message:"Welcome to your dashboard"}]),e("SET_SYSTEM_NOTIFICATIONS",t)},async fetchUpcomingDeadlines({commit:e},t){if(!t){const e=await Ce["a"].getAll().then(e=>e.data);t=e.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).map(e=>({id:e.id,caseNumber:e.caseNumber,daysLeft:Te()(e.dateOfAssign).add(30,"days").diff(Te()(),"days")})).filter(e=>e.daysLeft>0&&e.daysLeft<=14).sort((e,t)=>e.daysLeft-t.daysLeft).slice(0,5)}e("SET_UPCOMING_DEADLINES",t)},async fetchRecentDocuments({commit:e},t){t||(t=[]),e("SET_RECENT_DOCUMENTS",t)},async fetchPendingActions({commit:e},t){t||(t=[]),e("SET_PENDING_ACTIONS",t)}},getters:{statisticsCards:e=>[{label:"Active Cases",value:e.statistics.totalActiveCases,color:"primary"},{label:"Overdue Cases",value:e.statistics.overdueCount,color:"warning"},{label:"Completed This Month",value:e.statistics.completedThisMonth,color:"success"},{label:"New Cases Today",value:e.statistics.newCasesToday,color:"info"},{label:"Under Investigation",value:e.statistics.pendingInvestigation,color:"deep-orange"},{label:"Pending Editing",value:e.statistics.pendingEditing,color:"purple"}]}};var Wt=Kt,Qt=s("7424");class Xt{getLocalRefreshToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.refreshToken}getLocalAccessToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.accessToken}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return JSON.parse(localStorage.getItem("user"))}setUser(e){localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var Zt=new Xt;class es{login({email:e,password:t}){return Qt["a"].post("/auth/signin",{email:e,password:t}).then(e=>(e.data.accessToken&&Zt.setUser(e.data),e.data))}logout(){Zt.removeUser()}register({username:e,email:t,password:s}){return Qt["a"].post("/auth/signup",{username:e,email:t,password:s})}}var ts=new es;const ss=JSON.parse(localStorage.getItem("user")),as=ss?{status:{loggedIn:!0},user:ss}:{status:{loggedIn:!1},user:null},rs={namespaced:!0,state:as,actions:{login({commit:e,dispatch:t},s){return ts.login(s).then(s=>(e("loginSuccess",s),t("casefiles/clearStore",null,{root:!0}),t("casefiles/fetchCasefiles",s.id,{root:!0}),Promise.resolve(s)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e,dispatch:t}){t("casefiles/clearStore",null,{root:!0}),ts.logout(),e("logout")},register({commit:e},t){return ts.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}},ns={namespaced:!0,state:{casefile:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",adjuster:"",roles:"",fileStatus:""}},mutations:{GET_CASEFILES_SUCCESS:function(e,t){e.casefile=t.casefile}},actions:{getCasefiles:async function({commit:e}){e("GET_CASEFILES_SUCCESS",{casefile:t.data});let t=await Ce["a"].get(this.$route.params.id)}}};var is=s("0e44");a["a"].use(f["a"]);var ls=new f["a"].Store({state:{snackbars:[],snackbarQueue:[],maxVisibleSnackbars:3,caseState:ns.state},mutations:{SET_SNACKBAR(e,t){const s={...t,id:Date.now(),showing:!0};e.snackbars.filter(e=>e.showing).length>=e.maxVisibleSnackbars?e.snackbarQueue.push(s):e.snackbars.push(s)},REMOVE_SNACKBAR(e,t){const s=e.snackbars.findIndex(e=>e.id===t);-1!==s&&(e.snackbars.splice(s,1),e.snackbarQueue.length>0&&e.snackbars.push(e.snackbarQueue.shift()))},CLEANUP_OLD_SNACKBARS(e){e.snackbars=e.snackbars.filter(e=>e.showing)}},actions:{setSnackbar({commit:e},t){e("SET_SNACKBAR",t)}},modules:{auth:rs,fileModule:ns,casefiles:Jt,dashboard:Wt},getters:{getCaseState:function(e){return e.caseState}},plugins:[Object(is["a"])({paths:["dashboard"],storage:window.localStorage})]});function os(e,t,s){const a=ls.state.auth.user;a?"vuexFile"!==e.name?("home"===e.name&&"vuexFile"===t.name&&ls.getters["casefiles/needsRefresh"]&&ls.dispatch("casefiles/fetchCasefiles",a.id),s()):ls.dispatch("casefiles/fetchCasefiles",a.id).then(()=>s()).catch(()=>s(!1)):s("/login")}var cs=s("490a"),ds=function(){var e=this,t=e._self._c;return t(V["a"],{attrs:{fluid:""}},[t(ue["a"],[t(ie["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"mb-4"},[t(ne["d"],{staticClass:"py-3 primary white--text"},[t(o["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-magnify")]),e._v(" Advanced Search Results "),t(L["a"]),t(n["a"],{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"white"},on:{click:function(t){return e.$router.push("/dashboard")}}},[t(o["a"],{attrs:{left:"",small:""}},[e._v("mdi-view-dashboard")]),e._v(" Dashboard ")],1)],1),t(ne["c"],{staticClass:"py-2"},[t(ue["a"],[t(ie["a"],{attrs:{cols:"12",md:"8"}},[t("div",{staticClass:"d-flex flex-wrap align-center"},[t("strong",{staticClass:"mr-2"},[e._v("Filters:")]),e.$route.query.keyword?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Keyword: "+e._s(e.$route.query.keyword)+" ")]):e._e(),e.$route.query.dept?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Department: "+e._s(e.getDepartmentName(e.$route.query.dept))+" ")]):e._e(),e.$route.query.branch?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Branch: "+e._s(e.getBranchName(e.$route.query.branch))+" ")]):e._e(),e.$route.query.status?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Status: "+e._s(e.getStatusName(e.$route.query.status))+" ")]):e._e(),e.$route.query.insurer?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Insurer: "+e._s(e.getInsurerName(e.$route.query.insurer))+" ")]):e._e(),e.hasAnyFilters?e._e():t("span",{staticClass:"grey--text"},[e._v("No filters applied")])],1)]),t(ie["a"],{staticClass:"text-right",attrs:{cols:"12",md:"4"}},[t("span",{staticClass:"text-subtitle-1"},[e._v(" "+e._s(e.filteredCases.length)+" Results Found ")])])],1)],1)],1)],1)],1),e.loading?t(ue["a"],[t(ie["a"],{staticClass:"text-center",attrs:{cols:"12"}},[t(cs["a"],{attrs:{indeterminate:"",color:"primary",size:"64"}}),t("div",{staticClass:"mt-3"},[e._v("Loading cases...")])],1)],1):e.loading||0!==e.filteredCases.length?[t(i["a"],[t(ne["d"],[t(he["a"],{staticClass:"mx-4",attrs:{"append-icon":"mdi-magnify",label:"Filter results","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:e.tableSearch,callback:function(t){e.tableSearch=t},expression:"tableSearch"}})],1),t(le["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.filteredCases,search:e.tableSearch,"items-per-page":10,"footer-props":{"items-per-page-options":[10,20,50,-1]}},on:{"click:row":t=>e.navigateToCase(t.id)},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.vehicleNo",fn:function({item:s}){return[s.vehicleNo?t("span",[e._v(e._s(s.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:s}){return[e._v(" AA "),e._l(e.filterDept(s.refType),(function(a,r){return t("span",{key:r},[e._v(" /"+e._s(a.name)+" "),e._l(e.filterSubDept(s.subRefType),(function(s,a){return t("span",{key:a},[e._v(" /"+e._s(s.subCode)+" ")])}))],2)})),e._v(" /"+e._s(s.id)+"/"+e._s(e.yearOnly(s.dateOfAssign))+" "),e._l(e.filterBranches(s.branch),(function(s){return t("span",{key:s.id},[e._v(" /"+e._s(s.brCode)+" ")])}))]}},{key:"item.insurer",fn:function({item:s}){return e._l(e.filterIns(s.insurer),(function(s){return t("div",{key:s.id},[t(R["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",r,!1),a),[e._v(" "+e._s(s.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(s.name))])])],1)}))}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:s}){return[s.adjuster?t("span",e._l(e.filterUser(s.adjuster),(function(s){return t("div",{key:s.id},[e._v(" "+e._s(s.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:s}){return[t(R["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[1===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-check ")]):e._e(),2===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-half-full ")]):e._e(),3===s.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",r,!1),a),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===s.flag?t("span",[e._v("GENUINE")]):e._e(),2===s.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===s.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(s.fileStatus),(function(s){return t("span",{key:s.id},[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(s.name)+" ")])],1)}))]}}],null,!0)})],1)]:t(ue["a"],[t(ie["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"text-center pa-5"},[t(o["a"],{attrs:{size:"64",color:"grey lighten-1"}},[e._v("mdi-file-search-outline")]),t("h3",{staticClass:"mt-4 mb-2"},[e._v("No Cases Found")]),t("p",{staticClass:"grey--text"},[e._v("Try adjusting your search filters")]),t(n["a"],{staticClass:"mt-3",attrs:{color:"primary"},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v(" Return to Dashboard ")])],1)],1)],1)],2)},us=[],ms={name:"AdvancedSearch",data(){return{loading:!0,allCases:[],filteredCases:[],refType:[],branch:[],stages:[],insurers:[],subRefTypes:[],members:[],tableSearch:"",headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}},computed:{...Object(f["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(f["b"])("casefiles",["getFilteredCasefiles"]),userFilteredCasefiles(){const e=this.$store.state.auth.user;return e?this.$store.getters["casefiles/getFilteredCasefiles"](e.roles,e.dept,e.branches,e.id):[]},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN"))return[{id:"all",name:"All Departments"},...this.refType];const t=Array.isArray(e.dept)?e.dept:[e.dept],s=this.refType.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Departments"},...s]},branchesForFilter(){if(!this.branch||0===this.branch.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN")||e.roles.includes("MANAGER"))return[{id:"all",name:"All Branches"},...this.branch];const t=Array.isArray(e.branches)?e.branches:[e.branches],s=this.branch.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Branches"},...s]},hasAnyFilters(){return!!this.$route.query.keyword||!!this.$route.query.dept||!!this.$route.query.branch||!!this.$route.query.status||!!this.$route.query.insurer},searchQuery(){return{keyword:this.$route.query.keyword||"",dept:this.$route.query.dept||null,branch:this.$route.query.branch||null,status:this.$route.query.status||null,insurer:this.$route.query.insurer||null}}},watch:{"$route.query":{handler(){this.applyFilters()},deep:!0}},methods:{async fetchData(){this.loading=!0;try{await this.$store.dispatch("casefiles/fetchCasefiles");const[e,t,s,a,r,n]=await Promise.all([U["a"].getAll(),B["a"].getAll(),we["a"].getAll(),ke["a"].getAll(),_e["a"].getAll(),Ae["a"].getAll()]);this.refType=e.data,this.branch=t.data,this.stages=s.data,this.insurers=a.data,this.subRefTypes=r.data,this.members=n.data,this.applyFilters()}catch(e){console.error("Error fetching data:",e),this.$store.dispatch("alerts/setAlert",{text:"Error loading search results",type:"error"}),this.filteredCases=[]}finally{this.loading=!1}},applyFilters(){const e=this.userFilteredCasefiles;if(!e||0===e.length)return void(this.filteredCases=[]);const{keyword:t,dept:s,branch:a,status:r,insurer:n}=this.searchQuery;this.filteredCases=e.filter(e=>{if(s&&"all"!==s){const t=String(e.refType),a=String(s);if(t!==a)return!1}if(a&&"all"!==a){const t=String(e.branch),s=String(a);if(t!==s)return!1}if(r&&"all"!==r&&e.fileStatus!==r)return!1;if(n){const t=String(e.insurer),s=String(n);if(t!==s)return!1}if(t){const s=t.toLowerCase(),a=[e.vehicleNo,e.claimNo,e.personInvolved,e.insComment,String(e.id)].filter(e=>null!=e);return a.some(e=>String(e).toLowerCase().includes(s))}return!0})},moment(e){return Te()(e)},yearOnly(e){return Te()(e).format("YY")},dateDiff(e,t){let s=Te()(e),a=Te()(t),r=Te.a.duration(a.diff(s));return Math.floor(r.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){var t;return(null===(t=this.subRefTypes)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterBranches(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurers.filter(t=>t.id===e)},filterUser(e){var t;return(null===(t=this.members)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},getDepartmentName(e){if(!e||"all"===e)return"All Departments";const t=this.refType.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Dept "+e},getBranchName(e){if(!e||"all"===e)return"All Branches";const t=this.branch.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Branch "+e},getStatusName(e){if(!e||"all"===e)return"All Statuses";const t=this.stages.find(t=>t.stageCode===e);return t?t.name:e},getStatusColor(e){const t={NEW:"green",PEND:"amber",INVE:"blue",PEDI:"purple",EDAC:"indigo",EDI:"pink",PAPP:"cyan",HOLD:"orange",FOIN:"teal",DISP:"light-blue",CLO:"grey",CANC:"red"};return t[e]||"grey"},formatDate(e){return Te()(e).format("DD/MM/YYYY")},navigateToCase(e){this.$router.push({name:"vuexFile",params:{id:e}})},getFormattedCaseNumber(e){if(!e)return"N/A";const t=this.refType.find(t=>t.id===e.refType),s=this.branch.find(t=>t.id===e.branch);let a="AA-"+e.id;return t&&(a=`AA/${t.name}/${e.id}`),s&&s.brCode&&(a+="/"+s.brCode),a},getInsurerName(e){if(!e)return"N/A";const t=this.insurers.find(t=>t.id===e);return t?t.name:"Insurer "+e}},mounted(){this.fetchData()}},hs=ms,fs=(s("e6eb"),Object(y["a"])(hs,ds,us,!1,null,"7ffa3030",null)),ps=fs.exports;a["a"].use(se["a"]);const bs=new se["a"]({mode:"history",routes:[{path:"/",meta:{title:"Welcome"},component:ae["default"],title:ae["default"]},{path:"/home",name:"home",component:()=>Promise.resolve().then(s.bind(null,"bb51")),meta:{title:"Home",keepAlive:!0,cacheTimeout:3e5},beforeEnter:os},{path:"/archive",meta:{title:"Archive"},component:Ee,title:Ee},{path:"/listing",meta:{title:"Listing"},component:Ze,title:Ze},{path:"/find",name:"find",meta:{title:"Quick Find"},component:nt},{path:"/login",name:"login",component:Pt},{path:"/forgot",name:"forgot",component:mt},{path:"/reset",name:"reset",component:At},{path:"/activate",name:"activate",component:Et},{path:"/profile",meta:{title:"Profile"},name:"profile",component:()=>s.e("chunk-252c9079").then(s.bind(null,"c66d"))},{path:"/admin",meta:{title:"Admin"},name:"admin",component:()=>s.e("chunk-5d674c98").then(s.bind(null,"b295"))},{path:"/manager",meta:{title:"Manager"},name:"manager",component:()=>s.e("chunk-0a994422").then(s.bind(null,"1692"))},{path:"/user",meta:{title:"User"},name:"user",component:()=>s.e("chunk-13a66c1c").then(s.bind(null,"9a40"))},{path:"/members",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Members"},name:"members",component:()=>s.e("chunk-22ffe50d").then(s.bind(null,"0d2f"))},{path:"/branches",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Branches"},name:"branches",component:()=>s.e("chunk-2d0c9388").then(s.bind(null,"57e5"))},{path:"/states",meta:{requiresAuth:!0,roles:["ADMIN"],title:"States"},name:"states",component:()=>s.e("chunk-2d0dd47c").then(s.bind(null,"815b"))},{path:"/districts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Districts"},name:"districts",component:()=>s.e("chunk-2d216d19").then(s.bind(null,"c3a4"))},{path:"/tatcharts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"TAT Charts"},name:"tatcharts",component:()=>s.e("chunk-2d0d7c06").then(s.bind(null,"77c3"))},{path:"/handlers",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Claim Handler"},name:"handler",component:()=>s.e("chunk-2d21af88").then(s.bind(null,"be7f"))},{path:"/bulletins",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Bulletin"},name:"bulletins",component:()=>s.e("chunk-2d0e8bc0").then(s.bind(null,"8b11"))},{path:"/depts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Departments"},name:"depts",component:()=>s.e("chunk-2d21f29b").then(s.bind(null,"d93c"))},{path:"/subDepts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"File Classification"},name:"subDepartments",component:()=>s.e("chunk-2d0df849").then(s.bind(null,"89f8"))},{path:"/inss",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Insurer"},name:"inss",component:()=>s.e("chunk-2d0a2df0").then(s.bind(null,"0082"))},{path:"/claims",meta:{title:"Claims"},name:"claimsList",component:()=>Promise.all([s.e("chunk-2d216257"),s.e("chunk-6acb04da"),s.e("chunk-168b0bef")]).then(s.bind(null,"6741"))},{path:"/dropboxfiles",meta:{title:"Dropbox Files"},name:"dropboxfiles",component:()=>s.e("chunk-503eee76").then(s.bind(null,"835e"))},{path:"/reports",meta:{title:"Basic Reports"},name:"reports",component:()=>s.e("chunk-c5685398").then(s.bind(null,"afa7"))},{path:"/reportsTwo",meta:{title:"Detail Reports"},name:"reportsTwo",component:()=>s.e("chunk-18fed119").then(s.bind(null,"271a7"))},{path:"/byref/:id",meta:{title:"Detail By Department"},name:"refTabDetail",component:()=>s.e("chunk-2d0b6339").then(s.bind(null,"1bc5"))},{path:"/bybranch/:id",meta:{title:"Detail by Branch"},name:"brTabDetail",component:()=>s.e("chunk-2d0e521d").then(s.bind(null,"92d2"))},{path:"/detailByRef/:fileStatus/:refType",meta:{title:"Detail By Reference"},name:"detail-by-ref",component:()=>s.e("chunk-2d216263").then(s.bind(null,"c0dd"))},{path:"/detailByBranch/:fileStatus/:branch",meta:{title:"Detail By Branch"},name:"detail-by-branch",component:()=>s.e("chunk-2d0db490").then(s.bind(null,"6ee0"))},{path:"/file/:id",meta:{title:"Casefile Details"},name:"vuexFile",component:()=>Promise.all([s.e("chunk-2d216257"),s.e("chunk-6acb04da"),s.e("chunk-581877a4"),s.e("chunk-074b12e8")]).then(s.bind(null,"b762"))},{path:"/dopFile/:id",meta:{title:"Dropbox File Details"},name:"dropboxDetail",component:()=>s.e("chunk-fa07f1a0").then(s.bind(null,"61ac"))},{path:"/findfile/:id",meta:{title:"Casefile Details"},name:"findfile",component:()=>Promise.all([s.e("chunk-2d216257"),s.e("chunk-6acb04da"),s.e("chunk-3324cb38")]).then(s.bind(null,"77b8"))},{path:"/soon",meta:{title:"Soon"},name:"soon",component:()=>s.e("chunk-194d3724").then(s.bind(null,"8a88"))},{path:"/merimen-data",name:"merimen-data",meta:{requiresAuth:!0,roles:["ADMIN","MANAGER","BRANCHMANAGER","CLERK","BRANCHCLERK"],title:"Merimen Data"},component:()=>s.e("chunk-5df8963d").then(s.bind(null,"fda7"))},{path:"/dashboard",name:"dashboard",component:()=>Promise.all([s.e("chunk-581877a4"),s.e("chunk-657a8f98")]).then(s.bind(null,"7277")),meta:{requiresAuth:!0,title:"dashboard",keepAlive:!0}},{path:"/welcome",name:"welcome",component:()=>s.e("chunk-7aacc23c").then(s.bind(null,"eec5")),meta:{title:"welcome"}},{path:"/advanced-search",name:"advancedSearch",component:ps,meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/report",name:"report",component:()=>s.e("chunk-78538b25").then(s.bind(null,"762c")),meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/mytasks",name:"mytasks",component:()=>s.e("chunk-096742b6").then(s.bind(null,"dbea")),meta:{requiresAuth:!0,title:"My Tasks"}},{path:"/:catchAll(.*)",name:"NotFound",component:zt}]});bs.beforeEach((e,t,s)=>{const a=["/login","/forgot","/reset","/activate"],r=!a.includes(e.path),n=localStorage.getItem("user");if(!r||n){if(e.meta.roles&&n){const t=JSON.parse(localStorage.getItem("user")),a=t&&t.roles&&e.meta.roles.some(e=>t.roles.includes(e));if(!a)return void s("/")}s()}else s("/login")});var gs=s("7bb1"),vs=s("ecee"),ys=s("ad3d"),_s=s("c074");const ks=e=>{Qt["a"].interceptors.request.use(e=>{const t=Zt.getLocalAccessToken();return t&&(e.headers["x-access-token"]=t),e},e=>Promise.reject(e)),Qt["a"].interceptors.response.use(e=>e,async t=>{const s=t.config;if("/auth/signin"!==s.url&&t.response&&401===t.response.status&&!s._retry){s._retry=!0;try{const t=await Qt["a"].post("/auth/refreshtoken",{refreshToken:Zt.getLocalRefreshToken()}),{accessToken:a}=t.data;return e.dispatch("auth/refreshToken",a),Zt.updateLocalAccessToken(a),Object(Qt["a"])(s)}catch(a){return Promise.reject(a)}}return Promise.reject(t)})};var Cs=ks,ws=(s("5363"),s("f309"));a["a"].use(ws["a"]);var Ss=new ws["a"]({icons:{iconfont:"mdi"}}),xs=s("3dc6");a["a"].use(xs["a"]),vs["c"].add(_s["a"],_s["d"],_s["e"],_s["b"],_s["c"]),a["a"].config.productionTip=!1,a["a"].use(gs["a"]),a["a"].component("font-awesome-icon",ys["a"]),a["a"].use(f["a"]),Cs(ls),a["a"].config.productionTip=!1,new a["a"]({router:bs,store:ls,vuetify:Ss,render:e=>e(te)}).$mount("#app")},"5de6":function(e,t,s){},"5e05":function(e,t,s){"use strict";s("0046")},"62e7":function(e,t,s){},6736:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const a={development:{baseURL:"http://localhost:8080/api",docsURL:"http://localhost:8080/docs"},production:{baseURL:"/api",docsURL:"/docs"}},r="production",n=a[r]},"699f":function(e,t,s){},7424:function(e,t,s){"use strict";var a=s("bc3a"),r=s.n(a),n=s("6736");const i=r.a.create({baseURL:n["a"].baseURL,headers:{"Content-Type":"application/json"}});t["a"]=i},"747c":function(e,t,s){"use strict";s("27b5")},"7c98":function(e,t,s){},"847e":function(e,t,s){},8643:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/handlers")}get(e){return a["a"].get("/handlers/"+e)}create(e){return a["a"].post("/handlers",e)}update(e,t){return a["a"].put("/handlers/"+e,t)}delete(e){return a["a"].delete("/handlers/"+e)}deleteAll(){return a["a"].delete("/handlers")}}t["a"]=new r},9462:function(e,t,s){e.exports=s.p+"img/v-nav-bg.028e0d2f.jpg"},"98a8":function(e,t,s){"use strict";s("ae8f")},"9df5":function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/members")}get(e){return a["a"].get("/members/"+e)}create(e){return a["a"].post("/members",e)}activationlink(e){return a["a"].post("/members/activation",e)}resetlink(e){return a["a"].post("/members/reset/sendlink",e)}verifyUser(e){return a["a"].post("/members/reset/verifyuser",e)}update(e,t){return a["a"].put("/members/"+e,t)}changepass(e,t){return a["a"].put("/members/changepass/"+e,t)}updatePhoto(e,t){return a["a"].put("/members/updatePhoto/"+e,t)}updateProfile(e,t){return a["a"].put("/members/updateProfile/"+e,t)}delete(e){return a["a"].delete("/members/"+e)}deleteAll(){return a["a"].delete("/members")}findByUsername(e){return a["a"].get("/members?username="+e)}getAllRoles(){return a["a"].get("/members/userLevel/all")}}t["a"]=new r},ac58:function(e,t,s){"use strict";s("699f")},ae8f:function(e,t,s){},bb51:function(e,t,s){"use strict";s.r(t);var a=s("0798"),r=s("c6a6"),n=s("8336"),i=s("b0af"),l=s("99d9"),o=s("cc20"),c=s("62ad"),d=s("a523"),u=s("8fea"),m=s("2e4b"),h=s("169a"),f=s("132d"),p=s("e449"),b=s("490a"),g=s("0fd9"),v=s("b974"),y=s("2db4"),_=s("2fa4"),k=s("8654"),C=s("a844"),w=s("3a2f"),S=function(){var e=this,t=e._self._c;return t(d["a"],{attrs:{fluid:""}},[t(y["a"],{staticClass:"notification-snackbar",style:{left:"50%",transform:"translateX(-50%)"},attrs:{timeout:e.processSnackbar.timeout,color:e.processSnackbar.color,top:""},model:{value:e.processSnackbar.show,callback:function(t){e.$set(e.processSnackbar,"show",t)},expression:"processSnackbar.show"}},[t(a["a"],{staticClass:"mb-0",attrs:{value:!0,color:e.processSnackbar.color,icon:e.getSnackbarIcon,dense:"",outlined:"",text:""}},[t("div",{staticClass:"d-flex align-center"},[e.processSnackbar.loading?t(b["a"],{staticClass:"mr-3",attrs:{indeterminate:"",size:"20",width:"2",color:e.processSnackbar.color}}):e._e(),t("span",{class:e.processSnackbar.color+"--text"},[e._v(e._s(e.processSnackbar.text))]),t(_["a"]),e.processSnackbar.loading?e._e():t(n["a"],{attrs:{icon:"","x-small":"",color:e.processSnackbar.color},on:{click:function(t){e.processSnackbar.show=!1}}},[t(f["a"],{attrs:{small:""}},[e._v("mdi-close")])],1)],1)])],1),t(g["a"],[t(c["a"],{attrs:{cols:"12"}},[t(u["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.sortedCasefiles,"item-class":e.itemClass,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,20,30,40,50,100]},"items-per-page":30,search:e.search,"mobile-breakpoint":"1100"},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(i["a"],{staticClass:"mb-1",attrs:{flat:""}},[t(g["a"],{attrs:{"no-gutters":""}},[t(c["a"],{staticClass:"pa-2",attrs:{cols:"12",md:"4"}},[t(i["a"],{staticClass:"action-buttons-card h-100 d-flex flex-column justify-center",attrs:{flat:""}},[t(l["c"],{staticClass:"pa-2 d-flex flex-wrap justify-center align-center"},[t(h["a"],{attrs:{"max-width":"600px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(n["a"],e._g(e._b({staticClass:"mx-2 my-1 action-btn",attrs:{color:"primary",dark:"",disabled:e.addCasefileDisabled}},"v-btn",a,!1),{...s}),[t(f["a"],{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Case ")],1)]}}]),model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[t(i["a"],{attrs:{tile:""}},[t(l["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",{staticClass:"text-h5"},[e._v("ADD NEW CASE")])]),t(l["c"],[t(d["a"],[t(g["a"],[t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Department")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedRefType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0}]),model:{value:e.newItem.refType,callback:function(t){e.$set(e.newItem,"refType",t)},expression:"newItem.refType"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filtersubRefType(e.newItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.newItem.subRefType,callback:function(t){e.$set(e.newItem,"subRefType",t)},expression:"newItem.subRefType"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedBranches,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch","persistent-hint":"",label:"Branch"},model:{value:e.newItem.branch,callback:function(t){e.$set(e.newItem,"branch",t)},expression:"newItem.branch"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(r["a"],{attrs:{items:e.sortedInsurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0}]),model:{value:e.newItem.insurer,callback:function(t){e.$set(e.newItem,"insurer",t)},expression:"newItem.insurer"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterHandler(e.newItem.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:e.newItem.handler,callback:function(t){e.$set(e.newItem,"handler",t)},expression:"newItem.handler"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(k["a"],{attrs:{"item-text":"Insurer's Reference",label:"Insurers Reference Number",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.newItem.claimNo,callback:function(t){e.$set(e.newItem,"claimNo",t)},expression:"newItem.claimNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(p["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(k["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfAssignAdd,callback:function(t){e.ComputedDateOfAssignAdd=t},expression:"ComputedDateOfAssignAdd"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(m["a"],{on:{change:function(t){e.menu=!1}},model:{value:e.newItem.dateOfAssign,callback:function(t){e.$set(e.newItem,"dateOfAssign",t)},expression:"newItem.dateOfAssign"}})],1)],1)]],2),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(k["a"],{attrs:{label:"Vehicle Number",hint:"Vehicle Number"},model:{value:e.newItem.vehicleNo,callback:function(t){e.$set(e.newItem,"vehicleNo",t)},expression:"newItem.vehicleNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(p["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(k["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfLossAdd,callback:function(t){e.ComputedDateOfLossAdd=t},expression:"ComputedDateOfLossAdd"}},"v-text-field",a,!1),s))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(m["a"],{on:{change:function(t){e.menu1=!1}},model:{value:e.newItem.dateOfLoss,callback:function(t){e.$set(e.newItem,"dateOfLoss",t)},expression:"newItem.dateOfLoss"}})],1)],1)]],2),t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Place Of Loss")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedState,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.newItem.stateOfLoss,callback:function(t){e.$set(e.newItem,"stateOfLoss",t)},expression:"newItem.stateOfLoss"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterRegions(e.newItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state above","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.newItem.placeOfLoss,callback:function(t){e.$set(e.newItem,"placeOfLoss",t)},expression:"newItem.placeOfLoss"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{label:"Insured Name"},model:{value:e.newItem.insuredName,callback:function(t){e.$set(e.newItem,"insuredName",t)},expression:"newItem.insuredName"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(C["a"],{attrs:{label:"Insurers Comment",rules:[e=>!!e||"Insurers comment is required",e=>e.length<=2e3||"Comment must be 2000 characters or less"],counter:"",maxlength:"2000","auto-grow":"",rows:"4","row-height":"20",filled:"","background-color":"grey lighten-4",hint:(e.newItem.insComment?e.newItem.insComment.length:0)+"/2000 characters","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v(" Insurers Comment ")]},proxy:!0}]),model:{value:e.newItem.insComment,callback:function(t){e.$set(e.newItem,"insComment",t)},expression:"newItem.insComment"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(_["a"]),t(n["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:e.closeAddDialog}},[e._v(" Cancel ")]),t(n["a"],{staticClass:"success mt-3",attrs:{disabled:e.isAddFileButtonDisabled,small:"",tile:""},on:{click:e.addCasefile}},[e._v("Submit")])],1)],1)],1)],1)],1)],1),t(n["a"],{staticClass:"mx-2 my-1 action-btn",attrs:{color:"success",dark:"",to:"/archive"}},[t(f["a"],{attrs:{left:""}},[e._v("mdi-archive-alert")]),e._v(" Archive ")],1)],1)],1)],1),t(c["a"],{staticClass:"pa-2",attrs:{cols:"12",md:"8"}},[t(i["a"],{staticClass:"search-card h-100",attrs:{flat:""}},[t(l["d"],{staticClass:"search-card-title py-1 px-4"},[t(f["a"],{staticClass:"mr-2",attrs:{small:"",color:"primary"}},[e._v("mdi-magnify")]),t("span",{staticClass:"text-subtitle-2"},[e._v("Advanced Search")])],1),t(l["c"],{staticClass:"pa-2"},[t(g["a"],{attrs:{dense:""}},[t(c["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(k["a"],{attrs:{label:"Search by keyword",placeholder:"Case ID, Vehicle No, etc","prepend-inner-icon":"mdi-text-search",clearable:"",outlined:"",dense:"","hide-details":""},model:{value:e.advancedSearch.keyword,callback:function(t){e.$set(e.advancedSearch,"keyword",t)},expression:"advancedSearch.keyword"}})],1),t(c["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(v["a"],{attrs:{items:e.departmentsForFilter,"item-text":"name","item-value":"id",label:"Department",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-domain"},model:{value:e.advancedSearch.dept,callback:function(t){e.$set(e.advancedSearch,"dept",t)},expression:"advancedSearch.dept"}})],1),t(c["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(v["a"],{attrs:{items:e.branchesForFilter,"item-text":"name","item-value":"id",label:"Branch",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-office-building"},model:{value:e.advancedSearch.branch,callback:function(t){e.$set(e.advancedSearch,"branch",t)},expression:"advancedSearch.branch"}})],1),t(c["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(r["a"],{attrs:{items:e.insurersForFilter,"item-text":"name","item-value":"id",label:"Insurer",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-shield-account"},model:{value:e.advancedSearch.insurer,callback:function(t){e.$set(e.advancedSearch,"insurer",t)},expression:"advancedSearch.insurer"}})],1)],1),t(g["a"],{attrs:{dense:""}},[t(c["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(v["a"],{attrs:{items:e.stagesForFilter,"item-text":"name","item-value":"stageCode",label:"Status",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-flag"},model:{value:e.advancedSearch.status,callback:function(t){e.$set(e.advancedSearch,"status",t)},expression:"advancedSearch.status"}})],1),t(c["a"],{staticClass:"d-flex justify-end pt-2 pb-0",attrs:{cols:"12",sm:"6",md:"9"}},[t(n["a"],{staticClass:"mr-2",attrs:{color:"primary",loading:e.searchLoading,disabled:!e.isAdvancedSearchValid,small:""},on:{click:e.performAdvancedSearch}},[t(f["a"],{attrs:{left:"",small:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1),t(n["a"],{attrs:{text:"",small:""},on:{click:e.resetAdvancedSearch}},[e._v("Clear")])],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:s}){return e._l(e.filterIns(s.insurer),(function(s){return t("div",{key:s.id},[t(w["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",r,!1),a),[e._v(" "+e._s(s.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(s.name))])])],1)}))}},{key:"item.vehicleNo",fn:function({item:s}){return[s.vehicleNo?t("span",[e._v(e._s(s.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:s}){return[e._v(" AA "),e._l(e.filterDept(s.refType),(function(a,r){return t("span",{key:r},[e._v(" /"+e._s(a.name)+" "),e._l(e.filterSubDept(s.subRefType),(function(s,a){return t("span",{key:a},[e._v(" /"+e._s(s.subCode)+" ")])}))],2)})),e._v(" /"+e._s(s.id)+"/"+e._s(e.yearOnly(s.dateOfAssign))+" "),e._l(e.filterBranches(s.branch),(function(s){return t("span",{key:s.id},[e._v(" /"+e._s(s.brCode)+" ")])}))]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:s}){return[s.adjuster?t("span",e._l(e.filterUser(s.adjuster),(function(s){return t("div",{key:s.id},[e._v(" "+e._s(s.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:s}){return[t(w["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[1===s.flag?t(f["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-check ")]):e._e(),2===s.flag?t(f["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",r,!1),a),[e._v(" mdi-shield-half-full ")]):e._e(),3===s.flag?t(f["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",r,!1),a),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===s.flag?t("span",[e._v("GENUINE")]):e._e(),2===s.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===s.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(s.fileStatus),(function(s){return t("span",{key:s.id},[t(o["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(s.name)+" ")])],1)}))]}}],null,!0)})],1)],1)],1)},x=[],A=(s("14d9"),s("e9f5"),s("910d"),s("f665"),s("a732"),s("2f62")),I=s("c1df"),T=s.n(I),D=s("cb28"),O=s("f983"),N=s("5632"),E=s("fde1"),L=s("304b"),j=s("02ba"),R=s("9df5"),$=s("8643"),M=s("d14b"),B=s("0cbf"),U=s("061e"),F=s("f0cc"),P={name:"CaseList",data:()=>({search:"",refType:[],subRefTypes:[],insurer:[],members:[],stages:[],tatCharts:[],addDialog:!1,management:!1,addcase:!1,menu:!1,menu1:!1,newItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},initialNewItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},sortBy:["days"],sortDesc:[!0],branches:[],state:[],regions:[],handlers:[],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}],showLoadingSnackbar:!1,isLoading:!0,processSnackbar:{show:!1,text:"",color:"info",timeout:3e3,loading:!1},searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},departments:[]}),computed:{...Object(A["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(A["b"])("casefiles",["getFilteredCasefiles","getAllCasefiles"]),filteredCasefiles(){const e=this.$store.state.auth.user;return e?this.getFilteredCasefiles(e.roles,e.dept,e.branches,e.id).filter(e=>"CANC"!==e.fileStatus&&"CLO"!==e.fileStatus):[]},ComputedDateOfAssignAdd(){return this.formatDateMethod(this.newItem.dateOfAssign)},ComputedDateOfLossAdd(){return this.formatDateMethod(this.newItem.dateOfLoss)},sortedCasefiles(){return this.filteredCasefiles.length?[...this.filteredCasefiles].sort((e,t)=>{const s=this.dateDiff(T()(e.dateOfAssign).format(),T()().format())||0,a=this.dateDiff(T()(t.dateOfAssign).format(),T()().format())||0;return this.sortDesc[0]?a-s:s-a}):[]},addCasefileDisabled(){return!this.addcase},isAddFileButtonDisabled(){return!(this.newItem.refType&&this.newItem.insurer&&this.newItem.claimNo&&this.newItem.dateOfAssign&&this.newItem.dateOfLoss&&this.newItem.insComment)},getSnackbarIcon(){switch(this.processSnackbar.color){case"success":return"mdi-check-circle";case"error":return"mdi-alert-circle";case"warning":return"mdi-alert";default:return"mdi-information"}},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.refType].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],s=this.refType.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...s]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],s=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...s]},insurersForFilter(){return this.insurer&&0!==this.insurer.length?[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name)):[]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=[...this.stages].filter(e=>e.stageCode&&e.name).sort((e,t)=>e.id-t.id);return[{stageCode:"all",name:"All Statuses"},...e]},isAdvancedSearchValid(){return this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer},sortedRefType(){return[...this.refType].sort((e,t)=>e.name.localeCompare(t.name))},sortedBranches(){return[...this.branches].sort((e,t)=>e.name.localeCompare(t.name))},sortedInsurer(){return[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name))},sortedState(){return[...this.state].sort((e,t)=>e.name.localeCompare(t.name))}},methods:{moment(e){return T()(e)},formatDate(e){return T()(e).format("DD/MM/YYYY")},formatDateMethod(e){return e?T()(e).format("DD/MM/YYYY"):null},yearOnly(e){return T()(e).format("YY")},dateDiff(e,t){let s=T()(e),a=T()(t),r=T.a.duration(a.diff(s));return Math.floor(r.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},filtersubRefType(e){return e?[...this.subRefTypes].filter(t=>t.deptId===e).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]},filterHandler(e){return e?[...this.handlers].filter(t=>t.insId===e).sort((e,t)=>e.name.localeCompare(t.name)):[]},filterBranches(e){return this.branches.filter(t=>t.id===e)},filterBranchesEmail(e){if(!e)return"TBA";const t=this.branches.filter(t=>t.id===e);return t[0].name},filterVehicleNo(e){return e?e.toLowerCase().replace(/\s/g,""):"TBA"},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterUser(e){return this.members.filter(t=>t.id===e)},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},getTatValues(e,t){if(!e||!t)return null;const s=this.tatCharts.find(s=>s.insId===e&&s.subDeptId===t);return s?{tatAlert:parseInt(s.tatAlert),tatMax:parseInt(s.tatMax)}:null},getStatusClass(e,t,s){const a=Number(e),r=Number(t),n=Number(s);return a>=n?"tat-overdue-force":a>=r?"tat-alert-force":""},itemClass(e){if(!e||!e.dateOfAssign)return"";const t=this.dateDiff(T()(e.dateOfAssign).format(),T()().format()),s=this.getTatValues(e.insurer,e.subRefType);return s?this.getStatusClass(t,s.tatAlert,s.tatMax):""},checkManagement(){(this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")||this.$store.state.auth.user.roles.includes("BRANCHCLERK"))&&(this.management=!0)},checkAddCase(){this.addcase=this.$store.state.auth.user.roles.some(e=>["ADMIN","MANAGER","CLERK","BRANCHMANAGER","BRANCHCLERK"].includes(e))},closeAddDialog(){this.addDialog=!1,this.$nextTick(()=>{this.newItem=Object.assign({},this.initialNewItem)})},addCasefile(){var e,t,s,a={refType:this.newItem.refType,subRefType:this.newItem.subRefType,branch:this.newItem.branch,insurer:this.newItem.insurer,handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.filterVehicleNo(this.newItem.vehicleNo),dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"},r={refType:(null===(e=this.refType.find(e=>e.id===this.newItem.refType))||void 0===e?void 0:e.name)||"N/A",subRefType:(null===(t=this.subRefTypes.find(e=>e.id===this.newItem.subRefType))||void 0===t?void 0:t.subCodeDesc)||"N/A",branch:this.filterBranchesEmail(this.newItem.branch),insurer:(null===(s=this.insurer.find(e=>e.id===this.newItem.insurer))||void 0===s?void 0:s.name)||"N/A",handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.newItem.vehicleNo?this.newItem.vehicleNo.toLowerCase().replace(/\s/g,""):"TBA",dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"};F["a"].create(a).then(e=>{this.closeAddDialog(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Success"})}).then(()=>{U["a"].mailData(r).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Email sent"})}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.toString()})})}).catch(e=>{var t;this.$store.dispatch("setSnackbar",{showing:!0,text:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||e.message})}),this.closeAddDialog()},showProcessUpdate(e,t=!0,s="info"){this.processSnackbar={show:!0,text:e,color:s,timeout:t?-1:3e3,loading:t}},async loadData(){this.showProcessUpdate("Loading data...");try{const[e,t,s,a,r,n,i,l,o,c]=await Promise.all([D["a"].getAll(),O["a"].getAll(),E["a"].getAll(),L["a"].getAll(),j["a"].getAll(),N["a"].getAll(),R["a"].getAll(),$["a"].getAll(),M["a"].getAll(),B["a"].getAll()]);this.refType=e.data,this.subRefTypes=t.data,this.branches=s.data,this.state=a.data,this.regions=r.data,this.insurer=n.data,this.members=i.data,this.handlers=l.data,this.stages=o.data,this.tatCharts=c.data,this.showProcessUpdate("Data loaded successfully",!1,"success")}catch(e){console.error("Error loading data:",e),this.showProcessUpdate("Error loading data",!1,"error")}},openAdvancedSearch(){this.$router.push({name:"advancedSearch"})},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);const s={timestamp:Date.now(),params:t,text:this.createSearchText(t)};try{let e=[];const t=localStorage.getItem("searchHistory");t&&(e=JSON.parse(t)),e=[s,...e.slice(0,4)];const a=JSON.stringify(e);a.length<=4096?localStorage.setItem("searchHistory",a):localStorage.setItem("searchHistory",JSON.stringify([s]))}catch(e){console.warn("Search history storage failed:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t),this.$store.dispatch("setSnackbar",{showing:!0,text:"Search failed: "+t.message,color:"error"})}finally{this.searchLoading=!1}}},createSearchText(e){const t=[];if(e.keyword&&t.push(`"${e.keyword}"`),e.dept){const s=this.refType.find(t=>t.id===e.dept);s&&t.push(s.name)}if(e.branch){const s=this.branches.find(t=>t.id===e.branch);s&&t.push(s.name)}if(e.status){const s=this.stages.find(t=>t.stageCode===e.status);s&&t.push(s.name)}if(e.insurer){const s=this.insurer.find(t=>t.id===e.insurer);s&&t.push(s.name)}return t.join(", ")||"Advanced Search"},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null}},addToRecentSearches(e,t){try{let s=[];const a=localStorage.getItem("recentSearches");a&&(s=JSON.parse(a)),s.unshift({text:e,data:t}),s=s.slice(0,5);const r=JSON.stringify(s);r.length>4096&&(s=s.slice(0,3)),localStorage.setItem("recentSearches",JSON.stringify(s)),this.recentSearches=s}catch(s){console.warn("Unable to save to recent searches:",s);try{localStorage.removeItem("recentSearches"),this.recentSearches=[]}catch(a){console.error("Error clearing searches:",a)}}},async loadFilterData(){try{if(!this.stages||0===this.stages.length){const e=await M["a"].getAll();this.stages=e.data}if(!this.refType||0===this.refType.length){const e=await D["a"].getAll();this.refType=e.data}if(!this.branches||0===this.branches.length){const e=await E["a"].getAll();this.branches=e.data}}catch(e){console.error("Error loading filter data:",e)}}},async mounted(){this.showProcessUpdate("Loading data...");try{await this.$store.dispatch("casefiles/fetchCasefiles"),await this.loadData(),this.checkManagement(),this.checkAddCase()}catch(e){this.showProcessUpdate("Error loading page",!1,"error"),console.error("Error in mounted:",e)}await this.loadFilterData()}},H=P,q=(s("747c"),s("2877")),Y=Object(q["a"])(H,S,x,!1,null,null,null);t["default"]=Y.exports},c082:function(e,t,s){},c427:function(e,t,s){"use strict";var a=s("bc3a"),r=s.n(a),n=s("6736");const i=r.a.create({baseURL:n["a"].baseURL,headers:{"Content-type":"application/json"}});t["a"]=i},c7a3:function(e,t,s){"use strict";s("107b")},cb28:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/depts")}get(e){return a["a"].get("/depts/"+e)}create(e){return a["a"].post("/depts",e)}update(e,t){return a["a"].put("/depts/"+e,t)}delete(e){return a["a"].delete("/depts/"+e)}deleteAll(){return a["a"].delete("/depts")}}t["a"]=new r},d14b:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/stages")}get(e){return a["a"].get("/stages/"+e)}create(e){return a["a"].post("/stages",e)}update(e,t){return a["a"].put("/stages/"+e,t)}delete(e){return a["a"].delete("/stages/"+e)}deleteAll(){return a["a"].delete("/stages")}}t["a"]=new r},d6e0:function(e,t,s){},dfb6:function(e,t,s){e.exports=s.p+"img/001.ecf2c54b.jpg"},e6eb:function(e,t,s){"use strict";s("7c98")},f0cc:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/casefiles")}getAllRefType(e){return a["a"].get("/byref/"+e)}getAllBranch(e){return a["a"].get("/bybranch/"+e)}getAllStatusRefType(e,t){return a["a"].get(`/detailByRef/${e}/${t}`)}getAllStatusBranch(e,t){return a["a"].get(`/detailByBranch/${e}/${t}`)}get(e){return a["a"].get("/casefiles/"+e)}create(e){return a["a"].post("/casefiles",e)}update(e,t){return a["a"].put("/casefiles/"+e,t)}delete(e){return a["a"].delete("/casefiles/"+e)}deleteAll(){return a["a"].delete("/casefiles")}}t["a"]=new r},f0dd:function(e,t,s){"use strict";s("5de6")},f31f:function(e,t,s){e.exports=s.p+"img/002.8e4b5e98.jpg"},f390:function(e,t,s){"use strict";s("c082")},f983:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/subDepts")}get(e){return a["a"].get("/subDepts/"+e)}create(e){return a["a"].post("/subDepts",e)}update(e,t){return a["a"].put("/subDepts/"+e,t)}delete(e){return a["a"].delete("/subDepts/"+e)}deleteAll(){return a["a"].delete("/subDepts")}findBySubDept(e){return a["a"].get("/subDepts?name="+e)}}t["a"]=new r},fde1:function(e,t,s){"use strict";var a=s("c427");class r{getAll(){return a["a"].get("/branches")}get(e){return a["a"].get("/branches/"+e)}create(e){return a["a"].post("/branches",e)}update(e,t){return a["a"].put("/branches/"+e,t)}delete(e){return a["a"].delete("/branches/"+e)}deleteAll(){return a["a"].delete("/branches")}findByBranch(e){return a["a"].get("/branches?name="+e)}}t["a"]=new r}});
//# sourceMappingURL=app.087c312b.js.map