(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-825da9a4"],{"40f9":function(t,e,a){"use strict";a.r(e);var s=a("0798"),i=a("c6a6"),l=a("8336"),r=a("b0af"),n=a("99d9"),c=a("62ad"),d=a("a523"),o=a("8fea"),f=a("2e4b"),u=a("169a"),_=a("132d"),m=a("8860"),h=a("da13"),p=a("5d23"),C=a("34c3"),g=a("e449"),D=a("891e"),v=a("490a"),x=a("0fd9"),b=a("b974"),y=a("1f4f"),S=a("2fa4"),A=a("8654"),T=function(){var t=this,e=t._self._c;return e(d["a"],{attrs:{fluid:""}},[e(x["a"],{staticClass:"mb-2",attrs:{align:"center",justify:"space-between"}},[e(c["a"],{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6"}},[e("span",{staticClass:"mr-2"},[t._v("Rows per page:")]),e(b["a"],{staticStyle:{"max-width":"100px"},attrs:{items:[30,50,100,500],dense:"","hide-details":""},on:{change:t.onPageSizeChange},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}})],1),e(c["a"],{staticClass:"d-flex justify-end align-center",attrs:{cols:"12",md:"6"}},[e(D["a"],{attrs:{length:Math.ceil(t.total/t.pageSize),"total-visible":6},on:{input:t.onPageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),e("span",{staticClass:"ml-3"},[t._v(" "+t._s((t.page-1)*t.pageSize+1)+" - "+t._s(Math.min(t.page*t.pageSize,t.total))+" of "+t._s(t.total)+" ")])],1)],1),e(r["a"],{staticClass:"pa-4 mb-4 elevation-2",attrs:{outlined:""}},[e(x["a"],{attrs:{dense:""}},[e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.sortedInsurers,"item-text":"name","item-value":"id",label:"Insurer","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-domain",dense:""},on:{change:t.onFilterChange},model:{value:t.filters.insurer,callback:function(e){t.$set(t.filters,"insurer",e)},expression:"filters.insurer"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.sortedBranches,"item-text":"name","item-value":"id",label:"Branch","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-office-building",dense:""},on:{change:t.onBranchChange},model:{value:t.filters.branch,callback:function(e){t.$set(t.filters,"branch",e)},expression:"filters.branch"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.sortedDepartments,"item-text":"name","item-value":"id",label:"Department","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-account-group",dense:""},on:{change:t.onDeptChange},model:{value:t.filters.refType,callback:function(e){t.$set(t.filters,"refType",e)},expression:"filters.refType"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.filteredSubRefTypes,"item-text":"subCode","item-value":"id",label:"File Classification","menu-props":{maxHeight:"400"},"persistent-hint":"",hint:"Select Department first to enable File Classification.",disabled:!t.filters.refType,"prepend-icon":"mdi-file-document-outline",dense:""},on:{change:t.onFilterChange},model:{value:t.filters.subRefType,callback:function(e){t.$set(t.filters,"subRefType",e)},expression:"filters.subRefType"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.filteredAdjusters,"item-text":"username","item-value":"id",label:"Adjuster","menu-props":{maxHeight:"400"},"persistent-hint":"",hint:"Select Branch first to enable Adjuster.",disabled:!t.filters.branch,"prepend-icon":"mdi-account-tie",dense:""},on:{change:t.onFilterChange},model:{value:t.filters.adjuster,callback:function(e){t.$set(t.filters,"adjuster",e)},expression:"filters.adjuster"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(i["a"],{attrs:{clearable:"",items:t.statusOptions,"item-text":"name","item-value":"stageCode",label:"Status","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-checkbox-marked-circle-outline",dense:"",multiple:""},on:{change:t.onStatusChange},model:{value:t.filters.fileStatus,callback:function(e){t.$set(t.filters,"fileStatus",e)},expression:"filters.fileStatus"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(A["a"],{attrs:{clearable:"",label:"Vehicle No.","prepend-icon":"mdi-car",dense:""},on:{change:t.onFilterChange},model:{value:t.filters.vehicleNo,callback:function(e){t.$set(t.filters,"vehicleNo",e)},expression:"filters.vehicleNo"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(A["a"],{attrs:{clearable:"",label:"AASB Ref.","prepend-icon":"mdi-numeric",dense:""},on:{change:t.onFilterChange},model:{value:t.filters.id,callback:function(e){t.$set(t.filters,"id",e)},expression:"filters.id"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(b["a"],{attrs:{items:t.dateByOptions,label:"Date By",dense:"","hide-details":"","prepend-icon":"mdi-calendar-range"},on:{change:t.onFilterChange},model:{value:t.dateBy,callback:function(e){t.dateBy=e},expression:"dateBy"}})],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(g["a"],{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(A["a"],t._g(t._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:t.filters.startDate,callback:function(e){t.$set(t.filters,"startDate",e)},expression:"filters.startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menuStart,callback:function(e){t.menuStart=e},expression:"menuStart"}},[e(f["a"],{on:{change:function(e){t.menuStart=!1,t.onFilterChange()}},model:{value:t.filters.startDate,callback:function(e){t.$set(t.filters,"startDate",e)},expression:"filters.startDate"}})],1)],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(g["a"],{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(A["a"],t._g(t._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:t.filters.endDate,callback:function(e){t.$set(t.filters,"endDate",e)},expression:"filters.endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menuEnd,callback:function(e){t.menuEnd=e},expression:"menuEnd"}},[e(f["a"],{on:{change:function(e){t.menuEnd=!1,t.onFilterChange()}},model:{value:t.filters.endDate,callback:function(e){t.$set(t.filters,"endDate",e)},expression:"filters.endDate"}})],1)],1),e(c["a"],{attrs:{cols:"12",md:"2"}},[e(l["a"],{staticClass:"mr-2",staticStyle:{"min-width":"140px"},attrs:{color:"success",small:"",elevation:"2"},on:{click:t.exportCurrentPage}},[e(_["a"],{attrs:{left:""}},[t._v("mdi-file-excel")]),t._v(" Export Current Page ")],1),e(l["a"],{staticStyle:{"min-width":"140px"},attrs:{color:"primary",small:"",elevation:"2",loading:t.exportingAll,disabled:t.total>1e4},on:{click:t.exportAll}},[e(_["a"],{attrs:{left:""}},[t._v("mdi-file-export")]),t._v(" Export All (Filtered) ")],1)],1),t.total>1e4?e(c["a"],{attrs:{cols:"12"}},[e(s["a"],{attrs:{type:"warning",dense:"",outlined:"",border:"left",color:"orange"}},[e(_["a"],{attrs:{left:"",color:"orange darken-2"}},[t._v("mdi-alert")]),t._v(" Export is limited to 10,000 rows. Please refine your filters to reduce the result set. ")],1)],1):t._e()],1)],1),e(u["a"],{attrs:{width:"600px",persistent:""},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[e(r["a"],{attrs:{tile:""}},[e(n["a"],[t.checkingFinalReport?[e(l["a"],{staticClass:"ml-2",attrs:{text:"",small:"",disabled:""}},[e(v["a"],{staticClass:"mr-2",attrs:{indeterminate:"",size:"20",width:"2",color:"primary"}}),t._v(" Checking Final Reports... ")],1)]:t.finalReports&&t.finalReports.length>0?e(g["a"],{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(l["a"],t._g(t._b({staticClass:"ml-2",attrs:{color:"success",outlined:"",small:"",tile:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{left:""}},[t._v("mdi-file-document-outline")]),t._v(" Final Reports ("+t._s(t.finalReports.length)+") "),e(_["a"],{attrs:{right:""}},[t._v("mdi-chevron-down")])],1)]}}])},[e(m["a"],{attrs:{dense:""}},t._l(t.finalReports,(function(a,s){return e(h["a"],{key:s,on:{click:function(e){return t.downloadFinalReport(a)}}},[e(C["a"],[e(_["a"],{attrs:{small:""}},[t._v("mdi-download")])],1),e(p["a"],[e(p["c"],{staticClass:"caption"},[t._v(" "+t._s(a.Type||"Report")+" - "+t._s(t.formatDate(a.createdAt))+" ")]),e(p["b"],{staticClass:"caption"},[t._v(" "+t._s(a.Remark||"No remark")+" ")])],1)],1)})),1)],1):[e(l["a"],{staticClass:"ml-2 caption",attrs:{text:"",small:"",disabled:""}},[e(_["a"],{attrs:{left:"",color:"warning"}},[t._v("mdi-alert-circle-outline")]),t._v(" No Final Reports Available ")],1)],e(S["a"]),e(l["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(e){t.dialogDetail=!1}}},[t._v(" Close ")])],2),e(n["d"],[e(S["a"]),e("span",{staticClass:"caption text-decoration-overline"},[t._v("Details of AA/"),t._l(t.filterDept(t.caseDetail.refType),(function(a,s){return e("span",{key:s},[t._v(t._s(a.name)+" "),t._l(t.filterSubDept(t.caseDetail.subRefType),(function(a,s){return e("span",{key:s},[t._v("/"+t._s(a.subCode))])}))],2)})),t._v("/"+t._s(t.caseDetail.id)+"/"+t._s(t.yearOnly(t.caseDetail.createdAt))+"/"),t._l(t.filterBranch(t.caseDetail.branch),(function(a){return e("span",{key:a.id},[t._v(t._s(a.brCode)+" ")])}))],2)],1),e(y["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center font-weight-black"},[t._v("Name")]),e("th",{staticClass:"text-left font-weight-black"},[t._v("Description")])])]),e("tbody",[t.caseDetail.fileStatus?e("tr",[e("td",{staticClass:"text-center"},[t._v("Status")]),t._l(t.filterStages(t.caseDetail.fileStatus),(function(a){return e("td",{key:a.id,staticClass:"text-left font-italic font-weight-black"},[t._v(" "+t._s(a.name)+" ")])}))],2):t._e(),t.caseDetail.createdAt?e("tr",[e("td",{staticClass:"text-center"},[t._v("Created On:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.createdAt))+" ")])]):t._e(),t.caseDetail.createdAt?e("tr",[e("td",{staticClass:"text-center"},[t._v("Created By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.createdBy))+" ")])]):t._e(),t.caseDetail.transferDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Transfer Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.transferDate))+" ")])]):t._e(),t.caseDetail.transferDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Transfered By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.transferBy))+" ")])]):t._e(),t.caseDetail.dateOfCancel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cancellation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfCancel))+" ")])]):t._e(),t.caseDetail.dateOfCancel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cancellation By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.cancelBy))+" ")])]):t._e(),t.caseDetail.caseFrom?e("tr",[e("td",{staticClass:"text-center"},[t._v("Type")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.caseFrom)+" ")])]):t._e(),t.caseDetail.refType?e("tr",[e("td",{staticClass:"text-center"},[t._v("Department")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterDept(t.caseDetail.refType)[0].name)+", ("+t._s(t.filterDept(t.caseDetail.refType)[0].description)+") ")])]):t._e(),t.caseDetail.subRefType?e("tr",[e("td",{staticClass:"text-center"},[t._v("File Classification")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterSubDept(t.caseDetail.subRefType)[0].subCode)+" ")])]):t._e(),t.caseDetail.branch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterBranch(t.caseDetail.branch)[0].brCode)+", ("+t._s(t.filterBranch(t.caseDetail.branch)[0].name)+") ")])]):t._e(),t.caseDetail.insurer?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterIns(t.caseDetail.insurer)[0].name)+" ")])]):t._e(),t.caseDetail.handler?e("tr",[e("td",{staticClass:"text-center"},[t._v("Handler")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterHandler(t.caseDetail.handler).length>0?t.filterHandler(t.caseDetail.handler)[0].name:"TBA")+", ("+t._s(t.filterHandler(t.caseDetail.handler).length>0?t.filterHandler(t.caseDetail.handler)[0].email:"N/A")+") ")])]):t._e(),t.caseDetail.adjuster?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.adjuster))+" ")])]):t._e(),t.caseDetail.editor?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.editor))+" ")])]):t._e(),t.caseDetail.clerkInCharge?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk In Charge")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.clerkInCharge))+" ")])]):t._e(),t.caseDetail.claimNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer's Ref No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.claimNo)+" ")])]):t._e(),t.caseDetail.vehicleNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Vehicle No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.vehicleNo.toUpperCase())+" ")])]):t._e(),t.caseDetail.dateOfAssign?e("tr",[e("td",{staticClass:"text-center"},[t._v("Date Of Assignment")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfAssign))+" ")])]):t._e(),t.caseDetail.dateOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("Date Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfLoss))+" ")])]):t._e(),t.caseDetail.stateOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("State Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterState(t.caseDetail.stateOfLoss).length>0?t.filterState(t.caseDetail.stateOfLoss)[0].stCode:"TBA")+", ("+t._s(t.filterState(t.caseDetail.stateOfLoss).length>0?t.filterState(t.caseDetail.stateOfLoss)[0].name:"N/A")+") ")])]):t._e(),t.caseDetail.placeOfLoss?e("tr",[e("td",{staticClass:"text-center"},[t._v("Place Of Loss")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.placeOfLoss)+" ")])]):t._e(),t.caseDetail.insuredName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredName)+" ")])]):t._e(),t.caseDetail.insuredIC?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredIC)+" ")])]):t._e(),t.caseDetail.InsuredTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Tel. No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.InsuredTel)+" ")])]):t._e(),t.caseDetail.insuredEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredEmail)+" ")])]):t._e(),t.caseDetail.insuredDriverName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverName)+" ")])]):t._e(),t.caseDetail.insuredDriverIc?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverIc)+" ")])]):t._e(),t.caseDetail.insuredDriverEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insured Driver Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insuredDriverEmail)+" ")])]):t._e(),t.caseDetail.policeReportNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Police Report No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policeReportNo)+" ")])]):t._e(),t.caseDetail.policeReportDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Police Report Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policeReportDate)+" ")])]):t._e(),t.caseDetail.policyNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Policy Number")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.policyNo)+" ")])]):t._e(),t.caseDetail.coverFrom||t.caseDetail.coverTo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Cover Period")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.coverFrom))+" - "+t._s(t.formatDate(t.caseDetail.coverTo))+" ")])]):t._e(),t.caseDetail.insComment?e("tr",[e("td",{staticClass:"text-center"},[t._v("Insurer's Comment")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.insComment)+" ")])]):t._e(),t.caseDetail.solicitorName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorName)+" ")])]):t._e(),t.caseDetail.solicitorTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Tel.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorTel)+" ")])]):t._e(),t.caseDetail.solicitorEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Solicitor Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.solicitorEmail)+" ")])]):t._e(),t.caseDetail.counselName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselName)+" ")])]):t._e(),t.caseDetail.counselTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Tel")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselTel)+" ")])]):t._e(),t.caseDetail.counselEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Counsel Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.counselEmail)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantName?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Name")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantName)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantIc?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant IC No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantIc)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantTel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Tel No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantTel)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Email")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantEmail)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleNo?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Vehicle No.")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleNo)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleModel?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Vehicle Model")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleModel)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleSolicitor?e("tr",[e("td",{staticClass:"text-center"},[t._v("Third Party Claimant Solicitor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleSolicitor)+" ")])]):t._e(),t.caseDetail.thirdPartyClaimantVehicleSolicitorEmail?e("tr",[e("td",{staticClass:"text-center"},[t._v(" Third Party Claimant Solicitor Email ")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.thirdPartyClaimantVehicleSolicitorEmail)+" ")])]):t._e(),t.caseDetail.applyDocDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Document Application Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.applyDocDate))+" ")])]):t._e(),t.caseDetail.applyDocDate?e("tr",[e("td",{staticClass:"text-center"},[t._v("Document Application By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.applyDocBy))+" ")])]):t._e(),t.caseDetail.dateOfReg?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch Assigning Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfReg))+" ")])]):t._e(),t.caseDetail.dateOfReg?e("tr",[e("td",{staticClass:"text-center"},[t._v("Branch Assigned By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignBranchBy))+" ")])]):t._e(),t.caseDetail.dateOfAdj?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster Assigning Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfAdj))+" ")])]):t._e(),t.caseDetail.dateOfAdj?e("tr",[e("td",{staticClass:"text-center"},[t._v("Adjuster Assigning By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignAdjBy))+" ")])]):t._e(),t.caseDetail.dateStartInv?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Investigation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartInv))+" ")])]):t._e(),t.caseDetail.dateEndInv?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Investigation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndInv))+" ")])]):t._e(),t.caseDetail.dateOfEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor Assigned Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfEdi))+" ")])]):t._e(),t.caseDetail.dateOfEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Editor Assigned By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignEdiBy))+" ")])]):t._e(),t.caseDetail.dateStartEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Editing Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartEdi))+" ")])]):t._e(),t.caseDetail.dateEndEdi?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Editing Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndEdi))+" ")])]):t._e(),t.caseDetail.dateOfApproval?e("tr",[e("td",{staticClass:"text-center"},[t._v("Approval Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateOfApproval))+" ")])]):t._e(),t.caseDetail.dateOfApproval?e("tr",[e("td",{staticClass:"text-center"},[t._v("Approval By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.approvedBy))+" ")])]):t._e(),t.caseDetail.dateAssignFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk Assigned Date(Formatting)")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateAssignFormatting))+" ")])]):t._e(),t.caseDetail.dateAssignFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Clerk Assigned (Formatting) By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.assignClerkBy))+" ")])]):t._e(),t.caseDetail.dateStartFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Start Formatting Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateStartFormatting))+" ")])]):t._e(),t.caseDetail.dateEndFormatting?e("tr",[e("td",{staticClass:"text-center"},[t._v("Complete Formatting Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateEndFormatting))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoising & Finalisation Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateFinal))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoising & Finalisation By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.finalBy))+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Nombor")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.invNo)+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Fee Note")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.caseDetail.invFeeNote)+" ")])]):t._e(),t.caseDetail.dateFinal?e("tr",[e("td",{staticClass:"text-center"},[t._v("Invoice Total")]),e("td",{staticClass:"text-left font-italic"},[t._v(" RM "+t._s(t.caseDetail.invTotal)+" ")])]):t._e(),t.caseDetail.dateDispatch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Dispatch Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateDispatch))+" ")])]):t._e(),t.caseDetail.dateDispatch?e("tr",[e("td",{staticClass:"text-center"},[t._v("Dispatch By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.dispatchBy))+" ")])]):t._e(),t.caseDetail.dateClosed?e("tr",[e("td",{staticClass:"text-center"},[t._v("Closed Date")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.formatDate(t.caseDetail.dateClosed))+" ")])]):t._e(),t.caseDetail.dateClosed?e("tr",[e("td",{staticClass:"text-center"},[t._v("Closed By:")]),e("td",{staticClass:"text-left font-italic"},[t._v(" "+t._s(t.filterUser(t.caseDetail.closedBy))+" ")])]):t._e()])]},proxy:!0}])}),e(n["a"],[e(S["a"]),e(l["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(e){t.dialogDetail=!1}}},[t._v(" Close ")])],1)],1)],1),e(o["a"],{staticClass:"elevation-1",staticStyle:{background:"#fff","border-radius":"8px"},attrs:{headers:t.headers,items:t.roleFilteredCasefiles,loading:t.loading,page:t.page,"items-per-page":t.pageSize,"server-items-length":t.total,dense:""},on:{"update:page":[function(e){t.page=e},t.onPageChange],"update:itemsPerPage":function(e){t.pageSize=e},"update:items-per-page":[function(e){t.pageSize=e},t.onPageSizeChange],"click:row":t.showDetail},scopedSlots:t._u([{key:"item.numbering",fn:function({index:e}){return[t._v(" "+t._s((t.page-1)*t.pageSize+e+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return[e("span",[t._v(t._s(t.getInsurerName(a.insurer)))])]}},{key:"item.branch",fn:function({item:a}){return[e("span",[t._v(t._s(t.getBranchName(a.branch)))])]}},{key:"item.refType",fn:function({item:a}){return[e("span",[t._v(t._s(t.getDeptName(a.refType)))])]}},{key:"item.subRefType",fn:function({item:a}){return[e("span",[t._v(t._s(t.getSubRefTypeName(a.subRefType)))])]}},{key:"item.adjuster",fn:function({item:a}){return[e("span",[t._v(t._s(t.getAdjusterName(a.adjuster)))])]}},{key:"item.vehicleNo",fn:function({item:a}){return[e("span",[t._v(t._s(a.vehicleNo?a.vehicleNo.toUpperCase():""))])]}},{key:"item.id",fn:function({item:a}){return[t._v(" AA/ "),t._l(t.getDept(a.refType),(function(s,i){return e("span",{key:`dept-${s.id}-${a.id}-${i}`},[t._v(t._s(s.name))])})),t._l(t.getSubRefType(a.subRefType),(function(s,i){return e("span",{key:`sub-${s.id}-${a.id}-${i}`},[t._v("/"+t._s(s.subCode))])})),t._v(" /"+t._s(a.id)+"/"+t._s(t.yearOnly(a.createdAt))+" "),t._l(t.getBranch(a.branch),(function(s,i){return e("span",{key:`branch-${s.id}-${a.id}-${i}`},[t._v("/"+t._s(s.brCode))])}))]}},{key:"item.dateOfAssign",fn:function({item:a}){return[e("span",[t._v(t._s(t.formatDate(a.dateOfAssign)))])]}},{key:"item.days",fn:function({item:a}){return[e("span",[t._v(t._s(a.days))])]}},{key:"item.fileStatus",fn:function({item:a}){return[e("span",[t._v(t._s(t.getFileStatusName(a.fileStatus)))])]}}],null,!0)}),e(x["a"],{staticClass:"mt-2",attrs:{align:"center",justify:"space-between"}},[e(c["a"],{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6"}},[e("span",{staticClass:"mr-2"},[t._v("Rows per page:")]),e(b["a"],{staticStyle:{"max-width":"100px"},attrs:{items:[30,50,100,500],dense:"","hide-details":""},on:{change:t.onPageSizeChange},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}})],1),e(c["a"],{staticClass:"d-flex justify-end align-center",attrs:{cols:"12",md:"6"}},[e(D["a"],{attrs:{length:Math.ceil(t.total/t.pageSize),"total-visible":6},on:{input:t.onPageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),e("span",{staticClass:"ml-3"},[t._v(" "+t._s((t.page-1)*t.pageSize+1)+" - "+t._s(Math.min(t.page*t.pageSize,t.total))+" of "+t._s(t.total)+" ")])],1)],1)],1)},N=[],E=(a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("a732"),a("88a7"),a("271a"),a("5494"),a("2f62")),R=a("c1df"),k=a.n(R),I=a("fde1"),O=a("cb28"),F=a("f983"),B=a("5632"),P=a("9df5"),j=a("8643"),w=a("304b"),L=a("d14b"),$=a("6736"),U=a("3c98"),z=a("bc3a"),M=a.n(z),H={name:"reportsV1",data(){return{filters:{insurer:"",branch:"",refType:"",subRefType:"",adjuster:"",claimNo:"",vehicleNo:"",startDate:null,endDate:null},page:1,pageSize:30,menuStart:!1,menuEnd:!1,branches:[],departments:[],subRefTypes:[],insurers:[],adjusters:[],stages:[],allFilteredCasefiles:[],exportingAll:!1,dialogDetail:!1,caseDetail:{},finalReports:[],checkingFinalReport:!1,dateBy:"dateOfAssign",dateByOptions:[{text:"Assignment Date",value:"dateOfAssign"},{text:"Closed Date",value:"dateClosed"},{text:"Cancel Date",value:"dateOfCancel"},{text:"Finalisation Date",value:"dateFinal"}]}},computed:{...Object(E["b"])(["getPaginatedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),...Object(E["c"])({user:t=>t.auth.user}),paginatedCasefiles(){return this.getPaginatedCasefiles},roleFilteredCasefiles(){return this.paginatedCasefiles},total(){return this.getPaginatedTotal},loading(){return this.getPaginatedLoading},sortedInsurers(){return[...this.insurers].sort((t,e)=>t.name.localeCompare(e.name))},sortedDepartments(){return[...this.departments].sort((t,e)=>t.name.localeCompare(e.name))},sortedBranches(){return[...this.branches].sort((t,e)=>t.name.localeCompare(e.name))},sortedAdjusters(){return[...this.adjusters].sort((t,e)=>t.username.localeCompare(e.username))},filteredSubRefTypes(){return this.filters.refType?this.subRefTypes.filter(t=>t.deptId===this.filters.refType||t.deptId===Number(this.filters.refType)||t.deptId===String(this.filters.refType)).sort((t,e)=>t.subCode.localeCompare(e.subCode)):[]},filteredAdjusters(){if(!this.filters.branch)return[];const t=this.branches.find(t=>t.id===this.filters.branch||t.id===Number(this.filters.branch)||t.id===String(this.filters.branch));if(!t)return[];const e=t.name;return this.adjusters.filter(t=>Array.isArray(t.branches)&&t.branches.some(t=>t.name===e)).sort((t,e)=>t.username.localeCompare(e.username))},headers(){return[{text:"NO.",value:"numbering"},{text:"INSURER",value:"insurer"},{text:"BRANCH",value:"branch"},{text:"DEPARTMENT",value:"refType"},{text:"FILE CLASSIFICATION",value:"subRefType"},{text:"ADJUSTER",value:"adjuster"},{text:"VEHICLE NO.",value:"vehicleNo"},{text:"AASB REFERENCE",value:"id"},{text:"DATE OF ASSIGNMENT",value:"dateOfAssign"},{text:"DAYS",value:"days"},{text:"STATUS",value:"fileStatus"}]},statusOptions(){return[{name:"All Statuses (Toggle)",stageCode:"__ALL_TOGGLE__"},...this.stages]},excelColumns(){return[{label:"CLAIMS HANDLER",field:"handler"},{label:"INSURER'S REF",field:"claimNo"},{label:"INSURED NAME",field:"insuredName"},{label:"VEHICLE NO",field:"vehicleNo"},{label:"INSURER",field:"insurer"},{label:"CLAIM TYPE",field:"claimType"},{label:"BRANCH",field:"branch"},{label:"DEPARTMENT",field:"department"},{label:"FILE CLASSIFICATION",field:"fileClassification"},{label:"ADJUSTER",field:"adjuster"},{label:"AASB REF",field:"aasbRef"},{label:"DATE OF ASSIGNMENT",field:"dateOfAssign"},{label:"DATE OF LOSS",field:"dateOfLoss"},{label:"DAYS",field:"days"},{label:"ADJUSTER ACKNOWLEDMENT DATE",field:"dateStartInv"},{label:"REPORT SUBMISSION DATE",field:"dateEndInv"},{label:"STATUS",field:"fileStatus"},{label:"TOTAL AMOUNT OF ALL TAX INVOICES",field:"invTotal"}]},excelFormattedData(){return this.paginatedCasefiles.map(t=>{var e,a;return{handler:(null===(e=this.getHandlerName)||void 0===e?void 0:e.call(this,t.handler))||"",claimNo:t.claimNo||"",insuredName:t.insuredName||"",vehicleNo:t.vehicleNo?t.vehicleNo.toUpperCase():"",insurer:this.getInsurerName(t.insurer),claimType:this.getDeptName(t.refType),branch:this.getBranchName(t.branch),department:this.getDeptName(t.refType),fileClassification:this.getSubRefTypeName(t.subRefType),adjuster:this.getAdjusterName(t.adjuster),aasbRef:`AA/${this.getDeptName(t.refType)}/${this.getSubRefTypeName(t.subRefType)}/${t.id}/${this.yearOnly(t.createdAt)}/${(null===(a=this.getBranch(t.branch)[0])||void 0===a?void 0:a.brCode)||""}`,dateOfAssign:this.formatDate(t.dateOfAssign),dateOfLoss:this.formatDate(t.dateOfLoss),days:t.days,dateStartInv:this.formatDate(t.dateStartInv),dateEndInv:this.formatDate(t.dateEndInv),fileStatus:this.getFileStatusName(t.fileStatus),invTotal:t.invTotal||""}})},excelFileName(){return"Report_"+k()().format("YYYYMMDD")}},methods:{async fetchPaginated(){const t={};Object.keys(this.filters).forEach(e=>{null!==this.filters[e]&&""!==this.filters[e]&&"undefined"!==typeof this.filters[e]&&(t[e]=this.filters[e])}),t.adjuster&&"object"===typeof t.adjuster&&t.adjuster.id&&(t.adjuster=t.adjuster.id),t.id&&(t.id=Number(t.id)),Array.isArray(t.fileStatus)&&0===t.fileStatus.length&&delete t.fileStatus,Array.isArray(t.fileStatus)&&t.fileStatus.length===this.stages.length&&delete t.fileStatus,this.user&&(t.roles=this.user.roles,t.dept=this.user.dept,t.branches=this.user.branches,t.userId=this.user.id),t.dateBy=this.dateBy,await this.$store.dispatch("casefiles/fetchPaginatedCasefiles",{page:this.page,pageSize:this.pageSize,filters:t})},onPageChange(t){this.page=t,this.fetchPaginated()},onPageSizeChange(){this.page=1,this.fetchPaginated()},onFilterChange(){this.page=1,this.fetchPaginated()},onBranchChange(){this.filters.adjuster="",this.onFilterChange()},onDeptChange(){this.filters.subRefType="",this.onFilterChange()},onStatusChange(t){Array.isArray(t)?t.includes("__ALL_TOGGLE__")?this.filters.fileStatus.length!==this.stages.length?this.filters.fileStatus=this.stages.map(t=>t.stageCode):this.filters.fileStatus=[]:this.filters.fileStatus=t.filter(t=>"__ALL_TOGGLE__"!==t):this.filters.fileStatus=t,this.onFilterChange()},formatDate(t){return t?k()(t).format("DD/MM/YYYY"):""},yearOnly(t){return k()(t).format("YY")},getInsurerName(t){const e=this.insurers.find(e=>e.id===t);return e?e.name:""},getBranchName(t){const e=this.branches.find(e=>e.id===t);return e?e.name:""},getDeptName(t){const e=this.departments.find(e=>e.id===t);return e?e.name:""},getSubRefTypeName(t){const e=this.subRefTypes.find(e=>e.id===t);return e?e.subCode:""},getAdjusterName(t){if(!t)return"TBA";const e=this.adjusters.filter(e=>e.id===t);return e.length?e[0].username:"TBA"},getFileStatusName(t){const e=this.stages.find(e=>e.stageCode===t);return e?e.name:t},getDept(t){return this.departments.filter(e=>e.id===t)},getSubRefType(t){return this.subRefTypes.filter(e=>e.id===t)},getBranch(t){return this.branches.filter(e=>e.id===t)},async loadMeta(){this.branches=(await I["a"].getAll()).data,this.departments=(await O["a"].getAll()).data,this.subRefTypes=(await F["a"].getAll()).data,this.insurers=(await B["a"].getAll()).data,this.adjusters=(await P["a"].getAll()).data.filter(t=>t.roles&&t.roles.some(t=>"adjuster"===t.roleCode)),this.stages=(await L["a"].getAll()).data,this.members=(await P["a"].getAll()).data,this.handlers=(await j["a"].getAll()).data,this.states=(await w["a"].getAll()).data},async exportAll(){this.exportingAll=!0;const t={};Object.keys(this.filters).forEach(e=>{null!==this.filters[e]&&""!==this.filters[e]&&"undefined"!==typeof this.filters[e]&&(t[e]=this.filters[e])}),t.adjuster&&"object"===typeof t.adjuster&&t.adjuster.id&&(t.adjuster=t.adjuster.id),t.id&&(t.id=Number(t.id)),t.dateBy=this.dateBy;let e=$["a"].baseURL;e.endsWith("/api")&&(e=e.replace(/\/api$/,""));try{const a=new URLSearchParams({...t,page:1,pageSize:1e4}).toString();window.open(`${e}/api/casefiles/paginated?${a}&export=excel`,"_blank")}finally{this.exportingAll=!1}},async exportCurrentPage(){let t=$["a"].baseURL;t.endsWith("/api")&&(t=t.replace(/\/api$/,""));const e={};Object.keys(this.filters).forEach(t=>{null!==this.filters[t]&&""!==this.filters[t]&&"undefined"!==typeof this.filters[t]&&(e[t]=this.filters[t])}),e.adjuster&&"object"===typeof e.adjuster&&e.adjuster.id&&(e.adjuster=e.adjuster.id),e.id&&(e.id=Number(e.id)),e.dateBy=this.dateBy;const a=new URLSearchParams({...e,page:this.page,pageSize:this.pageSize}).toString();window.open(`${t}/api/casefiles/paginated?${a}&export=excel`,"_blank")},clearAllFilteredCasefiles(){this.allFilteredCasefiles=[]},async showDetail(t){this.caseDetail=Object.assign({},t),this.dialogDetail=!0,this.finalReports=[],this.checkingFinalReport=!0;try{const[e]=await Promise.all([U["a"].getAll(),new Promise(t=>setTimeout(t,500))]);this.documents=e.data,this.finalReports=this.documents.filter(e=>e.caseId===t.id&&4===e.docStageId),this.$store.dispatch("setSnackbar",{showing:!0,color:this.finalReports.length?"success":"info",text:this.finalReports.length?this.finalReports.length+" final report(s) available":"No final reports found for this case"})}catch(e){console.error("Error fetching documents:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error checking for final reports"})}finally{this.checkingFinalReport=!1}},downloadFinalReport(t){t&&M()({url:`${$["a"].docsURL}/${t.name}`,method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a;const i=t.name.substr(t.name.lastIndexOf(".")+1),l=this.caseDetail.vehicleNo?this.caseDetail.vehicleNo.toUpperCase():"VEHICLE",r=k()(t.createdAt).format("YYYYMMDD");s.setAttribute("download",`${l}_${this.caseDetail.id}_${r}.${i}`),document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(t=>{console.error("Error downloading file:",t),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error downloading final report"})})},filterDept(t){return t?this.departments.filter(e=>e.id===t):[]},filterSubDept(t){return t?this.subRefTypes.filter(e=>e.id===t):[]},filterBranch(t){return t?this.branches.filter(e=>e.id===t):[]},filterStages(t){return t?this.stages.filter(e=>e.stageCode===t):[]},filterUser(t){if(!this.members||!t)return"";const e=this.members.filter(e=>e.id===t);return e.length&&e[0]&&e[0].username?`${e[0].username}, ${e[0].email||""}`:""},filterIns(t){return t?this.insurers.filter(e=>e.id===t):[]},filterState(t){return t&&this.states?this.states.filter(e=>e.id===t):[]},filterHandler(t){if(!t||!this.handlers)return[];const e=this.handlers.filter(e=>e.id===t);return e.length?e:[]}},mounted(){this.loadMeta(),this.fetchPaginated()}},V=H,Y=(a("4bc0"),a("2877")),G=Object(Y["a"])(V,T,N,!1,null,null,null);e["default"]=G.exports},"4bc0":function(t,e,a){"use strict";a("e598")},e598:function(t,e,a){}}]);
//# sourceMappingURL=chunk-825da9a4.395a0f1f.js.map