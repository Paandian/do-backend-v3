{"version":3,"sources":["webpack:///./src/views/detailView/brTabDetail.vue","webpack:///src/views/detailView/brTabDetail.vue","webpack:///./src/views/detailView/brTabDetail.vue?63fc","webpack:///./src/views/detailView/brTabDetail.vue?89b6"],"names":["staticClass","staticStyle","attrs","scopedSlots","key","_c","id","on","_v","stage","name","filterCase","stageCode","components","data","casefiles","stages","mounted","retrievecasefiles","$route","params","retrieveStages","computed","filteredCasefiles","$store","state","auth","user","roles","includes","filter","x","dept","refType","branches","branch","toString","adjuster","editor","methods","item","a","fileStatus","CasefileDataService","getAllBranch","then","response","catch","e","console","log","StageDataService","getAll","viewItem","$router","push","component","staticRenderFns"],"mappings":"qJAA4D,EAAU,W,IAAeA,OAA0BC,UAAY,G,OAAC,SAAQ,CAAK,YAAC,cAACC,YAAM,CAAC,MAAQ,OAAI,MAAM,CAAkBA,MAAM,KAAY,YAACC,OAAqBC,MAAI,I,YAAgCC,EAAG,K,IAA2BL,U,GAA0B,W,MAAmCA,WAAY,iBAAc,YAAS,eAAwE,MAAS,iBAAM,Q,YAAWM,e,CAAGL,8BAAY,qC,OAAC,OAAS,CAAS,IAAC,KAACM,YAAG,CAAC,OAAQ,W,GAGngB,CAAC,kBAAM,EAAC,SAAUC,EAAG,WAAWC,EAAMC,WAAS,GAAG,WAAMC,EAAU,WAAOC,EAAU,WAASP,GAAG,WAA6G,+JAAM,KAChO,gBAGD,I,6DCqCe,GACfK,KAAA,cACAG,WAAA,GAEAC,OACA,OACAC,UAAA,GACAC,OAAA,KAIAC,UACA,KAAAC,kBAAA,KAAAC,OAAAC,OAAAd,IAEA,KAAAe,kBAGAC,SAAA,CACAC,oBACA,OACA,KAAAC,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,YACA,KAAAL,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,SAEA,KAAAd,UAEA,KAAAS,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,gBACA,KAAAL,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,iBAEA,KAAAd,UAAAe,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SAEA,KAAAX,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,YACA,KAAAd,UAAAe,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SACA,KAAAX,OAAAC,MAAAC,KAAAC,KAAArB,GAAA8B,WAAAP,SAAAE,EAAAM,WAEA,KAAAb,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,UACA,KAAAd,UAAAe,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SACA,KAAAX,OAAAC,MAAAC,KAAAC,KAAArB,GAAA8B,WAAAP,SAAAE,EAAAO,SAEA,KAAAvB,YAIAwB,QAAA,CACA5B,WAAA6B,GACA,YAAAjB,kBAAAO,OAAAW,KAAAC,aAAAF,IAEAtB,kBAAAZ,GACAqC,OAAAC,aAAAtC,GACAuC,KAAAC,IACA,KAAA/B,UAAA+B,EAAAhC,OAEAiC,MAAAC,IACAC,QAAAC,IAAAF,MAIA3B,iBACA8B,OAAAC,SACAP,KAAAC,IACA,KAAA9B,OAAA8B,EAAAhC,OAEAiC,MAAAC,IACAC,QAAAC,IAAAF,MAcAK,SAAAX,EAAAP,GACA,KAAAmB,QAAAC,KAAA,CACA7C,KAAA,mBAEAU,OAAA,CAAAsB,aAAAP,eCrImW,I,YCO/VqB,EAAY,eACd,EACA,EACAC,GACA,EACA,KACA,KACA,MAIa,aAAAD,E","file":"js/chunk-2d0e521d.e47b5e02.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"text-center\",staticStyle:{\"width\":\"80%\"},attrs:{\"fluid\":\"\"}},[[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_vm._v(\"DESCRIPTION\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"NUMBER OF FILES\")])])]),_c('tbody',_vm._l((_vm.stages),function(stage){return _c('tr',{key:stage.id,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.viewItem(\n                _vm.filterCase(stage.stageCode)[0].fileStatus,\n                _vm.filterCase(stage.stageCode)[0].branch\n              )}}},[_c('td',[_vm._v(\" \"+_vm._s(stage.name)+\" \")]),(_vm.filterCase(stage.stageCode).length)?_c('td',[_vm._v(\" \"+_vm._s(_vm.filterCase(stage.stageCode).length)+\" \")]):_c('td',[_vm._v(\"0\")])])}),0)]},proxy:true}])})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"text-center\" fluid style=\"width: 80%\">\r\n    <template>\r\n      <v-simple-table dense>\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">DESCRIPTION</th>\r\n              <th class=\"text-center\">NUMBER OF FILES</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              v-for=\"stage in stages\"\r\n              :key=\"stage.id\"\r\n              style=\"cursor: pointer\"\r\n              @click=\"\r\n                viewItem(\r\n                  filterCase(stage.stageCode)[0].fileStatus,\r\n                  filterCase(stage.stageCode)[0].branch\r\n                )\r\n              \"\r\n            >\r\n              <td>\r\n                {{ stage.name }}\r\n              </td>\r\n\r\n              <td v-if=\"filterCase(stage.stageCode).length\">\r\n                {{ filterCase(stage.stageCode).length }}\r\n              </td>\r\n              <td v-else>0</td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </template>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport CasefileDataService from \"../../services/CasefileDataService\";\r\nimport StageDataService from \"../../services/StageDataService\";\r\n// import DeptDataService from \"../../services/DeptDataService\";\r\n\r\nexport default {\r\n  name: \"brTabDetail\",\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      casefiles: [],\r\n      stages: [],\r\n      // departments: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.retrievecasefiles(this.$route.params.id);\r\n    // this.retrieveDepts(this.$route.params.id);\r\n    this.retrieveStages();\r\n  },\r\n\r\n  computed: {\r\n    filteredCasefiles() {\r\n      if (\r\n        this.$store.state.auth.user.roles.includes(\"MANAGER\") ||\r\n        this.$store.state.auth.user.roles.includes(\"ADMIN\")\r\n      ) {\r\n        return this.casefiles;\r\n      } else if (\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHCLERK\") ||\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHMANAGER\")\r\n      ) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch)\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"ADJUSTER\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.adjuster)\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"EDITOR\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.editor)\r\n        );\r\n      } else return this.casefiles;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    filterCase(item) {\r\n      return this.filteredCasefiles.filter((a) => a.fileStatus === item);\r\n    },\r\n    retrievecasefiles(id) {\r\n      CasefileDataService.getAllBranch(id)\r\n        .then((response) => {\r\n          this.casefiles = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    retrieveStages() {\r\n      StageDataService.getAll()\r\n        .then((response) => {\r\n          this.stages = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    // retrieveDepts(id) {\r\n    //   DeptDataService.get(id)\r\n    //     .then((response) => {\r\n    //       this.departments = response.data;\r\n    //     })\r\n    //     .catch((e) => {\r\n    //       console.log(e);\r\n    //     });\r\n    // },\r\n\r\n    viewItem(fileStatus, branch) {\r\n      this.$router.push({\r\n        name: \"detail-by-branch\",\r\n        // params: { fileStatus: fileStatus },\r\n        params: { fileStatus: fileStatus, branch: branch },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./brTabDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./brTabDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./brTabDetail.vue?vue&type=template&id=1dd147bd\"\nimport script from \"./brTabDetail.vue?vue&type=script&lang=js\"\nexport * from \"./brTabDetail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}