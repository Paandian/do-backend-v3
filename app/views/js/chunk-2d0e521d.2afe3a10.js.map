{"version":3,"sources":["webpack:///./src/views/detailView/brTabDetail.vue","webpack:///src/views/detailView/brTabDetail.vue","webpack:///./src/views/detailView/brTabDetail.vue?63fc","webpack:///./src/views/detailView/brTabDetail.vue?89b6"],"names":["attrs","staticStyle","_c","staticClass","_vm","scopedSlots","fn","stage","cursor","stageCode","staticRenderFns","name","components","data","casefiles","stages","loading","mounted","Promise","all","retrievecasefiles","$route","params","id","retrieveStages","finally","computed","filteredCasefiles","$store","state","auth","user","roles","includes","filter","x","dept","refType","branches","branch","toString","adjuster","editor","methods","filterCase","item","a","fileStatus","CasefileDataService","getAllBranch","then","response","catch","e","console","log","StageDataService","getAll","viewItem","$router","push","component"],"mappings":"2LAAmI,W,IAAO,OAACA,EAAK,EAAC,S,OAAC,SAAQ,CAAE,0BAAE,YAAc,CAAeC,MAAW,OAAkB,MAAC,CAACD,MAAM,K,CAAoB,UAAQ,WAAQ,aAAIE,OAAU,SAA+DF,MAAM,CAAC,QAAO,SAAI,iBAA8BA,GAAK,OAAC,C,YAAC,iD,MAAmB,CAAkB,KAAO,OAAgB,WAAG,MAAI,CAAOG,cAAkB,GAACF,MAAW,UAAE,UAAqB,MAAQ,OAAaG,EAAG,MAAI,CAA8DJ,YAAM,O,YAAS,CAAG,qBAACK,MAAW,Y,CAAwBC,EAAG,mCAAU,mB,MAAC,C,MAAsCH,I,YAA6DA,EAAW,GAAC,E,IAAe,U,GAAgF,W,MAAmB,GAACI,QAAQ,iB,YAAQ,e,GACz4BC,oBAAuBD,OAAME,C,YAGpBL,e,CACX,EAAE,iE,OAAI,Q,IAAC,EAAQ,G,MAAoB,CAI9B,gEAAC,+CAAgM,GAAG,CAAC,kBAAO,6HAC5N,+JACGM,K,iFCqDW,GACfC,KAAA,cACAC,WAAA,GAEAC,OACA,OACAC,UAAA,GACAC,OAAA,GAEAC,SAAA,IAGAC,UACA,KAAAD,SAAA,EACAE,QAAAC,IAAA,CACA,KAAAC,kBAAA,KAAAC,OAAAC,OAAAC,IACA,KAAAC,mBACAC,QAAA,KACA,KAAAT,SAAA,KAKAU,SAAA,CACAC,oBACA,OACA,KAAAC,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,YACA,KAAAL,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,SAEA,KAAAnB,UAEA,KAAAc,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,gBACA,KAAAL,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,iBAEA,KAAAnB,UAAAoB,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SAEA,KAAAX,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,YACA,KAAAnB,UAAAoB,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SACA,KAAAX,OAAAC,MAAAC,KAAAC,KAAAR,GAAAiB,WAAAP,SAAAE,EAAAM,WAEA,KAAAb,OAAAC,MAAAC,KAAAC,KAAAC,MAAAC,SAAA,UACA,KAAAnB,UAAAoB,OACAC,GACA,KAAAP,OAAAC,MAAAC,KAAAC,KAAAK,KAAAH,SAAAE,EAAAE,UACA,KAAAT,OAAAC,MAAAC,KAAAC,KAAAO,SAAAL,SAAAE,EAAAI,SACA,KAAAX,OAAAC,MAAAC,KAAAC,KAAAR,GAAAiB,WAAAP,SAAAE,EAAAO,SAEA,KAAA5B,YAIA6B,QAAA,CACAC,WAAAC,GACA,YAAAlB,kBAAAO,OAAAY,KAAAC,aAAAF,IAEAzB,kBAAAG,GACA,OAAAyB,OAAAC,aAAA1B,GACA2B,KAAAC,IACA,KAAArC,UAAAqC,EAAAtC,OAEAuC,MAAAC,IACAC,QAAAC,IAAAF,MAIA7B,iBACA,OAAAgC,OAAAC,SACAP,KAAAC,IACA,KAAApC,OAAAoC,EAAAtC,OAEAuC,MAAAC,IACAC,QAAAC,IAAAF,MAcAK,SAAAX,EAAAR,GACA,KAAAoB,QAAAC,KAAA,CACAjD,KAAA,mBAEAW,OAAA,CAAAyB,aAAAR,eC/JmW,I,YCO/VsB,EAAY,eACd,EACA,EACAnD,GACA,EACA,KACA,KACA,MAIa,aAAAmD,E","file":"js/chunk-2d0e521d.2afe3a10.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"text-center\",staticStyle:{\"width\":\"80%\"},attrs:{\"fluid\":\"\"}},[(_vm.loading)?[_c('v-row',{staticStyle:{\"height\":\"300px\"},attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"d-flex flex-column align-center justify-center\",attrs:{\"cols\":\"12\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\",\"size\":\"80\",\"width\":\"8\"}}),_c('div',{staticClass:\"mt-4\",staticStyle:{\"font-size\":\"1.5rem\",\"color\":\"#1976d2\"}},[_vm._v(\" Loading, please wait... \")])],1)],1)]:[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_vm._v(\"DESCRIPTION\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"NUMBER OF FILES\")])])]),_c('tbody',_vm._l((_vm.stages),function(stage){return _c('tr',{key:stage.id,style:({\n              cursor: _vm.filterCase(stage.stageCode).length\n                ? 'pointer'\n                : 'not-allowed',\n              opacity: _vm.filterCase(stage.stageCode).length ? 1 : 0.5,\n            }),on:{\"click\":function($event){_vm.filterCase(stage.stageCode).length &&\n                _vm.viewItem(\n                  _vm.filterCase(stage.stageCode)[0].fileStatus,\n                  _vm.filterCase(stage.stageCode)[0].branch\n                )}}},[_c('td',[_vm._v(\" \"+_vm._s(stage.name)+\" \")]),(_vm.filterCase(stage.stageCode).length)?_c('td',[_vm._v(\" \"+_vm._s(_vm.filterCase(stage.stageCode).length)+\" \")]):_c('td',[_vm._v(\"0\")])])}),0)]},proxy:true}])})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"text-center\" fluid style=\"width: 80%\">\r\n    <template v-if=\"loading\">\r\n      <v-row justify=\"center\" align=\"center\" style=\"height: 300px\">\r\n        <v-col cols=\"12\" class=\"d-flex flex-column align-center justify-center\">\r\n          <v-progress-circular\r\n            indeterminate\r\n            color=\"primary\"\r\n            size=\"80\"\r\n            width=\"8\"\r\n          ></v-progress-circular>\r\n          <div class=\"mt-4\" style=\"font-size: 1.5rem; color: #1976d2\">\r\n            Loading, please wait...\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n    </template>\r\n    <template v-else>\r\n      <v-simple-table dense>\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">DESCRIPTION</th>\r\n              <th class=\"text-center\">NUMBER OF FILES</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              v-for=\"stage in stages\"\r\n              :key=\"stage.id\"\r\n              :style=\"{\r\n                cursor: filterCase(stage.stageCode).length\r\n                  ? 'pointer'\r\n                  : 'not-allowed',\r\n                opacity: filterCase(stage.stageCode).length ? 1 : 0.5,\r\n              }\"\r\n              @click=\"\r\n                filterCase(stage.stageCode).length &&\r\n                  viewItem(\r\n                    filterCase(stage.stageCode)[0].fileStatus,\r\n                    filterCase(stage.stageCode)[0].branch\r\n                  )\r\n              \"\r\n            >\r\n              <td>\r\n                {{ stage.name }}\r\n              </td>\r\n              <td v-if=\"filterCase(stage.stageCode).length\">\r\n                {{ filterCase(stage.stageCode).length }}\r\n              </td>\r\n              <td v-else>0</td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </template>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport CasefileDataService from \"../../services/CasefileDataService\";\r\nimport StageDataService from \"../../services/StageDataService\";\r\n// import DeptDataService from \"../../services/DeptDataService\";\r\n\r\nexport default {\r\n  name: \"brTabDetail\",\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      casefiles: [],\r\n      stages: [],\r\n      // departments: [],\r\n      loading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loading = true;\r\n    Promise.all([\r\n      this.retrievecasefiles(this.$route.params.id),\r\n      this.retrieveStages(),\r\n    ]).finally(() => {\r\n      this.loading = false;\r\n    });\r\n    // this.retrieveDepts(this.$route.params.id);\r\n  },\r\n\r\n  computed: {\r\n    filteredCasefiles() {\r\n      if (\r\n        this.$store.state.auth.user.roles.includes(\"MANAGER\") ||\r\n        this.$store.state.auth.user.roles.includes(\"ADMIN\")\r\n      ) {\r\n        return this.casefiles;\r\n      } else if (\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHCLERK\") ||\r\n        this.$store.state.auth.user.roles.includes(\"BRANCHMANAGER\")\r\n      ) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch)\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"ADJUSTER\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.adjuster)\r\n        );\r\n      } else if (this.$store.state.auth.user.roles.includes(\"EDITOR\")) {\r\n        return this.casefiles.filter(\r\n          (x) =>\r\n            this.$store.state.auth.user.dept.includes(x.refType) &&\r\n            this.$store.state.auth.user.branches.includes(x.branch) &&\r\n            this.$store.state.auth.user.id.toString().includes(x.editor)\r\n        );\r\n      } else return this.casefiles;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    filterCase(item) {\r\n      return this.filteredCasefiles.filter((a) => a.fileStatus === item);\r\n    },\r\n    retrievecasefiles(id) {\r\n      return CasefileDataService.getAllBranch(id)\r\n        .then((response) => {\r\n          this.casefiles = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    retrieveStages() {\r\n      return StageDataService.getAll()\r\n        .then((response) => {\r\n          this.stages = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    // retrieveDepts(id) {\r\n    //   DeptDataService.get(id)\r\n    //     .then((response) => {\r\n    //       this.departments = response.data;\r\n    //     })\r\n    //     .catch((e) => {\r\n    //       console.log(e);\r\n    //     });\r\n    // },\r\n\r\n    viewItem(fileStatus, branch) {\r\n      this.$router.push({\r\n        name: \"detail-by-branch\",\r\n        // params: { fileStatus: fileStatus },\r\n        params: { fileStatus: fileStatus, branch: branch },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./brTabDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./brTabDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./brTabDetail.vue?vue&type=template&id=0d8e5592\"\nimport script from \"./brTabDetail.vue?vue&type=script&lang=js\"\nexport * from \"./brTabDetail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}