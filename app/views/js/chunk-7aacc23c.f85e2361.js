(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aacc23c"],{"0c8e":function(e,a,t){},d548:function(e,a,t){"use strict";t("0c8e")},eec5:function(e,a,t){"use strict";t.r(a);var r=t("c6a6"),s=t("8336"),c=t("b0af"),i=t("99d9"),n=t("cc20"),l=t("62ad"),o=t("a523"),d=t("132d"),h=t("8860"),m=t("da13"),u=t("5d23"),v=t("34c3"),p=t("0fd9"),b=t("b974"),f=t("8654"),g=function(){var e=this,a=e._self._c;return a(o["a"],{attrs:{fluid:""}},[a(p["a"],{staticClass:"mb-6"},[a(l["a"],{attrs:{cols:"12",md:"6"}},[a(c["a"],{staticClass:"welcome-card h-100",attrs:{elevation:"4"}},[a(i["c"],{staticClass:"text-center py-6"},[a("div",{staticClass:"greeting-text"},[a("h1",{staticClass:"text-h3 font-weight-bold mb-2"},[e._v(" "+e._s(e.greeting)+", "+e._s(e.currentUser.username)+"! ")]),a("p",{staticClass:"text-h6 mb-4"},[e._v(e._s(e.welcomeMessage))]),a(n["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[a(d["a"],{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" "+e._s(e.currentTime)+" ")],1),a(n["a"],{staticClass:"ma-1",attrs:{color:"white",label:"","text-color":"primary"}},[a(d["a"],{attrs:{left:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(e.currentDate)+" ")],1)],1)])],1)],1),a(l["a"],{attrs:{cols:"12",md:"6"}},[a(c["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[a(i["d"],{staticClass:"primary white--text"},[a(d["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-magnify")]),e._v(" Advanced Search ")],1),a(i["c"],{staticClass:"pt-4"},[a(p["a"],[a(l["a"],{attrs:{cols:"12",md:"6"}},[a(f["a"],{staticClass:"mb-3",attrs:{label:"Search by keyword",placeholder:"Case ID, Vehicle No, etc","prepend-icon":"mdi-text-search",clearable:"",outlined:"","hide-details":"auto"},model:{value:e.advancedSearch.keyword,callback:function(a){e.$set(e.advancedSearch,"keyword",a)},expression:"advancedSearch.keyword"}})],1),a(l["a"],{attrs:{cols:"12",md:"6"}},[a(b["a"],{staticClass:"mb-3",attrs:{items:e.departmentsForFilter,"item-text":"name","item-value":"id",label:"Department","prepend-icon":"mdi-domain",outlined:"",clearable:"","hide-details":"auto"},model:{value:e.advancedSearch.dept,callback:function(a){e.$set(e.advancedSearch,"dept",a)},expression:"advancedSearch.dept"}})],1),a(l["a"],{attrs:{cols:"12",md:"6"}},[a(b["a"],{staticClass:"mb-3",attrs:{items:e.branchesForFilter,"item-text":"name","item-value":"id",label:"Branch","prepend-icon":"mdi-office-building",outlined:"",clearable:"","hide-details":"auto"},model:{value:e.advancedSearch.branch,callback:function(a){e.$set(e.advancedSearch,"branch",a)},expression:"advancedSearch.branch"}})],1),a(l["a"],{attrs:{cols:"12",md:"6"}},[a(r["a"],{staticClass:"mb-3",attrs:{items:e.insurers,"item-text":"name","item-value":"id",label:"Insurer","prepend-icon":"mdi-shield-account",outlined:"",clearable:"","hide-details":"auto"},model:{value:e.advancedSearch.insurer,callback:function(a){e.$set(e.advancedSearch,"insurer",a)},expression:"advancedSearch.insurer"}})],1),a(l["a"],{attrs:{cols:"12",md:"6"}},[a(b["a"],{staticClass:"mb-3",attrs:{items:e.stagesForFilter,"item-text":"name","item-value":"stageCode",label:"Status","prepend-icon":"mdi-flag",outlined:"",clearable:"","hide-details":"auto"},model:{value:e.advancedSearch.status,callback:function(a){e.$set(e.advancedSearch,"status",a)},expression:"advancedSearch.status"}})],1)],1),a(p["a"],[a(l["a"],{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[a(s["a"],{staticClass:"mr-2",attrs:{color:"primary",loading:e.searchLoading,disabled:!e.isAdvancedSearchValid},on:{click:e.performAdvancedSearch}},[a(d["a"],{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1),a(s["a"],{attrs:{text:""},on:{click:e.resetAdvancedSearch}},[e._v("Clear")])],1)],1)],1)],1)],1)],1),a(p["a"],[a(l["a"],{attrs:{cols:"12",md:"4"}},[a(c["a"],{staticClass:"h-100",attrs:{elevation:"2"}},[a(i["d"],{staticClass:"primary white--text"},[a(d["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-account-circle")]),e._v(" Profile Information ")],1),a(i["c"],{staticClass:"mt-4"},[a(h["a"],{attrs:{dense:""}},[e.currentUser.fullname?a(m["a"],[a(v["a"],[a(d["a"],[e._v("mdi-card-account-details")])],1),a(u["a"],[a(u["c"],[e._v(e._s(e.currentUser.fullname))])],1)],1):e._e(),a(m["a"],[a(v["a"],[a(d["a"],[e._v("mdi-email")])],1),a(u["a"],[a(u["c"],[e._v(e._s(e.currentUser.email))])],1)],1),a(m["a"],[a(v["a"],[a(d["a"],[e._v("mdi-shield-account")])],1),a(u["a"],[a(u["c"],[e._v("Roles")]),a(u["b"],e._l(e.currentUser.roles,(function(t){return a(n["a"],{key:t,staticClass:"mr-2 mt-2",attrs:{small:"",color:"primary","text-color":"white"}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),e.currentUser.branches&&e.currentUser.branches.length>0?a(m["a"],[a(v["a"],[a(d["a"],[e._v("mdi-office-building")])],1),a(u["a"],[a(u["c"],[e._v("Assigned Branches")]),a(u["b"],e._l(e.branchNames,(function(t){return a(n["a"],{key:t.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length>0?a(m["a"],[a(v["a"],[a(d["a"],[e._v("mdi-domain")])],1),a(u["a"],[a(u["c"],[e._v("Assigned Departments")]),a(u["b"],e._l(e.deptNames,(function(t){return a(n["a"],{key:t.id,staticClass:"mr-2 mt-2",attrs:{small:"",color:"secondary","text-color":"white"}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1):e._e()],1)],1)],1)],1),a(l["a"],{attrs:{cols:"12",md:"8"}},[a(c["a"],{attrs:{elevation:"2"}},[a(i["d"],{staticClass:"primary white--text"},[a(d["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-lightning-bolt")]),e._v(" Quick Access ")],1),a(i["c"],[a(p["a"],e._l(e.quickAccessItems,(function(t,r){return a(l["a"],{key:r,attrs:{cols:"12",sm:"6",md:"4"}},[a(c["a"],{staticClass:"text-center pa-4",attrs:{to:t.route,hover:"",outlined:""}},[a(d["a"],{attrs:{size:"48",color:"primary"}},[e._v(e._s(t.icon))]),a("div",{staticClass:"title mt-2"},[e._v(e._s(t.title))]),a("div",{staticClass:"caption grey--text"},[e._v(e._s(t.description))])],1)],1)})),1)],1)],1)],1)],1)],1)},S=[],y=(t("14d9"),t("e9f5"),t("910d"),t("f665"),t("ab43"),t("a732"),t("fde1")),_=t("cb28"),w=t("d14b"),C=t("5632"),k={name:"Welcome",data(){return{currentTime:"",currentDate:"",clockInterval:null,branches:[],departments:[],quickAccessItems:[{title:"Casefiles",icon:"mdi-folder-multiple",description:"View all casefiles",route:"/home"},{title:"Listing",icon:"mdi-format-list-bulleted",description:"View by Category",route:"/listing"},{title:"Profile",icon:"mdi-account-circle",description:"Your profile",route:"/profile"},{title:"Basic Reports",icon:"mdi-clipboard-file",description:"View basic reports",route:"/reports"},{title:"Detail Reports",icon:"mdi-clipboard-search",description:"View detailed reports",route:"/reportsTwo"},{title:"Claims",icon:"mdi-cash-multiple",description:"Manage claims",route:"/claims"}],searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},stages:[],insurers:[]}},computed:{currentUser(){return this.$store.state.auth.user},branchNames(){return this.currentUser.branches.map(e=>this.branches.find(a=>a.id===e)).filter(e=>e)},deptNames(){return this.currentUser.dept.map(e=>this.departments.find(a=>a.id===e)).filter(e=>e)},greeting(){const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"},welcomeMessage(){const e=["Welcome to your Document Management Workspace","Here's your personalized workspace","Your document control center awaits","Managing documents made simple","Access all your documents in one place","Streamline your document workflow today","Your digital document hub is ready","Efficiently manage your documents here","Welcome to your secure document portal"];return e[Math.floor(Math.random()*e.length)]},departmentsForFilter(){if(!this.departments||0===this.departments.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.departments].sort((e,a)=>e.name.localeCompare(a.name));return[{id:"all",name:"All Departments"},...e]}const a=Array.isArray(e.dept)?e.dept:[e.dept],t=this.departments.filter(e=>a.some(a=>a===e.id)).sort((e,a)=>e.name.localeCompare(a.name));return[{id:"all",name:"All Departments"},...t]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,a)=>e.name.localeCompare(a.name));return[{id:"all",name:"All Branches"},...e]}const a=Array.isArray(e.branches)?e.branches:[e.branches],t=this.branches.filter(e=>a.some(a=>a===e.id)).sort((e,a)=>e.name.localeCompare(a.name));return[{id:"all",name:"All Branches"},...t]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=this.stages.filter(e=>e.stageCode&&e.name);return[{stageCode:"all",name:"All Statuses"},...e]},isAdvancedSearchValid(){return this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer}},methods:{retrieveBranches(){y["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepartments(){_["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},retrieveStages(){w["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveInsurers(){C["a"].getAll().then(e=>{this.insurers=e.data.sort((e,a)=>e.name.localeCompare(a.name))}).catch(e=>{console.log(e)})},updateDateTime(){const e=new Date;this.currentTime=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e),this.currentDate=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(e)},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const a={};this.advancedSearch.keyword&&(a.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(a.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(a.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(a.status=this.advancedSearch.status),this.advancedSearch.insurer&&"all"!==this.advancedSearch.insurer&&(a.insurer=this.advancedSearch.insurer);try{const e=JSON.stringify(a);e.length<=4096&&localStorage.setItem("lastSearchCriteria",e)}catch(e){console.warn("Unable to save search criteria:",e)}await this.$router.push({name:"advancedSearch",query:a})}catch(a){console.error("Search error:",a)}finally{this.searchLoading=!1}}},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null},localStorage.removeItem("lastSearchCriteria")},loadSavedSearchCriteria(){try{const e=localStorage.getItem("lastSearchCriteria");if(e){const a=JSON.parse(e);this.advancedSearch={keyword:a.keyword||"",dept:a.dept||null,branch:a.branch||null,status:a.status||null,insurer:a.insurer||null}}}catch(e){console.error("Error loading saved search criteria:",e)}}},mounted(){this.retrieveBranches(),this.retrieveDepartments(),this.retrieveStages(),this.retrieveInsurers(),this.updateDateTime(),this.clockInterval=setInterval(this.updateDateTime,6e4),this.loadSavedSearchCriteria()},beforeDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}},A=k,x=(t("d548"),t("2877")),D=Object(x["a"])(A,g,S,!1,null,"513165ac",null);a["default"]=D.exports}}]);
//# sourceMappingURL=chunk-7aacc23c.f85e2361.js.map