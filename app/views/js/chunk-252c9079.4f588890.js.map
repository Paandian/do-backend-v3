{"version":3,"sources":["webpack:///../../../src/components/VFileInput/VFileInput.ts","webpack:///../../../src/components/VTextField/index.ts","webpack:///./src/views/Profile.vue?47a9","webpack:///./src/assets/Default-profile.png","webpack:///./src/services/UploadDocsService.js","webpack:///../../../src/components/VSpeedDial/VSpeedDial.ts","webpack:///./src/views/Profile.vue","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?333c","webpack:///./src/views/Profile.vue?c159"],"names":["VTextField","extend","name","model","prop","event","props","chips","Boolean","clearable","type","default","counterSizeString","String","counterString","hideInput","multiple","placeholder","prependIcon","readonly","showSize","Number","validator","v","includes","smallChips","truncateLength","value","undefined","val","wrapInArray","every","computed","classes","options","call","this","computedCounterValue","fileCount","lazyValue","length","File","$vuetify","lang","t","bytes","internalArrayValue","reduce","size","humanReadableFileSize","base","internalValue","get","set","$emit","isDirty","isLabelActive","text","persistentPlaceholder","isFocused","hasLabel","map","file","truncatedText","truncateText","hasChips","watch","handler","consoleError","immediate","deepEqual","$refs","input","files","methods","clearableCallback","genChips","index","$createElement","VChip","small","on","click:close","splice","genControl","render","data","style","mergeStyles","display","genInput","attrs","domProps","change","onInput","genSelections","genPrependSlot","icon","genIcon","click","genSlot","genSelectionText","counter","children","$scopedSlots","selection","forEach","push","staticClass","class","genTextFieldSlot","node","e","target","nodeName","initialValue","onKeyDown","str","charsKeepOneSide","Math","floor","slice","module","exports","UploadDocsService","upload","formData","onUploadProgress","http","post","headers","uploadPhoto","FormData","append","uploadExcel","getFiles","getPhotos","mixins","Positionable","Toggleable","Transitionable","directives","ClickOutside","direction","openOnHover","transition","top","right","bottom","left","absolute","fixed","isActive","h","mouseenter","mouseleave","btnCount","getSlot","b","i","tag","componentOptions","Ctor","key","transitionDelay","list","mode","origin","scopedSlots","_vm","_c","_v","proxy","fab","expression","callback","$$v","uploadDialog","passDialog","position","currentUser","idx","_l","branches","editDialog","members","telnumber","$set","address","emcontactname","emcontactno","save","valid","show1","password","fn","score","required","updatePass","currentFile","staticRenderFns","components","opacity","show2","rules","number","test","min","strength","zxcvbn","emailMatch","confPassword","editValid","progress","message","fileInfos","profileRules","id","username","fullname","profile","nric","email","datejoined","empid","usercode","active","roles","depts","departments","isEditDisabled","result","color","editDialogDisabled","$store","state","auth","user","computedDate","moment","format","disabled","handleImageError","closeEditDialog","$nextTick","formatDate","filterStates","item","filter","branch","retrieveBranches","BranchDataService","getAll","then","response","catch","console","log","filterDept","dept","retrieveDepts","DeptDataService","retrieveMembers","MemberDataService","selectFile","refreshList","editdata","updateProfile","dispatch","showing","toString","closeUploadDialog","uploadConfirm","UploadService","round","loaded","total","updatePhoto","setTimeout","changepass","mounted","$router","component"],"mappings":"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","file":"js/chunk-252c9079.4f588890.js","sourcesContent":["// Styles\nimport './VFileInput.sass'\n\n// Extensions\nimport VTextField from '../VTextField'\n\n// Components\nimport { VChip } from '../VChip'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n// Utilities\nimport { deepEqual, humanReadableFileSize, wrapInArray } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport { mergeStyles } from '../../util/mergeData'\n\nexport default VTextField.extend({\n  name: 'v-file-input',\n\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n\n  props: {\n    chips: Boolean,\n    clearable: {\n      type: Boolean,\n      default: true,\n    },\n    counterSizeString: {\n      type: String,\n      default: '$vuetify.fileInput.counterSize',\n    },\n    counterString: {\n      type: String,\n      default: '$vuetify.fileInput.counter',\n    },\n    hideInput: Boolean,\n    multiple: Boolean,\n    placeholder: String,\n    prependIcon: {\n      type: String,\n      default: '$file',\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    showSize: {\n      type: [Boolean, Number],\n      default: false,\n      validator: (v: boolean | number) => {\n        return (\n          typeof v === 'boolean' ||\n          [1000, 1024].includes(v)\n        )\n      },\n    } as PropValidator<boolean | 1000 | 1024>,\n    smallChips: Boolean,\n    truncateLength: {\n      type: [Number, String],\n      default: 22,\n    },\n    type: {\n      type: String,\n      default: 'file',\n    },\n    value: {\n      default: undefined,\n      validator: val => {\n        return wrapInArray(val).every(v => v != null && typeof v === 'object')\n      },\n    } as PropValidator<File | File[]>,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-file-input': true,\n      }\n    },\n    computedCounterValue (): string {\n      const fileCount = (this.multiple && this.lazyValue)\n        ? this.lazyValue.length\n        : (this.lazyValue instanceof File) ? 1 : 0\n\n      if (!this.showSize) return this.$vuetify.lang.t(this.counterString, fileCount)\n\n      const bytes = this.internalArrayValue.reduce((bytes: number, { size = 0 }: File) => {\n        return bytes + size\n      }, 0)\n\n      return this.$vuetify.lang.t(\n        this.counterSizeString,\n        fileCount,\n        humanReadableFileSize(bytes, this.base === 1024)\n      )\n    },\n    internalArrayValue (): File[] {\n      return wrapInArray(this.internalValue)\n    },\n    internalValue: {\n      get (): File[] {\n        return this.lazyValue\n      },\n      set (val: File | File[]) {\n        this.lazyValue = val\n        this.$emit('change', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.internalArrayValue.length > 0\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    text (): string[] {\n      if (!this.isDirty && (this.persistentPlaceholder || this.isFocused || !this.hasLabel)) return [this.placeholder]\n\n      return this.internalArrayValue.map((file: File) => {\n        const {\n          name = '',\n          size = 0,\n        } = file\n\n        const truncatedText = this.truncateText(name)\n\n        return !this.showSize\n          ? truncatedText\n          : `${truncatedText} (${humanReadableFileSize(size, this.base === 1024)})`\n      })\n    },\n    base (): 1000 | 1024 | undefined {\n      return typeof this.showSize !== 'boolean' ? this.showSize : undefined\n    },\n    hasChips (): boolean {\n      return this.chips || this.smallChips\n    },\n  },\n\n  watch: {\n    readonly: {\n      handler (v) {\n        if (v === true) consoleError('readonly is not supported on <v-file-input>', this)\n      },\n      immediate: true,\n    },\n    value (v) {\n      const value = this.multiple ? v : v ? [v] : []\n      if (!deepEqual(value, this.$refs.input.files)) {\n        // When the input value is changed programatically, clear the\n        // internal input's value so that the `onInput` handler\n        // can be triggered again if the user re-selects the exact\n        // same file(s). Ideally, `input.files` should be\n        // manipulated directly but that property is readonly.\n        this.$refs.input.value = ''\n      }\n    },\n  },\n\n  methods: {\n    clearableCallback () {\n      this.internalValue = this.multiple ? [] : null\n      this.$refs.input.value = ''\n    },\n    genChips () {\n      if (!this.isDirty) return []\n\n      return this.text.map((text, index) => this.$createElement(VChip, {\n        props: { small: this.smallChips },\n        on: {\n          'click:close': () => {\n            const internalValue = this.internalValue\n            internalValue.splice(index, 1)\n            this.internalValue = internalValue // Trigger the watcher\n          },\n        },\n      }, [text]))\n    },\n    genControl () {\n      const render = VTextField.options.methods.genControl.call(this)\n\n      if (this.hideInput) {\n        render.data!.style = mergeStyles(\n          render.data!.style,\n          { display: 'none' }\n        )\n      }\n\n      return render\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data!.attrs!.multiple = this.multiple\n\n      // We should not be setting value\n      // programmatically on the input\n      // when it is using type=\"file\"\n      delete input.data!.domProps!.value\n\n      // This solves an issue in Safari where\n      // nothing happens when adding a file\n      // due to the input event not firing\n      // https://github.com/vuetifyjs/vuetify/issues/7941\n      delete input.data!.on!.input\n      input.data!.on!.change = this.onInput\n\n      return [this.genSelections(), input]\n    },\n    genPrependSlot () {\n      if (!this.prependIcon) return null\n\n      const icon = this.genIcon('prepend', () => {\n        this.$refs.input.click()\n      })\n\n      return this.genSlot('prepend', 'outer', [icon])\n    },\n    genSelectionText (): string[] {\n      const length = this.text.length\n\n      if (length < 2) return this.text\n      if (this.showSize && !this.counter) return [this.computedCounterValue]\n      return [this.$vuetify.lang.t(this.counterString, length)]\n    },\n    genSelections () {\n      const children = []\n\n      if (this.isDirty && this.$scopedSlots.selection) {\n        this.internalArrayValue.forEach((file: File, index: number) => {\n          if (!this.$scopedSlots.selection) return\n\n          children.push(\n            this.$scopedSlots.selection({\n              text: this.text[index],\n              file,\n              index,\n            })\n          )\n        })\n      } else {\n        children.push(this.hasChips && this.isDirty ? this.genChips() : this.genSelectionText())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-file-input__text',\n        class: {\n          'v-file-input__text--placeholder': this.placeholder && !this.isDirty,\n          'v-file-input__text--chips': this.hasChips && !this.$scopedSlots.selection,\n        },\n      }, children)\n    },\n    genTextFieldSlot () {\n      const node = VTextField.options.methods.genTextFieldSlot.call(this)\n\n      node.data!.on = {\n        ...(node.data!.on || {}),\n        click: (e: MouseEvent) => {\n          // Clicking the label already delegates to input element, so we shouldn't click it twice\n          if (e.target && (e.target as HTMLElement).nodeName === 'LABEL') return\n\n          this.$refs.input.click()\n        },\n      }\n\n      return node\n    },\n    onInput (e: Event) {\n      const files = [...(e.target as HTMLInputElement).files || []]\n\n      this.internalValue = this.multiple ? files : files[0]\n\n      // Set initialValue here otherwise isFocused\n      // watcher in VTextField will emit a change\n      // event whenever the component is blurred\n      this.initialValue = this.internalValue\n    },\n    onKeyDown (e: KeyboardEvent) {\n      this.$emit('keydown', e)\n    },\n    truncateText (str: string) {\n      if (str.length < Number(this.truncateLength)) return str\n      const charsKeepOneSide = Math.floor((Number(this.truncateLength) - 1) / 2)\n      return `${str.slice(0, charsKeepOneSide)}â€¦${str.slice(str.length - charsKeepOneSide)}`\n    },\n  },\n})\n","import VTextField from './VTextField'\n\nexport { VTextField }\nexport default VTextField\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=d0756854&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/Default-profile.09932d15.png\";","import http from \"../http-common\";\r\nclass UploadDocsService {\r\n  upload(formData, onUploadProgress) {\r\n    return http.post(\"/docs/upload\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      onUploadProgress,\r\n    });\r\n  }\r\n\r\n  uploadPhoto(file, onUploadProgress) {\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    return http.post(\r\n      `/members/upload`,\r\n      formData,\r\n\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        onUploadProgress,\r\n      }\r\n    );\r\n  }\r\n\r\n  uploadExcel(file, onUploadProgress) {\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    return http.post(\r\n      `/dropboxfiles/upload`,\r\n      formData,\r\n\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        onUploadProgress,\r\n      }\r\n    );\r\n  }\r\n  getFiles() {\r\n    return http.get(\"../docs\");\r\n  }\r\n  getPhotos() {\r\n    return http.get(\"../files\");\r\n  }\r\n}\r\nexport default new UploadDocsService();\r\n","// Styles\nimport './VSpeedDial.sass'\n\n// Mixins\nimport Toggleable from '../../mixins/toggleable'\nimport Positionable from '../../mixins/positionable'\nimport Transitionable from '../../mixins/transitionable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode, VNodeData } from 'vue'\nimport { Prop } from 'vue/types/options'\nimport { getSlot } from '../../util/helpers'\n\n/* @vue/component */\nexport default mixins(Positionable, Toggleable, Transitionable).extend({\n  name: 'v-speed-dial',\n\n  directives: { ClickOutside },\n\n  props: {\n    direction: {\n      type: String as Prop<'top' | 'right' | 'bottom' | 'left'>,\n      default: 'top',\n      validator: (val: string) => {\n        return ['top', 'right', 'bottom', 'left'].includes(val)\n      },\n    },\n    openOnHover: Boolean,\n    transition: {\n      type: String,\n      default: 'scale-transition',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-speed-dial': true,\n        'v-speed-dial--top': this.top,\n        'v-speed-dial--right': this.right,\n        'v-speed-dial--bottom': this.bottom,\n        'v-speed-dial--left': this.left,\n        'v-speed-dial--absolute': this.absolute,\n        'v-speed-dial--fixed': this.fixed,\n        [`v-speed-dial--direction-${this.direction}`]: true,\n        'v-speed-dial--is-active': this.isActive,\n      }\n    },\n  },\n\n  render (h): VNode {\n    let children: VNode[] = []\n    const data: VNodeData = {\n      class: this.classes,\n      directives: [{\n        name: 'click-outside',\n        value: () => (this.isActive = false),\n      }],\n      on: {\n        click: () => (this.isActive = !this.isActive),\n      },\n    }\n\n    if (this.openOnHover) {\n      data.on!.mouseenter = () => (this.isActive = true)\n      data.on!.mouseleave = () => (this.isActive = false)\n    }\n\n    if (this.isActive) {\n      let btnCount = 0\n      children = (getSlot(this) || []).map((b, i) => {\n        if (b.tag && typeof b.componentOptions !== 'undefined' && (b.componentOptions.Ctor.options.name === 'v-btn' || b.componentOptions.Ctor.options.name === 'v-tooltip')) {\n          btnCount++\n          return h('div', {\n            style: {\n              transitionDelay: btnCount * 0.05 + 's',\n            },\n            key: i,\n          }, [b])\n        } else {\n          b.key = i\n          return b\n        }\n      })\n    }\n\n    const list = h('transition-group', {\n      class: 'v-speed-dial__list',\n      props: {\n        name: this.transition,\n        mode: this.mode,\n        origin: this.origin,\n        tag: 'div',\n      },\n    }, children)\n\n    return h('div', data, [getSlot(this, 'activator'), list])\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile-page\"},[_c('div',{staticClass:\"cover-section\"},[_c('v-container',{staticClass:\"profile-container\"},[_c('v-card',{staticClass:\"profile-header-card\",attrs:{\"elevation\":\"3\"}},[_c('div',{staticClass:\"profile-header-content\"},[_c('div',{staticClass:\"avatar-section\"},[_c('v-avatar',{staticClass:\"profile-avatar\",attrs:{\"size\":\"120\"}},[_c('v-img',{attrs:{\"src\":_vm.members.profile || require('../assets/Default-profile.png'),\"alt\":_vm.members.username},on:{\"error\":_vm.handleImageError},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-icon',{attrs:{\"size\":\"64\",\"color\":\"primary\"}},[_vm._v(\"mdi-account-circle\")])]},proxy:true}])})],1),_c('v-speed-dial',{staticClass:\"profile-actions\",attrs:{\"direction\":'left',\"transition\":'slide-y-reverse-transition'},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"fab\":\"\",\"small\":\"\"},model:{value:(_vm.fab),callback:function ($$v) {_vm.fab=$$v},expression:\"fab\"}},[(_vm.fab)?_c('v-icon',[_vm._v(\"mdi-close\")]):_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)]},proxy:true}]),model:{value:(_vm.fab),callback:function ($$v) {_vm.fab=$$v},expression:\"fab\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":function($event){_vm.uploadDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-camera\")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"cyan\"},on:{\"click\":function($event){_vm.editDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-account-edit\")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"blue\"},on:{\"click\":function($event){_vm.passDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-form-textbox-password\")])],1)],1)],1),_c('div',{staticClass:\"user-info\"},[_c('h2',{staticClass:\"text-h4 font-weight-bold\"},[_vm._v(_vm._s(_vm.members.fullname))]),_c('div',{staticClass:\"subtitle-1 grey--text\"},[_vm._v(_vm._s(_vm.members.position))]),_c('div',{staticClass:\"mt-2\"},[_c('v-chip',{attrs:{\"small\":\"\",\"color\":_vm.members.active ? 'success' : 'grey',\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.members.active ? \"Active\" : \"Inactive\")+\" \")]),_vm._l((_vm.currentUser.roles),function(role,index){return _c('v-chip',{key:index,staticClass:\"ml-2\",attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\"}},[_vm._v(\" \"+_vm._s(role)+\" \")])})],2)])])]),_c('v-row',{staticClass:\"mt-6\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"mb-4\"},[_c('v-card-title',{staticClass:\"subtitle-1 font-weight-bold d-flex align-center\"},[_vm._v(\" Personal Information \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.editDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)],1),_c('v-divider'),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-email\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Email\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.email))])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-phone\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Phone\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.telnumber))])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-card-account-details\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"NRIC\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.nric))])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-map-marker\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Address\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.address))])],1)],1)],1)],1),_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" Emergency Contact \")]),_c('v-divider'),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-account-alert\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Contact Name\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.emcontactname))])],1)],1),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-phone-alert\")])],1),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Contact Number\")]),_c('v-list-item-title',[_vm._v(_vm._s(_vm.members.emcontactno))])],1)],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-card',{staticClass:\"mb-4\"},[_c('v-card-title',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" Work Information \")]),_c('v-divider'),_c('v-card-text',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Employee ID\")]),_c('div',{staticClass:\"subtitle-1\"},[_vm._v(_vm._s(_vm.members.empid))])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"User Code\")]),_c('div',{staticClass:\"subtitle-1\"},[_vm._v(_vm._s(_vm.members.usercode))])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Date Joined\")]),_c('div',{staticClass:\"subtitle-1\"},[_vm._v(_vm._s(_vm.computedDate))])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Position\")]),_c('div',{staticClass:\"subtitle-1\"},[_vm._v(_vm._s(_vm.members.position))])])],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[(_vm.currentUser.dept)?_c('v-card',{staticClass:\"mb-4\"},[_c('v-card-title',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" Department \")]),_c('v-divider'),_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.currentUser.dept),function(i,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-domain\")])],1),_c('v-list-item-content',[_c('v-list-item-title',_vm._l((_vm.filterDept(i)),function(m,idx){return _c('div',{key:idx},[_vm._v(\" \"+_vm._s(m.name.toUpperCase())+\" \")])}),0)],1)],1)}),1)],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[(_vm.currentUser.branches)?_c('v-card',{staticClass:\"mb-4\"},[_c('v-card-title',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" Branch \")]),_c('v-divider'),_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.currentUser.branches),function(j,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-office-building\")])],1),_c('v-list-item-content',[_c('v-list-item-title',_vm._l((_vm.filterStates(j)),function(k,idx){return _c('div',{key:idx},[_vm._v(\" \"+_vm._s(k.name.toUpperCase())+\" \")])}),0)],1)],1)}),1)],1):_vm._e()],1)],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"fab\":\"\",\"dark\":\"\",\"color\":\"cyan\"},on:{\"click\":_vm.editDialog}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-pencil \")])],1)]}}]),model:{value:(_vm.editDialog),callback:function ($$v) {_vm.editDialog=$$v},expression:\"editDialog\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"justify-center text-h5 grey lighten-2\"},[_c('span',[_vm._v(\"Edit Profile\")])]),_c('v-card-text',[_c('v-container',[_c('v-form',[_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"Fullname:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"9\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Fullname*\",\"rules\":[_vm.rules.required]},model:{value:(_vm.members.fullname),callback:function ($$v) {_vm.$set(_vm.members, \"fullname\", $$v)},expression:\"members.fullname\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"NRIC:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"9\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"number\",\"hide-spin-buttons\":\"\",\"label\":\"NRIC*\",\"rules\":[_vm.rules.number, _vm.rules.required]},model:{value:(_vm.members.nric),callback:function ($$v) {_vm.$set(_vm.members, \"nric\", $$v)},expression:\"members.nric\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"Tel:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"9\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Tel. Number\"},model:{value:(_vm.members.telnumber),callback:function ($$v) {_vm.$set(_vm.members, \"telnumber\", $$v)},expression:\"members.telnumber\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"Address:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"9\",\"sm\":\"6\"}},[_c('v-textarea',{attrs:{\"dense\":\"\",\"auto-grow\":\"\",\"label\":\"Address\"},model:{value:(_vm.members.address),callback:function ($$v) {_vm.$set(_vm.members, \"address\", $$v)},expression:\"members.address\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"Emergency Contact:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Emergency Contact\"},model:{value:(_vm.members.emcontactname),callback:function ($$v) {_vm.$set(_vm.members, \"emcontactname\", $$v)},expression:\"members.emcontactname\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"6\"}},[_c('h4',[_vm._v(\"Emergency Contact No:\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Emergency Contact Number\"},model:{value:(_vm.members.emcontactno),callback:function ($$v) {_vm.$set(_vm.members, \"emcontactno\", $$v)},expression:\"members.emcontactno\"}})],1)],1)],1)],1),_c('small',[_vm._v(\"*indicates required field\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.closeEditDialog}},[_vm._v(\" Close \")]),_c('v-btn',{staticClass:\"warning\",attrs:{\"disabled\":_vm.isEditDisabled,\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Update \")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"fab\":\"\",\"dark\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.passDialog}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-form-textbox-password \")])],1)]}}]),model:{value:(_vm.passDialog),callback:function ($$v) {_vm.passDialog=$$v},expression:\"passDialog\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-form',[_c('v-card-title',{staticClass:\"justify-center text-h5 grey lighten-2\"},[_c('span',[_vm._v(\"Change Password\")])]),_c('v-card-text',[_c('v-container',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"disabled\":\"\",\"type\":\"text\",\"name\":\"username\",\"autoComplete\":\"username\"},model:{value:(_vm.members.email),callback:function ($$v) {_vm.$set(_vm.members, \"email\", $$v)},expression:\"members.email\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{staticClass:\"mb-6\",attrs:{\"label\":\"Password\",\"append-icon\":_vm.show1 ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.min, _vm.rules.strength],\"validate-on-blur\":\"\",\"type\":_vm.show1 ? 'text' : 'password',\"hint\":\"Minimum strength 75%\",\"persistent-hint\":\"\"},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-progress-linear',{attrs:{\"background-opacity\":_vm.opacity,\"color\":_vm.score.color,\"value\":_vm.score.value,\"height\":\"25\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ value }){return [_c('strong',[_vm._v(_vm._s(Math.ceil(value))+\"%\")])]}}]),model:{value:(_vm.score.value),callback:function ($$v) {_vm.$set(_vm.score, \"value\", $$v)},expression:\"score.value\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"append-icon\":_vm.show2 ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[\n                      _vm.rules.required,\n                      _vm.rules.min,\n                      _vm.password === _vm.confPassword || 'Password must match',\n                    ],\"type\":_vm.show2 ? 'text' : 'password',\"label\":\"Confirm Password*\",\"autocomplete\":\"confPassword\",\"id\":\"confPassword\",\"required\":\"\"},on:{\"click:append\":function($event){_vm.show2 = !_vm.show2}},model:{value:(_vm.confPassword),callback:function ($$v) {_vm.confPassword=$$v},expression:\"confPassword\"}})],1)],1)],1)],1),_c('small',[_vm._v(\"*indicates required field\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\",\"tile\":\"\"},on:{\"click\":function($event){_vm.passDialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{staticClass:\"warning\",attrs:{\"disabled\":!_vm.valid,\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.updatePass}},[_vm._v(\" Change \")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"fab\":\"\",\"dark\":\"\",\"color\":\"green\"},on:{\"click\":_vm.uploadDialog}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-cloud-upload-outline \")])],1)]}}]),model:{value:(_vm.uploadDialog),callback:function ($$v) {_vm.uploadDialog=$$v},expression:\"uploadDialog\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"justify-center text-h5 grey lighten-2\"},[_c('span',[_vm._v(\"Change Profile Image\")])]),_c('v-card-text',[_c('v-container',[_c('v-form',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"required\":\"\",\"rules\":_vm.profileRules,\"accept\":\"image/png, image/jpeg, image/bmp\",\"placeholder\":\"Pick a profile picture\",\"prepend-icon\":\"mdi-camera\",\"label\":\"Profile Picture*\",\"name\":\"file\"},on:{\"change\":_vm.selectFile},model:{value:(_vm.currentFile),callback:function ($$v) {_vm.currentFile=$$v},expression:\"currentFile\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.message)?_c('v-alert',{attrs:{\"width\":\"100%\",\"border\":\"left\",\"color\":\"blue-grey\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e()],1)],1)],1)],1),_c('small',[_vm._v(\"*indicates required field\")]),_vm._v(\" \"),_c('br'),_c('small',[_vm._v(\"*max size: 2MB\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.closeUploadDialog}},[_vm._v(\" Close \")]),_c('v-btn',{staticClass:\"success\",attrs:{\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.uploadConfirm}},[_vm._v(\" Upload \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"profile-page\">\r\n    <!-- Cover Section -->\r\n    <div class=\"cover-section\">\r\n      <v-container class=\"profile-container\">\r\n        <!-- Profile Header Card -->\r\n        <v-card class=\"profile-header-card\" elevation=\"3\">\r\n          <div class=\"profile-header-content\">\r\n            <!-- Avatar Section -->\r\n            <div class=\"avatar-section\">\r\n              <v-avatar size=\"120\" class=\"profile-avatar\">\r\n                <v-img\r\n                  :src=\"\r\n                    members.profile || require('../assets/Default-profile.png')\r\n                  \"\r\n                  :alt=\"members.username\"\r\n                  @error=\"handleImageError\"\r\n                >\r\n                  <template v-slot:placeholder>\r\n                    <v-icon size=\"64\" color=\"primary\"\r\n                      >mdi-account-circle</v-icon\r\n                    >\r\n                  </template>\r\n                </v-img>\r\n              </v-avatar>\r\n              <v-speed-dial\r\n                v-model=\"fab\"\r\n                :direction=\"'left'\"\r\n                :transition=\"'slide-y-reverse-transition'\"\r\n                class=\"profile-actions\"\r\n              >\r\n                <template v-slot:activator>\r\n                  <v-btn v-model=\"fab\" color=\"primary\" dark fab small>\r\n                    <v-icon v-if=\"fab\">mdi-close</v-icon>\r\n                    <v-icon v-else>mdi-pencil</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n\r\n                <!-- Upload Picture Button -->\r\n                <v-btn\r\n                  fab\r\n                  dark\r\n                  x-small\r\n                  color=\"green\"\r\n                  @click=\"uploadDialog = true\"\r\n                >\r\n                  <v-icon>mdi-camera</v-icon>\r\n                </v-btn>\r\n\r\n                <!-- Edit Profile Button -->\r\n                <v-btn fab dark x-small color=\"cyan\" @click=\"editDialog = true\">\r\n                  <v-icon>mdi-account-edit</v-icon>\r\n                </v-btn>\r\n\r\n                <!-- Change Password Button -->\r\n                <v-btn fab dark x-small color=\"blue\" @click=\"passDialog = true\">\r\n                  <v-icon>mdi-form-textbox-password</v-icon>\r\n                </v-btn>\r\n              </v-speed-dial>\r\n            </div>\r\n\r\n            <!-- User Info -->\r\n            <div class=\"user-info\">\r\n              <h2 class=\"text-h4 font-weight-bold\">{{ members.fullname }}</h2>\r\n              <div class=\"subtitle-1 grey--text\">{{ members.position }}</div>\r\n              <div class=\"mt-2\">\r\n                <v-chip small :color=\"members.active ? 'success' : 'grey'\" dark>\r\n                  {{ members.active ? \"Active\" : \"Inactive\" }}\r\n                </v-chip>\r\n                <v-chip\r\n                  v-for=\"(role, index) in currentUser.roles\"\r\n                  :key=\"index\"\r\n                  small\r\n                  class=\"ml-2\"\r\n                  color=\"primary\"\r\n                  outlined\r\n                >\r\n                  {{ role }}\r\n                </v-chip>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </v-card>\r\n\r\n        <!-- Main Content Grid -->\r\n        <v-row class=\"mt-6\">\r\n          <!-- Left Column -->\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <!-- Personal Info Card -->\r\n            <v-card class=\"mb-4\">\r\n              <v-card-title\r\n                class=\"subtitle-1 font-weight-bold d-flex align-center\"\r\n              >\r\n                Personal Information\r\n                <v-spacer></v-spacer>\r\n                <v-btn icon x-small @click=\"editDialog = true\">\r\n                  <v-icon>mdi-pencil</v-icon>\r\n                </v-btn>\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-list dense>\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-email</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>Email</v-list-item-subtitle>\r\n                    <v-list-item-title>{{ members.email }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-phone</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>Phone</v-list-item-subtitle>\r\n                    <v-list-item-title>{{\r\n                      members.telnumber\r\n                    }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-card-account-details</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>NRIC</v-list-item-subtitle>\r\n                    <v-list-item-title>{{ members.nric }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-map-marker</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>Address</v-list-item-subtitle>\r\n                    <v-list-item-title>{{ members.address }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </v-list>\r\n            </v-card>\r\n\r\n            <!-- Emergency Contact Card -->\r\n            <v-card>\r\n              <v-card-title class=\"subtitle-1 font-weight-bold\">\r\n                Emergency Contact\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-list dense>\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-account-alert</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>Contact Name</v-list-item-subtitle>\r\n                    <v-list-item-title>{{\r\n                      members.emcontactname\r\n                    }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-list-item>\r\n                  <v-list-item-icon\r\n                    ><v-icon>mdi-phone-alert</v-icon></v-list-item-icon\r\n                  >\r\n                  <v-list-item-content>\r\n                    <v-list-item-subtitle>Contact Number</v-list-item-subtitle>\r\n                    <v-list-item-title>{{\r\n                      members.emcontactno\r\n                    }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </v-list>\r\n            </v-card>\r\n          </v-col>\r\n\r\n          <!-- Right Column -->\r\n          <v-col cols=\"12\" md=\"8\">\r\n            <!-- Work Info Card -->\r\n            <v-card class=\"mb-4\">\r\n              <v-card-title class=\"subtitle-1 font-weight-bold\">\r\n                Work Information\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-card-text>\r\n                <v-row dense>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                    <div class=\"caption grey--text\">Employee ID</div>\r\n                    <div class=\"subtitle-1\">{{ members.empid }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                    <div class=\"caption grey--text\">User Code</div>\r\n                    <div class=\"subtitle-1\">{{ members.usercode }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                    <div class=\"caption grey--text\">Date Joined</div>\r\n                    <div class=\"subtitle-1\">{{ computedDate }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                    <div class=\"caption grey--text\">Position</div>\r\n                    <div class=\"subtitle-1\">{{ members.position }}</div>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n\r\n            <!-- Department and Branch Info -->\r\n            <v-row>\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-card class=\"mb-4\" v-if=\"currentUser.dept\">\r\n                  <v-card-title class=\"subtitle-1 font-weight-bold\">\r\n                    Department\r\n                  </v-card-title>\r\n                  <v-divider></v-divider>\r\n                  <v-list dense>\r\n                    <v-list-item\r\n                      v-for=\"(i, index) in currentUser.dept\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <v-list-item-icon\r\n                        ><v-icon>mdi-domain</v-icon></v-list-item-icon\r\n                      >\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          <div v-for=\"(m, idx) in filterDept(i)\" :key=\"idx\">\r\n                            {{ m.name.toUpperCase() }}\r\n                          </div>\r\n                        </v-list-item-title>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-card class=\"mb-4\" v-if=\"currentUser.branches\">\r\n                  <v-card-title class=\"subtitle-1 font-weight-bold\">\r\n                    Branch\r\n                  </v-card-title>\r\n                  <v-divider></v-divider>\r\n                  <v-list dense>\r\n                    <v-list-item\r\n                      v-for=\"(j, index) in currentUser.branches\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <v-list-item-icon\r\n                        ><v-icon>mdi-office-building</v-icon></v-list-item-icon\r\n                      >\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          <div v-for=\"(k, idx) in filterStates(j)\" :key=\"idx\">\r\n                            {{ k.name.toUpperCase() }}\r\n                          </div>\r\n                        </v-list-item-title>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Keep existing dialogs but update their styling -->\r\n    <v-dialog v-model=\"editDialog\" persistent max-width=\"600px\">\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n          small\r\n          fab\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          class=\"ma-1\"\r\n          dark\r\n          color=\"cyan\"\r\n          @click=\"editDialog\"\r\n        >\r\n          <v-icon dark> mdi-pencil </v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-card tile>\r\n        <v-card-title class=\"justify-center text-h5 grey lighten-2\">\r\n          <span>Edit Profile</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-container>\r\n            <v-form>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"3\" sm=\"6\">\r\n                  <h4>Fullname:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"9\" sm=\"6\">\r\n                  <v-text-field\r\n                    dense\r\n                    v-model=\"members.fullname\"\r\n                    label=\"Fullname*\"\r\n                    :rules=\"[rules.required]\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"3\" sm=\"6\">\r\n                  <h4>NRIC:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"9\" sm=\"6\">\r\n                  <v-text-field\r\n                    dense\r\n                    type=\"number\"\r\n                    hide-spin-buttons\r\n                    v-model=\"members.nric\"\r\n                    label=\"NRIC*\"\r\n                    :rules=\"[rules.number, rules.required]\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"3\" sm=\"6\">\r\n                  <h4>Tel:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"9\" sm=\"6\">\r\n                  <v-text-field\r\n                    dense\r\n                    v-model=\"members.telnumber\"\r\n                    label=\"Tel. Number\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"3\" sm=\"6\">\r\n                  <h4>Address:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"9\" sm=\"6\">\r\n                  <v-textarea\r\n                    dense\r\n                    auto-grow\r\n                    v-model=\"members.address\"\r\n                    label=\"Address\"\r\n                  ></v-textarea>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"4\" sm=\"6\">\r\n                  <h4>Emergency Contact:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"8\" sm=\"6\">\r\n                  <v-text-field\r\n                    dense\r\n                    v-model=\"members.emcontactname\"\r\n                    label=\"Emergency Contact\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\" no-gutters>\r\n                <v-col cols=\"12\" md=\"4\" sm=\"6\">\r\n                  <h4>Emergency Contact No:</h4>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" md=\"8\" sm=\"6\">\r\n                  <v-text-field\r\n                    dense\r\n                    v-model=\"members.emcontactno\"\r\n                    label=\"Emergency Contact Number\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n            </v-form>\r\n          </v-container>\r\n          <small>*indicates required field</small>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn outlined small tile @click=\"closeEditDialog\"> Close </v-btn>\r\n          <v-btn\r\n            :disabled=\"isEditDisabled\"\r\n            small\r\n            tile\r\n            class=\"warning\"\r\n            @click=\"save\"\r\n          >\r\n            Update\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"passDialog\" persistent max-width=\"600px\">\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n          small\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          class=\"ma-1\"\r\n          fab\r\n          dark\r\n          color=\"blue\"\r\n          @click=\"passDialog\"\r\n        >\r\n          <v-icon dark> mdi-form-textbox-password </v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-card tile>\r\n        <v-form>\r\n          <v-card-title class=\"justify-center text-h5 grey lighten-2\">\r\n            <span>Change Password</span>\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <v-container>\r\n              <v-form ref=\"form\" v-model=\"valid\">\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      disabled\r\n                      v-model=\"members.email\"\r\n                      type=\"text\"\r\n                      name=\"username\"\r\n                      autoComplete=\"username\"\r\n                    ></v-text-field>\r\n                  </v-col>\r\n\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      v-model=\"password\"\r\n                      label=\"Password\"\r\n                      class=\"mb-6\"\r\n                      :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                      :rules=\"[rules.required, rules.min, rules.strength]\"\r\n                      validate-on-blur\r\n                      :type=\"show1 ? 'text' : 'password'\"\r\n                      @click:append=\"show1 = !show1\"\r\n                      hint=\"Minimum strength 75%\"\r\n                      persistent-hint\r\n                    ></v-text-field>\r\n                    <v-progress-linear\r\n                      :background-opacity=\"opacity\"\r\n                      :color=\"score.color\"\r\n                      :value=\"score.value\"\r\n                      height=\"25\"\r\n                      v-model=\"score.value\"\r\n                    >\r\n                      <template v-slot:default=\"{ value }\">\r\n                        <strong>{{ Math.ceil(value) }}%</strong>\r\n                      </template>\r\n                    </v-progress-linear>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                      :rules=\"[\r\n                        rules.required,\r\n                        rules.min,\r\n                        password === confPassword || 'Password must match',\r\n                      ]\"\r\n                      :type=\"show2 ? 'text' : 'password'\"\r\n                      @click:append=\"show2 = !show2\"\r\n                      v-model=\"confPassword\"\r\n                      label=\"Confirm Password*\"\r\n                      autocomplete=\"confPassword\"\r\n                      id=\"confPassword\"\r\n                      required\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-form>\r\n            </v-container>\r\n            <small>*indicates required field</small>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn outlined small tile @click=\"passDialog = false\">\r\n              Close\r\n            </v-btn>\r\n            <v-btn\r\n              :disabled=\"!valid\"\r\n              small\r\n              tile\r\n              class=\"warning\"\r\n              @click=\"updatePass\"\r\n            >\r\n              Change\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-form>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"uploadDialog\" persistent max-width=\"600px\">\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n          small\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          class=\"ma-1\"\r\n          fab\r\n          dark\r\n          color=\"green\"\r\n          @click=\"uploadDialog\"\r\n        >\r\n          <v-icon dark> mdi-cloud-upload-outline </v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-card tile>\r\n        <v-card-title class=\"justify-center text-h5 grey lighten-2\">\r\n          <span>Change Profile Image</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-container>\r\n            <v-form>\r\n              <v-row>\r\n                <v-col cols=\"12\">\r\n                  <v-file-input\r\n                    show-size\r\n                    required\r\n                    :rules=\"profileRules\"\r\n                    accept=\"image/png, image/jpeg, image/bmp\"\r\n                    placeholder=\"Pick a profile picture\"\r\n                    prepend-icon=\"mdi-camera\"\r\n                    label=\"Profile Picture*\"\r\n                    @change=\"selectFile\"\r\n                    v-model=\"currentFile\"\r\n                    name=\"file\"\r\n                  ></v-file-input>\r\n                </v-col>\r\n                <v-col cols=\"12\">\r\n                  <v-alert\r\n                    width=\"100%\"\r\n                    v-if=\"message\"\r\n                    border=\"left\"\r\n                    color=\"blue-grey\"\r\n                    dark\r\n                  >\r\n                    {{ message }}\r\n                  </v-alert>\r\n                </v-col>\r\n              </v-row>\r\n            </v-form>\r\n          </v-container>\r\n          <small>*indicates required field</small> <br />\r\n          <small>*max size: 2MB</small>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn outlined small tile @click=\"closeUploadDialog\"> Close </v-btn>\r\n          <v-btn small tile class=\"success\" @click=\"uploadConfirm\">\r\n            Upload\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.profile-page {\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n.cover-section {\r\n  background: linear-gradient(135deg, #1976d2 0%, #064170 100%);\r\n  min-height: 250px;\r\n  padding-top: 64px;\r\n}\r\n\r\n.profile-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.profile-header-card {\r\n  position: relative;\r\n  margin-top: -32px;\r\n  border-radius: 8px;\r\n  overflow: visible;\r\n}\r\n\r\n.profile-header-content {\r\n  padding: 24px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 24px;\r\n}\r\n\r\n.avatar-section {\r\n  position: relative;\r\n}\r\n\r\n.profile-avatar {\r\n  border: 4px solid white;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.profile-actions {\r\n  position: absolute;\r\n  bottom: -16px;\r\n  right: -16px;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .profile-header-content {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n  }\r\n\r\n  .profile-actions {\r\n    position: relative;\r\n    bottom: 0;\r\n    right: 0;\r\n    margin-top: 16px;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport MemberDataService from \"../services/MemberDataService\";\r\nimport BranchDataService from \"../services/BranchDataService\";\r\nimport DeptDataService from \"../services/DeptDataService\";\r\nimport UploadService from \"../services/UploadDocsService\";\r\nimport zxcvbn from \"zxcvbn\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  name: \"Profile\",\r\n  components: {\r\n    // UploadFiles,\r\n    // UploadService,\r\n  },\r\n  data: () => ({\r\n    opacity: \"\",\r\n    show1: false,\r\n    show2: false,\r\n    rules: {\r\n      number: (v) =>\r\n        /^\\d+$/.test(v) || \"This field is required and only accept numbers\",\r\n      required: (value) => !!value || \"Required.\",\r\n      min: (v) => v.length >= 8 || \"Min 8 characters\",\r\n      strength: (v) =>\r\n        zxcvbn(v).score >= 3 ||\r\n        \"Please choose a stronger password. Try a mix of letters, numbers, and symbols.\",\r\n\r\n      emailMatch: () => `The password you entered don't match`,\r\n    },\r\n    password: \"\",\r\n    confPassword: \"\",\r\n    editValid: false,\r\n    valid: false,\r\n    editDialog: false,\r\n    passDialog: false,\r\n    uploadDialog: false,\r\n    currentFile: undefined,\r\n    progress: 0,\r\n    message: \"\",\r\n    fileInfos: [],\r\n    profileRules: [\r\n      (value) =>\r\n        !value ||\r\n        value.size < 2000000 ||\r\n        \"Avatar size should be less than 2 MB!\",\r\n    ],\r\n    fab: false, // Add this property\r\n    // members: \"\",\r\n    // disabled: false,\r\n\r\n    members: {\r\n      id: null,\r\n      username: \"\",\r\n      fullname: \"\",\r\n      profile: \"\",\r\n      nric: \"\",\r\n      email: \"\",\r\n      telnumber: \"\",\r\n      datejoined: \"\",\r\n      position: \"\",\r\n      empid: \"\",\r\n      usercode: \"\",\r\n      address: \"\",\r\n      emcontactname: \"\",\r\n      emcontactno: \"\",\r\n      password: \"\",\r\n      active: \"\",\r\n      roles: \"\",\r\n      branches: \"\",\r\n      depts: \"\",\r\n    },\r\n    branches: [],\r\n    departments: [],\r\n  }),\r\n\r\n  computed: {\r\n    isEditDisabled() {\r\n      return !this.members.nric;\r\n    },\r\n    score() {\r\n      const result = zxcvbn(this.password);\r\n\r\n      switch (result.score) {\r\n        case 4:\r\n          return {\r\n            color: \"light-blue\",\r\n            value: 100,\r\n          };\r\n        case 3:\r\n          return {\r\n            color: \"light-green\",\r\n            value: 75,\r\n          };\r\n        case 2:\r\n          return {\r\n            color: \"yellow\",\r\n            value: 50,\r\n          };\r\n        case 1:\r\n          return {\r\n            color: \"orange\",\r\n            value: 25,\r\n          };\r\n        default:\r\n          return {\r\n            color: \"red\",\r\n            value: 0,\r\n          };\r\n      }\r\n    },\r\n    // feedItemIcon() {\r\n    //   return require(`../app/uploads/${this.members.profile}`);\r\n    // },\r\n    editDialogDisabled() {\r\n      return !(\r\n        this.members.fullname &&\r\n        this.members.nric &&\r\n        this.members.telnumber &&\r\n        this.members.address &&\r\n        this.members.emcontactname &&\r\n        this.members.emcontactno\r\n      );\r\n    },\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },\r\n\r\n    computedDate() {\r\n      return this.members.datejoined\r\n        ? moment(this.members.datejoined).format(\"DD/MM/YYYY\")\r\n        : \"\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    disabled(val) {\r\n      val;\r\n    },\r\n  },\r\n  methods: {\r\n    handleImageError() {\r\n      // Set profile to null to trigger fallback to default image\r\n      this.members.profile = null;\r\n    },\r\n    closeEditDialog() {\r\n      this.editDialog = false;\r\n      this.$nextTick(() => {\r\n        // this.members = Object.assign({});\r\n      });\r\n    },\r\n    formatDate(value) {\r\n      return moment(value).format(\"DD/MM/YYYY\");\r\n    },\r\n    filterStates(item) {\r\n      return this.branches.filter((branch) => branch.id === item);\r\n    },\r\n    retrieveBranches() {\r\n      BranchDataService.getAll()\r\n        .then((response) => {\r\n          this.branches = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    filterDept(item) {\r\n      return this.departments.filter((dept) => dept.id === item);\r\n    },\r\n    retrieveDepts() {\r\n      DeptDataService.getAll()\r\n        .then((response) => {\r\n          this.departments = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    retrieveMembers() {\r\n      MemberDataService.get(this.$store.state.auth.user.id)\r\n        .then((response) => {\r\n          this.members = response.data;\r\n          // this.members = response.data.map(this.getDisplayMember);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    // getDisplayMember(member) {\r\n    //   return {\r\n    //     id: member.id,\r\n    //     username:\r\n    //       member.username.length > 30\r\n    //         ? member.username.substr(0, 30) + \"...\"\r\n    //         : member.username,\r\n    //     fullname: member.fullname,\r\n    //     nric: member.nric,\r\n    //     email:\r\n    //       member.email.length > 30\r\n    //         ? member.email.substr(0, 30) + \"...\"\r\n    //         : member.email,\r\n    //     telnumber: member.telnumber,\r\n    //     datejoined: member.datejoined,\r\n    //     position: member.position,\r\n    //     empid: member.empid,\r\n    //     usercode: member.usercode,\r\n    //     address: member.address,\r\n    //     emcontactname: member.emcontactname,\r\n    //     emcontactno: member.emcontactno,\r\n\r\n    //     active: member.active ? \"Active\" : \"Inactive\",\r\n    //     roles: member.roles,\r\n    //     branches: member.branches,\r\n    //     depts: member.depts,\r\n    //   };\r\n    // },\r\n    // getProfilePhoto() {\r\n    //   // return require(`${this.members.profile}`);\r\n    //   return require(`${this.members.profile}`);\r\n    // },\r\n\r\n    //     getProfilePhoto() {\r\n    //   let baseDirectory = `http://localhost:8090/`;\r\n    //   // return require(path.join(baseURL, `${this.members.profile}`));\r\n    //   // return require('@/app/uploads/'+`${this.members.profile}`)\r\n    //   // return require(path.join('@/app/uploads/'+`${this.members.profile}`));\r\n    //   return require(path.join(baseDirectory+`${this.members.profile}`));\r\n    // },\r\n\r\n    selectFile(file) {\r\n      // this.progress = 0;\r\n      this.currentFile = file;\r\n    },\r\n\r\n    refreshList() {\r\n      this.retrieveMembers();\r\n    },\r\n\r\n    save() {\r\n      var editdata = {\r\n        fullname: this.members.fullname,\r\n        nric: this.members.nric,\r\n        telnumber: this.members.telnumber,\r\n        address: this.members.address,\r\n        emcontactname: this.members.emcontactname,\r\n        emcontactno: this.members.emcontactno,\r\n      };\r\n      MemberDataService.updateProfile(this.members.id, editdata)\r\n        .then((response) => {\r\n          this.$store.dispatch(\"setSnackbar\", {\r\n            showing: true,\r\n            color: \"success\",\r\n            text:\r\n              (response && response.data && response.data.message) ||\r\n              toString(),\r\n          });\r\n          this.editDialog = false;\r\n          this.refreshList();\r\n        })\r\n        .catch((e) => {\r\n          this.$store.dispatch(\"setSnackbar\", {\r\n            showing: true,\r\n            color: \"error\",\r\n            text: e || toString(),\r\n          });\r\n          this.editDialog = false;\r\n          this.refreshList();\r\n        });\r\n    },\r\n\r\n    closeUploadDialog() {\r\n      this.uploadDialog = false;\r\n      this.message = \"\";\r\n    },\r\n\r\n    uploadConfirm() {\r\n      if (!this.currentFile) {\r\n        this.message = \"Please select a file!\";\r\n        return;\r\n      }\r\n      if (this.currentFile) {\r\n        this.message = \"\";\r\n        UploadService.uploadPhoto(this.currentFile, (event) => {\r\n          this.progress = Math.round((100 * event.loaded) / event.total);\r\n        })\r\n          .then((response) => {\r\n            this.$store.dispatch(\"setSnackbar\", {\r\n              showing: true,\r\n              color: \"success\",\r\n              text:\r\n                (response && response.data && response.data.message) ||\r\n                toString(),\r\n            });\r\n            return UploadService.getPhotos();\r\n          })\r\n          .then((files) => {\r\n            this.fileInfos = files.data;\r\n            this.members.profile = files.data.slice(-1)[0].name;\r\n            this.currentFile = undefined;\r\n\r\n            var data = {\r\n              profile: this.members.profile,\r\n            };\r\n\r\n            MemberDataService.updatePhoto(this.members.id, data)\r\n              .then((response) => {\r\n                setTimeout(() => {\r\n                  this.$store.dispatch(\"setSnackbar\", {\r\n                    showing: true,\r\n                    color: \"success\",\r\n                    text:\r\n                      (response && response.data && response.data.message) ||\r\n                      toString(),\r\n                  }); // Fixed: Moved closing bracket here\r\n                }, 2500);\r\n                this.uploadDialog = false;\r\n                this.refreshList();\r\n              })\r\n              .catch((e) => {\r\n                this.$store.dispatch(\"setSnackbar\", {\r\n                  showing: true,\r\n                  color: \"error\",\r\n                  text: e || toString(),\r\n                });\r\n                this.refreshList();\r\n              });\r\n          })\r\n          .catch((e) => {\r\n            this.progress = 0;\r\n            // this.message = \"Could not upload the file!\";\r\n            this.uploadDialog = false;\r\n            this.$store.dispatch(\"setSnackbar\", {\r\n              showing: true,\r\n              color: \"error\",\r\n              // text: \"Could not upload the file!\",\r\n              text:\r\n                (e.response && e.response.data && e.response.data.message) ||\r\n                e.message ||\r\n                toString(),\r\n            });\r\n            this.currentFile = undefined;\r\n          });\r\n      }\r\n    },\r\n\r\n    updatePass() {\r\n      var data = {\r\n        password: this.password,\r\n      };\r\n      MemberDataService.changepass(this.members.id, data)\r\n        .then((response) => {\r\n          this.passDialog = false;\r\n          this.$store.dispatch(\"setSnackbar\", {\r\n            showing: true,\r\n            color: \"success\",\r\n            text:\r\n              (response && response.data && response.data.message) ||\r\n              toString(),\r\n          });\r\n          this.refreshList();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n\r\n      this.passDialog = false;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.retrieveBranches();\r\n    this.retrieveDepts();\r\n    UploadService.getPhotos().then((response) => {\r\n      this.fileInfos = response.data;\r\n    });\r\n\r\n    if (!this.currentUser) {\r\n      this.$router.push(\"/login\");\r\n    }\r\n    this.retrieveMembers();\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=d0756854&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=d0756854&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0756854\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}