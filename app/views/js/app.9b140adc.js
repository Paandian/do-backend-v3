(function(e){function t(t){for(var s,n,l=t[0],o=t[1],c=t[2],d=0,u=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},r={app:0},i=[];function l(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-096742b6":"b589f91c","chunk-0a994422":"60a84afe","chunk-13a66c1c":"1998cf0c","chunk-194d3724":"58d1c61d","chunk-22795dc5":"ef094a45","chunk-22ffe50d":"fde9621d","chunk-2d0a2df0":"44e21ae2","chunk-2d0a3738":"fca4f3bf","chunk-2d0ac1df":"2fdd5957","chunk-2d0ae631":"748fdcb4","chunk-2d0b2557":"94fb7abe","chunk-2d0b30b8":"6cf9cd1d","chunk-2d0b6339":"2a1ba104","chunk-2d0c13b6":"df173473","chunk-2d0c4fb7":"160955b9","chunk-2d0c9388":"8a6abf08","chunk-2d0d4397":"b5b988a3","chunk-2d0d5c1f":"8fbbd532","chunk-2d0d72e3":"b52b9ee6","chunk-2d0d7c06":"288f3c70","chunk-2d0db490":"8302e3dd","chunk-2d0dd47c":"bf27e838","chunk-2d0deb10":"86d9a274","chunk-2d0df849":"af04129f","chunk-2d0e521d":"2afe3a10","chunk-2d0e8bc0":"8709a5da","chunk-2d2143d1":"ebbaf141","chunk-2d216257":"58872a85","chunk-6acb04da":"849a6c8a","chunk-168b0bef":"8d580adb","chunk-16b929f7":"fd106619","chunk-9b1bc7a0":"5cd6eb52","chunk-2d216263":"b1a36887","chunk-2d216d19":"db9e6bde","chunk-2d218069":"099f84f6","chunk-2d21af88":"cf80adb1","chunk-2d21f29b":"6947aa67","chunk-2d225c40":"dc70c14d","chunk-2d22bd12":"7b225548","chunk-2d22ccd1":"fed2141a","chunk-3a91582e":"992c5527","chunk-5d674c98":"ed340001","chunk-5df8963d":"06e6023a","chunk-60d6f837":"9a60feb0","chunk-78538b25":"b7b68bd7","chunk-7aa254cb":"a11abbf7","chunk-fa07f1a0":"bcb797f5","chunk-2d209639":"97670acb","chunk-69d78c65":"92235836","chunk-2d216214":"1f54003d"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a={"chunk-096742b6":1,"chunk-194d3724":1,"chunk-22795dc5":1,"chunk-22ffe50d":1,"chunk-168b0bef":1,"chunk-16b929f7":1,"chunk-9b1bc7a0":1,"chunk-3a91582e":1,"chunk-5df8963d":1,"chunk-60d6f837":1,"chunk-78538b25":1,"chunk-7aa254cb":1,"chunk-fa07f1a0":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-096742b6":"c3c4f225","chunk-0a994422":"31d6cfe0","chunk-13a66c1c":"31d6cfe0","chunk-194d3724":"4ce7a121","chunk-22795dc5":"3e07982a","chunk-22ffe50d":"ecf8f88c","chunk-2d0a2df0":"31d6cfe0","chunk-2d0a3738":"31d6cfe0","chunk-2d0ac1df":"31d6cfe0","chunk-2d0ae631":"31d6cfe0","chunk-2d0b2557":"31d6cfe0","chunk-2d0b30b8":"31d6cfe0","chunk-2d0b6339":"31d6cfe0","chunk-2d0c13b6":"31d6cfe0","chunk-2d0c4fb7":"31d6cfe0","chunk-2d0c9388":"31d6cfe0","chunk-2d0d4397":"31d6cfe0","chunk-2d0d5c1f":"31d6cfe0","chunk-2d0d72e3":"31d6cfe0","chunk-2d0d7c06":"31d6cfe0","chunk-2d0db490":"31d6cfe0","chunk-2d0dd47c":"31d6cfe0","chunk-2d0deb10":"31d6cfe0","chunk-2d0df849":"31d6cfe0","chunk-2d0e521d":"31d6cfe0","chunk-2d0e8bc0":"31d6cfe0","chunk-2d2143d1":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-6acb04da":"31d6cfe0","chunk-168b0bef":"0bce51bc","chunk-16b929f7":"89f3d9b7","chunk-9b1bc7a0":"503dd2b8","chunk-2d216263":"31d6cfe0","chunk-2d216d19":"31d6cfe0","chunk-2d218069":"31d6cfe0","chunk-2d21af88":"31d6cfe0","chunk-2d21f29b":"31d6cfe0","chunk-2d225c40":"31d6cfe0","chunk-2d22bd12":"31d6cfe0","chunk-2d22ccd1":"31d6cfe0","chunk-3a91582e":"76a811a3","chunk-5d674c98":"31d6cfe0","chunk-5df8963d":"9588358d","chunk-60d6f837":"2ca82a86","chunk-78538b25":"06109613","chunk-7aa254cb":"63a8a677","chunk-fa07f1a0":"5d5bedda","chunk-2d209639":"31d6cfe0","chunk-69d78c65":"31d6cfe0","chunk-2d216214":"31d6cfe0"}[e]+".css",r=o.p+s,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===r))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){c=u[l],d=c.getAttribute("data-href");if(d===s||d===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var s=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[e],m.parentNode.removeChild(m),a(i)},m.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,a){s=r[e]=[t,a]}));t.push(s[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=l(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",u.name="ChunkLoadError",u.type=s,u.request=n,a[1](u)}r[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var m=d;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"0046":function(e,t,a){},"02ba":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/regions")}get(e){return s["a"].get("/regions/"+e)}create(e){return s["a"].post("/regions",e)}update(e,t){return s["a"].put("/regions/"+e,t)}delete(e){return s["a"].delete("/regions/"+e)}deleteAll(){return s["a"].delete("/regions")}findByRegion(e){return s["a"].get("/regions?name="+e)}}t["a"]=new n},"061e":function(e,t,a){"use strict";var s=a("c427");class n{mailData(e){return s["a"].post("/send",e,{headers:{"Content-Type":"multipart/form-data"}})}assignBranch(e){return s["a"].post("/send/branch",e,{headers:{"Content-Type":"multipart/form-data"}})}assignAdj(e){return s["a"].post("/send/adjuster",e,{headers:{"Content-Type":"multipart/form-data"}})}assignEditor(e){return s["a"].post("/send/editor",e,{headers:{"Content-Type":"multipart/form-data"}})}editorAccept(e){return s["a"].post("/send/editorAccept",e,{headers:{"Content-Type":"multipart/form-data"}})}managerApproval(e){return s["a"].post("/send/managerApproval",e,{headers:{"Content-Type":"multipart/form-data"}})}assignClerk(e){return s["a"].post("/send/assignClerk",e,{headers:{"Content-Type":"multipart/form-data"}})}}t["a"]=new n},"0a51":function(e,t,a){"use strict";a("39f3")},"0c04":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/bulletins")}get(e){return s["a"].get("/bulletins/"+e)}create(e){return s["a"].post("/bulletins",e)}update(e,t){return s["a"].put("/bulletins/"+e,t)}delete(e){return s["a"].delete("/bulletins/"+e)}deleteAll(){return s["a"].delete("/bulletins")}findByBulletin(e){return s["a"].get("/bulletins?newsTitle="+e)}}t["a"]=new n},"0cbf":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/tatcharts")}get(e){return s["a"].get("/tatcharts/"+e)}create(e){return s["a"].post("/tatcharts",e)}update(e,t){return s["a"].put("/tatcharts/"+e,t)}delete(e){return s["a"].delete("/tatcharts/"+e)}deleteAll(){return s["a"].delete("/tatcharts")}findByRegion(e){return s["a"].get("/tatcharts?name="+e)}}t["a"]=new n},"0d82":function(e,t,a){"use strict";a("8281")},1:function(e,t,a){e.exports=a("56d7")},"107b":function(e,t,a){},"14a5":function(e,t,a){"use strict";a("62e7")},"18c8":function(e,t,a){"use strict";a.r(t);var s=a("0798"),n=a("c6a6"),r=a("8336"),i=a("b0af"),l=a("62ad"),o=a("a523"),c=a("8fea"),d=a("2e4b"),u=a("132d"),m=a("e449"),f=a("891e"),h=a("0fd9"),p=a("b974"),g=a("8654"),b=function(){var e=this,t=e._self._c;return t(o["a"],{attrs:{fluid:""}},[t(h["a"],{staticClass:"mb-2",attrs:{align:"center",justify:"space-between"}},[t(l["a"],{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6"}},[t("span",{staticClass:"mr-2"},[e._v("Rows per page:")]),t(p["a"],{staticStyle:{"max-width":"100px"},attrs:{items:[30,50,100,500],dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}})],1),t(l["a"],{staticClass:"d-flex justify-end align-center",attrs:{cols:"12",md:"6"}},[t(f["a"],{attrs:{length:Math.ceil(e.total/e.pageSize),"total-visible":6},on:{input:e.onPageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),t("span",{staticClass:"ml-3"},[e._v(" "+e._s((e.page-1)*e.pageSize+1)+" - "+e._s(Math.min(e.page*e.pageSize,e.total))+" of "+e._s(e.total)+" ")])],1)],1),t(i["a"],{staticClass:"pa-4 mb-4 elevation-2",attrs:{outlined:""}},[t(h["a"],{attrs:{dense:""}},[t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.sortedInsurers,"item-text":"name","item-value":"id",label:"Insurer","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-domain",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.insurer,callback:function(t){e.$set(e.filters,"insurer",t)},expression:"filters.insurer"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.sortedBranches,"item-text":"name","item-value":"id",label:"Branch","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-office-building",dense:""},on:{change:e.onBranchChange},model:{value:e.filters.branch,callback:function(t){e.$set(e.filters,"branch",t)},expression:"filters.branch"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.sortedDepartments,"item-text":"name","item-value":"id",label:"Department","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-account-group",dense:""},on:{change:e.onDeptChange},model:{value:e.filters.refType,callback:function(t){e.$set(e.filters,"refType",t)},expression:"filters.refType"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.filteredSubRefTypes,"item-text":"subCode","item-value":"id",label:"File Classification","menu-props":{maxHeight:"400"},"persistent-hint":"",hint:"Select Department first to enable File Classification.",disabled:!e.filters.refType,"prepend-icon":"mdi-file-document-outline",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.subRefType,callback:function(t){e.$set(e.filters,"subRefType",t)},expression:"filters.subRefType"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.filteredAdjusters,"item-text":"username","item-value":"id",label:"Adjuster","menu-props":{maxHeight:"400"},"persistent-hint":"",hint:"Select Branch first to enable Adjuster.",disabled:!e.filters.branch,"prepend-icon":"mdi-account-tie",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.adjuster,callback:function(t){e.$set(e.filters,"adjuster",t)},expression:"filters.adjuster"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(n["a"],{attrs:{clearable:"",items:e.stages,"item-text":"name","item-value":"stageCode",label:"Status","menu-props":{maxHeight:"400"},"persistent-hint":"","prepend-icon":"mdi-checkbox-marked-circle-outline",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.fileStatus,callback:function(t){e.$set(e.filters,"fileStatus",t)},expression:"filters.fileStatus"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(g["a"],{attrs:{clearable:"",label:"Vehicle No.","prepend-icon":"mdi-car",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.vehicleNo,callback:function(t){e.$set(e.filters,"vehicleNo",t)},expression:"filters.vehicleNo"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(g["a"],{attrs:{clearable:"",label:"AASB Ref.","prepend-icon":"mdi-numeric",dense:""},on:{change:e.onFilterChange},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(m["a"],{attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(g["a"],e._g(e._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:e.filters.startDate,callback:function(t){e.$set(e.filters,"startDate",t)},expression:"filters.startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menuStart,callback:function(t){e.menuStart=t},expression:"menuStart"}},[t(d["a"],{on:{change:function(t){e.menuStart=!1,e.onFilterChange()}},model:{value:e.filters.startDate,callback:function(t){e.$set(e.filters,"startDate",t)},expression:"filters.startDate"}})],1)],1),t(l["a"],{attrs:{cols:"12",md:"2"}},[t(m["a"],{attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(g["a"],e._g(e._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:e.filters.endDate,callback:function(t){e.$set(e.filters,"endDate",t)},expression:"filters.endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menuEnd,callback:function(t){e.menuEnd=t},expression:"menuEnd"}},[t(d["a"],{on:{change:function(t){e.menuEnd=!1,e.onFilterChange()}},model:{value:e.filters.endDate,callback:function(t){e.$set(e.filters,"endDate",t)},expression:"filters.endDate"}})],1)],1),t(l["a"],{staticClass:"d-flex align-center",attrs:{cols:"12",md:"2"}},[t(r["a"],{staticClass:"mr-2",staticStyle:{"min-width":"140px"},attrs:{color:"success",small:"",elevation:"2"},on:{click:e.exportCurrentPage}},[t(u["a"],{attrs:{left:""}},[e._v("mdi-file-excel")]),e._v(" Export Current Page ")],1),t(r["a"],{staticStyle:{"min-width":"140px"},attrs:{color:"primary",small:"",elevation:"2",loading:e.exportingAll,disabled:e.total>1e4},on:{click:e.exportAll}},[t(u["a"],{attrs:{left:""}},[e._v("mdi-file-export")]),e._v(" Export All (Filtered) ")],1)],1),e.total>1e4?t(l["a"],{attrs:{cols:"12"}},[t(s["a"],{attrs:{type:"warning",dense:"",outlined:"",border:"left",color:"orange"}},[t(u["a"],{attrs:{left:"",color:"orange darken-2"}},[e._v("mdi-alert")]),e._v(" Export is limited to 10,000 rows. Please refine your filters to reduce the result set. ")],1)],1):e._e()],1)],1),t(c["a"],{staticClass:"elevation-1",staticStyle:{background:"#fff","border-radius":"8px"},attrs:{headers:e.headers,items:e.roleFilteredCasefiles,loading:e.loading,page:e.page,"items-per-page":e.pageSize,"server-items-length":e.total,dense:""},on:{"update:page":[function(t){e.page=t},e.onPageChange],"update:itemsPerPage":function(t){e.pageSize=t},"update:items-per-page":[function(t){e.pageSize=t},e.onPageSizeChange]},scopedSlots:e._u([{key:"item.numbering",fn:function({index:t}){return[e._v(" "+e._s((e.page-1)*e.pageSize+t+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return[t("span",[e._v(e._s(e.getInsurerName(a.insurer)))])]}},{key:"item.branch",fn:function({item:a}){return[t("span",[e._v(e._s(e.getBranchName(a.branch)))])]}},{key:"item.refType",fn:function({item:a}){return[t("span",[e._v(e._s(e.getDeptName(a.refType)))])]}},{key:"item.subRefType",fn:function({item:a}){return[t("span",[e._v(e._s(e.getSubRefTypeName(a.subRefType)))])]}},{key:"item.adjuster",fn:function({item:a}){return[t("span",[e._v(e._s(e.getAdjusterName(a.adjuster)))])]}},{key:"item.vehicleNo",fn:function({item:a}){return[t("span",[e._v(e._s(a.vehicleNo?a.vehicleNo.toUpperCase():""))])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA/ "),e._l(e.getDept(a.refType),(function(s,n){return t("span",{key:`dept-${s.id}-${a.id}-${n}`},[e._v(e._s(s.name))])})),e._l(e.getSubRefType(a.subRefType),(function(s,n){return t("span",{key:`sub-${s.id}-${a.id}-${n}`},[e._v("/"+e._s(s.subCode))])})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.createdAt))+" "),e._l(e.getBranch(a.branch),(function(s,n){return t("span",{key:`branch-${s.id}-${a.id}-${n}`},[e._v("/"+e._s(s.brCode))])}))]}},{key:"item.dateOfAssign",fn:function({item:a}){return[t("span",[e._v(e._s(e.formatDate(a.dateOfAssign)))])]}},{key:"item.days",fn:function({item:a}){return[t("span",[e._v(e._s(a.days))])]}},{key:"item.fileStatus",fn:function({item:a}){return[t("span",[e._v(e._s(e.getFileStatusName(a.fileStatus)))])]}}],null,!0)}),t(h["a"],{staticClass:"mt-2",attrs:{align:"center",justify:"space-between"}},[t(l["a"],{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6"}},[t("span",{staticClass:"mr-2"},[e._v("Rows per page:")]),t(p["a"],{staticStyle:{"max-width":"100px"},attrs:{items:[30,50,100,500],dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}})],1),t(l["a"],{staticClass:"d-flex justify-end align-center",attrs:{cols:"12",md:"6"}},[t(f["a"],{attrs:{length:Math.ceil(e.total/e.pageSize),"total-visible":6},on:{input:e.onPageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),t("span",{staticClass:"ml-3"},[e._v(" "+e._s((e.page-1)*e.pageSize+1)+" - "+e._s(Math.min(e.page*e.pageSize,e.total))+" of "+e._s(e.total)+" ")])],1)],1)],1)},v=[],y=(a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("a732"),a("88a7"),a("271a"),a("5494"),a("2f62")),_=a("c1df"),C=a.n(_),x=a("fde1"),k=a("cb28"),S=a("f983"),D=a("5632"),A=a("9df5"),T=a("d14b"),w=a("6736"),N={name:"reportsV1",data(){return{filters:{insurer:"",branch:"",refType:"",subRefType:"",adjuster:"",claimNo:"",vehicleNo:"",startDate:null,endDate:null},page:1,pageSize:30,menuStart:!1,menuEnd:!1,branches:[],departments:[],subRefTypes:[],insurers:[],adjusters:[],stages:[],allFilteredCasefiles:[],exportingAll:!1}},computed:{...Object(y["b"])(["getPaginatedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),...Object(y["c"])({user:e=>e.auth.user}),paginatedCasefiles(){return this.getPaginatedCasefiles},roleFilteredCasefiles(){return this.paginatedCasefiles},total(){return this.getPaginatedTotal},loading(){return this.getPaginatedLoading},sortedInsurers(){return[...this.insurers].sort((e,t)=>e.name.localeCompare(t.name))},sortedDepartments(){return[...this.departments].sort((e,t)=>e.name.localeCompare(t.name))},sortedBranches(){return[...this.branches].sort((e,t)=>e.name.localeCompare(t.name))},sortedAdjusters(){return[...this.adjusters].sort((e,t)=>e.username.localeCompare(t.username))},filteredSubRefTypes(){return this.filters.refType?this.subRefTypes.filter(e=>e.deptId===this.filters.refType||e.deptId===Number(this.filters.refType)||e.deptId===String(this.filters.refType)).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]},filteredAdjusters(){if(!this.filters.branch)return[];const e=this.branches.find(e=>e.id===this.filters.branch||e.id===Number(this.filters.branch)||e.id===String(this.filters.branch));if(!e)return[];const t=e.name;return this.adjusters.filter(e=>Array.isArray(e.branches)&&e.branches.some(e=>e.name===t)).sort((e,t)=>e.username.localeCompare(t.username))},headers(){return[{text:"NO.",value:"numbering"},{text:"INSURER",value:"insurer"},{text:"BRANCH",value:"branch"},{text:"DEPARTMENT",value:"refType"},{text:"FILE CLASSIFICATION",value:"subRefType"},{text:"ADJUSTER",value:"adjuster"},{text:"VEHICLE NO.",value:"vehicleNo"},{text:"AASB REFERENCE",value:"id"},{text:"DATE OF ASSIGNMENT",value:"dateOfAssign"},{text:"DAYS",value:"days"},{text:"STATUS",value:"fileStatus"}]},excelColumns(){return[{label:"CLAIMS HANDLER",field:"handler"},{label:"INSURER'S REF",field:"claimNo"},{label:"INSURED NAME",field:"insuredName"},{label:"VEHICLE NO",field:"vehicleNo"},{label:"INSURER",field:"insurer"},{label:"CLAIM TYPE",field:"claimType"},{label:"BRANCH",field:"branch"},{label:"DEPARTMENT",field:"department"},{label:"FILE CLASSIFICATION",field:"fileClassification"},{label:"ADJUSTER",field:"adjuster"},{label:"AASB REF",field:"aasbRef"},{label:"DATE OF ASSIGNMENT",field:"dateOfAssign"},{label:"DATE OF LOSS",field:"dateOfLoss"},{label:"DAYS",field:"days"},{label:"ADJUSTER ACKNOWLEDMENT DATE",field:"dateStartInv"},{label:"REPORT SUBMISSION DATE",field:"dateEndInv"},{label:"STATUS",field:"fileStatus"},{label:"TOTAL AMOUNT OF ALL TAX INVOICES",field:"invTotal"}]},excelFormattedData(){return this.paginatedCasefiles.map(e=>{var t,a;return{handler:(null===(t=this.getHandlerName)||void 0===t?void 0:t.call(this,e.handler))||"",claimNo:e.claimNo||"",insuredName:e.insuredName||"",vehicleNo:e.vehicleNo?e.vehicleNo.toUpperCase():"",insurer:this.getInsurerName(e.insurer),claimType:this.getDeptName(e.refType),branch:this.getBranchName(e.branch),department:this.getDeptName(e.refType),fileClassification:this.getSubRefTypeName(e.subRefType),adjuster:this.getAdjusterName(e.adjuster),aasbRef:`AA/${this.getDeptName(e.refType)}/${this.getSubRefTypeName(e.subRefType)}/${e.id}/${this.yearOnly(e.createdAt)}/${(null===(a=this.getBranch(e.branch)[0])||void 0===a?void 0:a.brCode)||""}`,dateOfAssign:this.formatDate(e.dateOfAssign),dateOfLoss:this.formatDate(e.dateOfLoss),days:e.days,dateStartInv:this.formatDate(e.dateStartInv),dateEndInv:this.formatDate(e.dateEndInv),fileStatus:this.getFileStatusName(e.fileStatus),invTotal:e.invTotal||""}})},excelFileName(){return"Report_"+C()().format("YYYYMMDD")}},methods:{async fetchPaginated(){const e={};Object.keys(this.filters).forEach(t=>{null!==this.filters[t]&&""!==this.filters[t]&&"undefined"!==typeof this.filters[t]&&(e[t]=this.filters[t])}),e.adjuster&&"object"===typeof e.adjuster&&e.adjuster.id&&(e.adjuster=e.adjuster.id),e.id&&(e.id=Number(e.id)),this.user&&(e.roles=this.user.roles,e.dept=this.user.dept,e.branches=this.user.branches,e.userId=this.user.id),await this.$store.dispatch("casefiles/fetchPaginatedCasefiles",{page:this.page,pageSize:this.pageSize,filters:e})},onPageChange(e){this.page=e,this.fetchPaginated()},onPageSizeChange(){this.page=1,this.fetchPaginated()},onFilterChange(){this.page=1,this.fetchPaginated()},onBranchChange(){this.filters.adjuster="",this.onFilterChange()},onDeptChange(){this.filters.subRefType="",this.onFilterChange()},formatDate(e){return e?C()(e).format("DD/MM/YYYY"):""},yearOnly(e){return C()(e).format("YY")},getInsurerName(e){const t=this.insurers.find(t=>t.id===e);return t?t.name:""},getBranchName(e){const t=this.branches.find(t=>t.id===e);return t?t.name:""},getDeptName(e){const t=this.departments.find(t=>t.id===e);return t?t.name:""},getSubRefTypeName(e){const t=this.subRefTypes.find(t=>t.id===e);return t?t.subCode:""},getAdjusterName(e){if(!e)return"TBA";const t=this.adjusters.filter(t=>t.id===e);return t.length?t[0].username:"TBA"},getFileStatusName(e){const t=this.stages.find(t=>t.stageCode===e);return t?t.name:e},getDept(e){return this.departments.filter(t=>t.id===e)},getSubRefType(e){return this.subRefTypes.filter(t=>t.id===e)},getBranch(e){return this.branches.filter(t=>t.id===e)},async loadMeta(){this.branches=(await x["a"].getAll()).data,this.departments=(await k["a"].getAll()).data,this.subRefTypes=(await S["a"].getAll()).data,this.insurers=(await D["a"].getAll()).data,this.adjusters=(await A["a"].getAll()).data.filter(e=>e.roles&&e.roles.some(e=>"adjuster"===e.roleCode)),this.stages=(await T["a"].getAll()).data},async exportAll(){this.exportingAll=!0;const e={};Object.keys(this.filters).forEach(t=>{null!==this.filters[t]&&""!==this.filters[t]&&"undefined"!==typeof this.filters[t]&&(e[t]=this.filters[t])}),e.adjuster&&"object"===typeof e.adjuster&&e.adjuster.id&&(e.adjuster=e.adjuster.id),e.id&&(e.id=Number(e.id));let t=w["a"].baseURL;t.endsWith("/api")&&(t=t.replace(/\/api$/,""));try{const a=new URLSearchParams({...e,page:1,pageSize:1e4}).toString();window.open(`${t}/api/casefiles/paginated?${a}&export=excel`,"_blank")}finally{this.exportingAll=!1}},async exportCurrentPage(){let e=w["a"].baseURL;e.endsWith("/api")&&(e=e.replace(/\/api$/,""));const t={};Object.keys(this.filters).forEach(e=>{null!==this.filters[e]&&""!==this.filters[e]&&"undefined"!==typeof this.filters[e]&&(t[e]=this.filters[e])}),t.adjuster&&"object"===typeof t.adjuster&&t.adjuster.id&&(t.adjuster=t.adjuster.id),t.id&&(t.id=Number(t.id));const a=new URLSearchParams({...t,page:this.page,pageSize:this.pageSize}).toString();window.open(`${e}/api/casefiles/paginated?${a}&export=excel`,"_blank")},clearAllFilteredCasefiles(){this.allFilteredCasefiles=[]}},mounted(){this.loadMeta(),this.fetchPaginated()}},I=N,E=a("2877"),j=Object(E["a"])(I,b,v,!1,null,null,null);t["default"]=j.exports},"1ab5":function(e,t,a){"use strict";a("847e")},"1f0e":function(e,t,a){"use strict";a("d6e0")},"1fe7":function(e,t,a){"use strict";a("3dec")},2:function(e,t){},"25bb":function(e,t,a){e.exports=a.p+"img/aasb-logo.d0bf795f.png"},"271a7":function(e,t,a){"use strict";a.r(t);var s=a("c6a6"),n=a("8336"),r=a("b0af"),i=a("99d9"),l=a("cc20"),o=a("62ad"),c=a("a523"),d=a("8fea"),u=a("2e4b"),m=a("169a"),f=a("132d"),h=a("8860"),p=a("da13"),g=a("5d23"),b=a("34c3"),v=a("e449"),y=a("490a"),_=a("0fd9"),C=a("1f4f"),x=a("2fa4"),k=a("8654"),S=a("3a2f"),D=function(){var e=this,t=e._self._c;return t("div",[t(c["a"],{attrs:{fluid:""}},[t(m["a"],{attrs:{width:"600px",persistent:""},model:{value:e.dialogDetail,callback:function(t){e.dialogDetail=t},expression:"dialogDetail"}},[t(r["a"],{attrs:{tile:""}},[t(i["a"],[e.checkingFinalReport?[t(n["a"],{staticClass:"ml-2",attrs:{text:"",small:"",disabled:""}},[t(y["a"],{staticClass:"mr-2",attrs:{indeterminate:"",size:"20",width:"2",color:"primary"}}),e._v(" Checking Final Reports... ")],1)]:e.finalReports&&e.finalReports.length>0?t(v["a"],{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(n["a"],e._g(e._b({staticClass:"ml-2",attrs:{color:"success",outlined:"",small:"",tile:""}},"v-btn",s,!1),a),[t(f["a"],{attrs:{left:""}},[e._v("mdi-file-document-outline")]),e._v(" Final Reports ("+e._s(e.finalReports.length)+") "),t(f["a"],{attrs:{right:""}},[e._v("mdi-chevron-down")])],1)]}}])},[t(h["a"],{attrs:{dense:""}},e._l(e.finalReports,(function(a,s){return t(p["a"],{key:s,on:{click:function(t){return e.downloadFinalReport(a)}}},[t(b["a"],[t(f["a"],{attrs:{small:""}},[e._v("mdi-download")])],1),t(g["a"],[t(g["c"],{staticClass:"caption"},[e._v(" "+e._s(a.Type||"Report")+" - "+e._s(e.formatDate(a.createdAt))+" ")]),t(g["b"],{staticClass:"caption"},[e._v(" "+e._s(a.Remark||"No remark")+" ")])],1)],1)})),1)],1):[t(n["a"],{staticClass:"ml-2 caption",attrs:{text:"",small:"",disabled:""}},[t(f["a"],{attrs:{left:"",color:"warning"}},[e._v("mdi-alert-circle-outline")]),e._v(" No Final Reports Available ")],1)],t(x["a"]),t(n["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(t){e.dialogDetail=!1}}},[e._v(" Close ")])],2),t(i["d"],[t(x["a"]),t("span",{staticClass:"caption text-decoration-overline"},[e._v("Details of AA/"),e._l(e.filterDept(e.caseDetail.refType),(function(a,s){return t("span",{key:s},[e._v(e._s(a.name)+" "),e._l(e.filterSubDept(e.caseDetail.subRefType),(function(a,s){return t("span",{key:s},[e._v("/"+e._s(a.subCode))])}))],2)})),e._v("/"+e._s(e.caseDetail.id)+"/"+e._s(e.yearOnly(e.caseDetail.createdAt))+"/"),e._l(e.filterBranch(e.caseDetail.branch),(function(a){return t("span",{key:a.id},[e._v(e._s(a.brCode)+" ")])}))],2)],1),t(C["a"],{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center font-weight-black"},[e._v("Name")]),t("th",{staticClass:"text-left font-weight-black"},[e._v("Description")])])]),t("tbody",[e.caseDetail.fileStatus?t("tr",[t("td",{staticClass:"text-center"},[e._v("Status")]),e._l(e.filterStages(e.caseDetail.fileStatus),(function(a){return t("td",{key:a.id,staticClass:"text-left font-italic font-weight-black"},[e._v(" "+e._s(a.name)+" ")])}))],2):e._e(),e.caseDetail.createdAt?t("tr",[t("td",{staticClass:"text-center"},[e._v("Created On:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.createdAt))+" ")])]):e._e(),e.caseDetail.createdAt?t("tr",[t("td",{staticClass:"text-center"},[e._v("Created By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.createdBy))+" ")])]):e._e(),e.caseDetail.transferDate?t("tr",[t("td",{staticClass:"text-center"},[e._v("Transfer Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.transferDate))+" ")])]):e._e(),e.caseDetail.transferDate?t("tr",[t("td",{staticClass:"text-center"},[e._v("Transfered By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.transferBy))+" ")])]):e._e(),e.caseDetail.dateOfCancel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Cancellation Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfCancel))+" ")])]):e._e(),e.caseDetail.dateOfCancel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Cancellation By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.cancelBy))+" ")])]):e._e(),e.caseDetail.caseFrom?t("tr",[t("td",{staticClass:"text-center"},[e._v("Type")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.caseFrom)+" ")])]):e._e(),e.caseDetail.refType?t("tr",[t("td",{staticClass:"text-center"},[e._v("Department")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterDept(e.caseDetail.refType)[0].name)+", ("+e._s(e.filterDept(e.caseDetail.refType)[0].description)+") ")])]):e._e(),e.caseDetail.subRefType?t("tr",[t("td",{staticClass:"text-center"},[e._v("File Classification")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterSubDept(e.caseDetail.subRefType)[0].subCode)+" ")])]):e._e(),e.caseDetail.branch?t("tr",[t("td",{staticClass:"text-center"},[e._v("Branch")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterBranch(e.caseDetail.branch)[0].brCode)+", ("+e._s(e.filterBranch(e.caseDetail.branch)[0].name)+") ")])]):e._e(),e.caseDetail.insurer?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insurer")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterIns(e.caseDetail.insurer)[0].name)+" ")])]):e._e(),e.caseDetail.handler?t("tr",[t("td",{staticClass:"text-center"},[e._v("Handler")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterHandler(e.caseDetail.handler)[0].name)+", ("+e._s(e.filterHandler(e.caseDetail.handler)[0].email)+") ")])]):e._e(),e.caseDetail.adjuster?t("tr",[t("td",{staticClass:"text-center"},[e._v("Adjuster")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.adjuster))+" ")])]):e._e(),e.caseDetail.editor?t("tr",[t("td",{staticClass:"text-center"},[e._v("Editor")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.editor))+" ")])]):e._e(),e.caseDetail.clerkInCharge?t("tr",[t("td",{staticClass:"text-center"},[e._v("Clerk In Charge")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.clerkInCharge))+" ")])]):e._e(),e.caseDetail.claimNo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insurer's Ref No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.claimNo)+" ")])]):e._e(),e.caseDetail.vehicleNo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Vehicle No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.vehicleNo)+" ")])]):e._e(),e.caseDetail.dateOfAssign?t("tr",[t("td",{staticClass:"text-center"},[e._v("Date Of Assignment")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfAssign))+" ")])]):e._e(),e.caseDetail.dateOfLoss?t("tr",[t("td",{staticClass:"text-center"},[e._v("Date Of Loss")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfLoss))+" ")])]):e._e(),e.caseDetail.stateOfLoss?t("tr",[t("td",{staticClass:"text-center"},[e._v("State Of Loss")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterState(e.caseDetail.stateOfLoss)[0].stCode)+", ("+e._s(e.filterState(e.caseDetail.stateOfLoss)[0].name)+") ")])]):e._e(),e.caseDetail.placeOfLoss?t("tr",[t("td",{staticClass:"text-center"},[e._v("Place Of Loss")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.placeOfLoss)+" ")])]):e._e(),e.caseDetail.insuredName?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Name")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredName)+" ")])]):e._e(),e.caseDetail.insuredIC?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured IC No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredIC)+" ")])]):e._e(),e.caseDetail.InsuredTel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Tel. No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.InsuredTel)+" ")])]):e._e(),e.caseDetail.insuredEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Email")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredEmail)+" ")])]):e._e(),e.caseDetail.insuredDriverName?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Driver Name")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredDriverName)+" ")])]):e._e(),e.caseDetail.insuredDriverIc?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Driver IC No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredDriverIc)+" ")])]):e._e(),e.caseDetail.insuredDriverEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insured Driver Email")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insuredDriverEmail)+" ")])]):e._e(),e.caseDetail.policeReportNo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Police Report No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.policeReportNo)+" ")])]):e._e(),e.caseDetail.policeReportDate?t("tr",[t("td",{staticClass:"text-center"},[e._v("Police Report Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.policeReportDate)+" ")])]):e._e(),e.caseDetail.policyNo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Policy Number")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.policyNo)+" ")])]):e._e(),e.caseDetail.coverFrom||e.caseDetail.coverTo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Cover Period")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.coverFrom))+" - "+e._s(e.formatDate(e.caseDetail.coverTo))+" ")])]):e._e(),e.caseDetail.insComment?t("tr",[t("td",{staticClass:"text-center"},[e._v("Insurer's Comment")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.insComment)+" ")])]):e._e(),e.caseDetail.solicitorName?t("tr",[t("td",{staticClass:"text-center"},[e._v("Solicitor Name")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.solicitorName)+" ")])]):e._e(),e.caseDetail.solicitorTel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Solicitor Tel.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.solicitorTel)+" ")])]):e._e(),e.caseDetail.solicitorEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v("Solicitor Email")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.solicitorEmail)+" ")])]):e._e(),e.caseDetail.counselName?t("tr",[t("td",{staticClass:"text-center"},[e._v("Counsel Name")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.counselName)+" ")])]):e._e(),e.caseDetail.counselTel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Counsel Tel")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.counselTel)+" ")])]):e._e(),e.caseDetail.counselEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v("Counsel Email")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.counselEmail)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantName?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant Name")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantName)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantIc?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant IC No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantIc)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantTel?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant Tel No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantTel)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant Email")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantEmail)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantVehicleNo?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant Vehicle No.")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantVehicleNo)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantVehicleModel?t("tr",[t("td",{staticClass:"text-center"},[e._v(" Third Party Claimant Vehicle Model ")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantVehicleModel)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantVehicleSolicitor?t("tr",[t("td",{staticClass:"text-center"},[e._v("Third Party Claimant Solicitor")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantVehicleSolicitor)+" ")])]):e._e(),e.caseDetail.thirdPartyClaimantVehicleSolicitorEmail?t("tr",[t("td",{staticClass:"text-center"},[e._v(" Third Party Claimant Solicitor Email ")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.thirdPartyClaimantVehicleSolicitorEmail)+" ")])]):e._e(),e.caseDetail.applyDocDate?t("tr",[t("td",{staticClass:"text-center"},[e._v("Document Application Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.applyDocDate))+" ")])]):e._e(),e.caseDetail.applyDocDate?t("tr",[t("td",{staticClass:"text-center"},[e._v("Document Application By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.applyDocBy))+" ")])]):e._e(),e.caseDetail.dateOfReg?t("tr",[t("td",{staticClass:"text-center"},[e._v("Branch Assigning Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfReg))+" ")])]):e._e(),e.caseDetail.dateOfReg?t("tr",[t("td",{staticClass:"text-center"},[e._v("Branch Assigned By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.assignBranchBy))+" ")])]):e._e(),e.caseDetail.dateOfAdj?t("tr",[t("td",{staticClass:"text-center"},[e._v("Adjuster Assigning Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfAdj))+" ")])]):e._e(),e.caseDetail.dateOfAdj?t("tr",[t("td",{staticClass:"text-center"},[e._v("Adjuster Assigning By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.assignAdjBy))+" ")])]):e._e(),e.caseDetail.dateStartInv?t("tr",[t("td",{staticClass:"text-center"},[e._v("Start Investigation Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateStartInv))+" ")])]):e._e(),e.caseDetail.dateEndInv?t("tr",[t("td",{staticClass:"text-center"},[e._v("Complete Investigation Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateEndInv))+" ")])]):e._e(),e.caseDetail.dateOfEdi?t("tr",[t("td",{staticClass:"text-center"},[e._v("Editor Assigned Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfEdi))+" ")])]):e._e(),e.caseDetail.dateOfEdi?t("tr",[t("td",{staticClass:"text-center"},[e._v("Editor Assigned By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.assignEdiBy))+" ")])]):e._e(),e.caseDetail.dateStartEdi?t("tr",[t("td",{staticClass:"text-center"},[e._v("Start Editing Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateStartEdi))+" ")])]):e._e(),e.caseDetail.dateEndEdi?t("tr",[t("td",{staticClass:"text-center"},[e._v("Complete Editing Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateEndEdi))+" ")])]):e._e(),e.caseDetail.dateOfApproval?t("tr",[t("td",{staticClass:"text-center"},[e._v("Approval Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateOfApproval))+" ")])]):e._e(),e.caseDetail.dateOfApproval?t("tr",[t("td",{staticClass:"text-center"},[e._v("Approval By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.approvedBy))+" ")])]):e._e(),e.caseDetail.dateAssignFormatting?t("tr",[t("td",{staticClass:"text-center"},[e._v("Clerk Assigned Date(Formatting)")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateAssignFormatting))+" ")])]):e._e(),e.caseDetail.dateAssignFormatting?t("tr",[t("td",{staticClass:"text-center"},[e._v("Clerk Assigned (Formatting) By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.assignClerkBy))+" ")])]):e._e(),e.caseDetail.dateStartFormatting?t("tr",[t("td",{staticClass:"text-center"},[e._v("Start Formatting Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateStartFormatting))+" ")])]):e._e(),e.caseDetail.dateEndFormatting?t("tr",[t("td",{staticClass:"text-center"},[e._v("Complete Formatting Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateEndFormatting))+" ")])]):e._e(),e.caseDetail.dateFinal?t("tr",[t("td",{staticClass:"text-center"},[e._v("Invoising & Finalisation Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateFinal))+" ")])]):e._e(),e.caseDetail.dateFinal?t("tr",[t("td",{staticClass:"text-center"},[e._v("Invoising & Finalisation By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.finalBy))+" ")])]):e._e(),e.caseDetail.dateFinal?t("tr",[t("td",{staticClass:"text-center"},[e._v("Invoice Nombor")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.invNo)+" ")])]):e._e(),e.caseDetail.dateFinal?t("tr",[t("td",{staticClass:"text-center"},[e._v("Invoice Fee Note")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.caseDetail.invFeeNote)+" ")])]):e._e(),e.caseDetail.dateFinal?t("tr",[t("td",{staticClass:"text-center"},[e._v("Invoice Total")]),t("td",{staticClass:"text-left font-italic"},[e._v(" RM "+e._s(e.caseDetail.invTotal)+" ")])]):e._e(),e.caseDetail.dateDispatch?t("tr",[t("td",{staticClass:"text-center"},[e._v("Dispatch Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateDispatch))+" ")])]):e._e(),e.caseDetail.dateDispatch?t("tr",[t("td",{staticClass:"text-center"},[e._v("Dispatch By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.dispatchBy))+" ")])]):e._e(),e.caseDetail.dateClosed?t("tr",[t("td",{staticClass:"text-center"},[e._v("Closed Date")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.formatDate(e.caseDetail.dateClosed))+" ")])]):e._e(),e.caseDetail.dateClosed?t("tr",[t("td",{staticClass:"text-center"},[e._v("Closed By:")]),t("td",{staticClass:"text-left font-italic"},[e._v(" "+e._s(e.filterUser(e.caseDetail.closedBy))+" ")])]):e._e()])]},proxy:!0}])}),t(i["a"],[t(x["a"]),t(n["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:function(t){e.dialogDetail=!1}}},[e._v(" Close ")])],1)],1)],1),t(d["a"],{staticClass:"elevation-1 pt-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.casefiles,loading:e.loadTable,"loading-text":"Working on it ......",search:e.search,"mobile-breakpoint":"1100"},on:{"current-items":e.currentItems,"click:row":t=>e.showDetail(t)},scopedSlots:e._u([{key:"top",fn:function(){return[t(_["a"],{staticClass:"ma-1",staticStyle:{border:"1px dotted orange"},attrs:{"no-gutters":""}},[t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.sortedInsurers,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Insurer","persistent-hint":"",label:"Insurer"},model:{value:e.insurerColumn,callback:function(t){e.insurerColumn=t},expression:"insurerColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.insurer,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Insurer","persistent-hint":"",label:"Insurer"},model:{value:e.insurerColumn,callback:function(t){e.insurerColumn=t},expression:"insurerColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(k["a"],{attrs:{clearable:"",type:"text",label:"Vehicle No."},model:{value:e.vehicleNoColumn,callback:function(t){e.vehicleNoColumn=t},expression:"vehicleNoColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[t(k["a"],{attrs:{clearable:"",type:"text",label:"Vehicle No."},model:{value:e.vehicleNoColumn,callback:function(t){e.vehicleNoColumn=t},expression:"vehicleNoColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(k["a"],{attrs:{clearable:"",type:"text",label:"AASB Ref."},model:{value:e.aasbidColumn,callback:function(t){e.aasbidColumn=t},expression:"aasbidColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[t(k["a"],{attrs:{clearable:"",type:"text",label:"AASB Ref."},model:{value:e.aasbidColumn,callback:function(t){e.aasbidColumn=t},expression:"aasbidColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(v["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{value:e.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"Start Date"},on:{"click:clear":function(t){e.date=null}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(u["a"],{attrs:{value:e.computedDateFormattedMomentjs},on:{change:function(t){e.menu=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1)],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[t(v["a"],{ref:"menu1",attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{value:e.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"Start Date"},on:{"click:clear":function(t){e.date=null}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(u["a"],{attrs:{value:e.computedDateFormattedMomentjs},on:{change:function(t){e.menu1=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1)],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(v["a"],{ref:"menu2",attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{value:e.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"End Date"},on:{"click:clear":function(t){e.date=null}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(u["a"],{attrs:{value:e.computedDateFormattedMomentjs},on:{change:function(t){e.menu2=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"6"}},[t(v["a"],{ref:"menu3",attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{value:e.computedDateFormattedMomentjs,clearable:"","prepend-icon":"mdi-calendar",readonly:"",label:"End Date"},on:{"click:clear":function(t){e.date=null}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(u["a"],{attrs:{value:e.computedDateFormattedMomentjs},on:{change:function(t){e.menu3=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1)],1),t(_["a"],{staticClass:"ma-1",staticStyle:{border:"1px dotted orange"},attrs:{"no-gutters":""}},[t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.sortedBranches,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Branch","persistent-hint":"",label:"Branch"},model:{value:e.branchColumn,callback:function(t){e.branchColumn=t},expression:"branchColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.branch,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Branch","persistent-hint":"",label:"Branch"},model:{value:e.branchColumn,callback:function(t){e.branchColumn=t},expression:"branchColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.sortedDepartments,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Department","persistent-hint":"",label:"Department"},model:{value:e.refTypeColumn,callback:function(t){e.refTypeColumn=t},expression:"refTypeColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.refType,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Department","persistent-hint":"",label:"Department"},model:{value:e.refTypeColumn,callback:function(t){e.refTypeColumn=t},expression:"refTypeColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.sortedSubRefTypesByDept,"item-text":"subCode","item-value":"subCode","menu-props":{maxHeight:"400"},hint:"Filter by File Classification","persistent-hint":"",label:"File Classification"},model:{value:e.subRefTypesColumn,callback:function(t){e.subRefTypesColumn=t},expression:"subRefTypesColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.subRefTypes,"item-text":"subCode","item-value":"subCode","menu-props":{maxHeight:"400"},hint:"Filter by File Classification","persistent-hint":"",label:"File Classification"},model:{value:e.subRefTypesColumn,callback:function(t){e.subRefTypesColumn=t},expression:"subRefTypesColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.filterAdjByBranch(e.branchColumn),"item-text":"username","item-value":"username","menu-props":{maxHeight:"400"},hint:"Filter by Adjuster","persistent-hint":"",label:"Adjuster","no-data-text":"Select Branch"},model:{value:e.adjusterColumn,callback:function(t){e.adjusterColumn=t},expression:"adjusterColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.filterAdjByBranch(e.branchColumn),"item-text":"username","item-value":"username","menu-props":{maxHeight:"400"},hint:"Filter by Adjuster","persistent-hint":"",label:"Adjuster","no-data-text":"Select Branch"},model:{value:e.adjusterColumn,callback:function(t){e.adjusterColumn=t},expression:"adjusterColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2",xsm:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.stages,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Status","persistent-hint":"",label:"Status"},model:{value:e.statusColumn,callback:function(t){e.statusColumn=t},expression:"statusColumn"}})],1),t(o["a"],{staticClass:"pa-2 d-md-none justify-center text-center",attrs:{cols:"12"}},[t(s["a"],{attrs:{clearable:"",items:e.stages,"item-text":"name","item-value":"name","menu-props":{maxHeight:"400"},hint:"Filter by Status","persistent-hint":"",label:"Status"},model:{value:e.statusColumn,callback:function(t){e.statusColumn=t},expression:"statusColumn"}})],1),t(o["a"],{staticClass:"d-none d-xsm-none d-sm-none d-md-flex justify-center",attrs:{cols:"12",lg:"2",md:"2",sm:"2"}},[t("vue-excel-xlsx",{attrs:{data:e.currentCasefiles,columns:e.columns,"file-name":""+e.moment().format("DD/MM/YYYY"),"file-type":"xlsx","sheet-name":"sheetname"}},[t(S["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(n["a"],e._g(e._b({staticClass:"success",attrs:{fab:"",small:""}},"v-btn",s,!1),a),[t(f["a"],[e._v("mdi-file-excel-outline")])],1)]}}])},[t("span",[e._v(" EXPORT EXCEL REPORT")])])],1)],1),t(o["a"],{staticClass:"pb-5 d-md-none justify-center text-center"},[t("vue-excel-xlsx",{attrs:{data:e.currentCasefiles,columns:e.columns,"file-name":""+e.moment().format("DD/MM/YYYY"),"file-type":"xlsx","sheet-name":"sheetname"}},[t(S["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(n["a"],e._g(e._b({staticClass:"success",attrs:{tile:"",width:"250px"}},"v-btn",s,!1),a),[e._v("EXPORT EXCEL ")])]}}])},[t("span",[e._v(" EXPORT XLS")])])],1)],1)],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.branch",fn:function({item:a}){return e._l(e.filterBranch(a.branch),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.refType",fn:function({item:a}){return e._l(e.filterDept(a.refType),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.subRefType",fn:function({item:a}){return e._l(e.filterSubDept(a.subRefType),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[e._v(" "+e._s(a.subCode)+" ")])])}))}},{key:"item.adjuster",fn:function({item:a}){return e._l(e.filterAdj(a.adjuster),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"150px"}},[e._v(" "+e._s(a.username)+" ")])])}))}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(a.vehicleNo.toUpperCase())+" ")]):t("div",{staticClass:"font-italic"},[e._v("NIL")])]}},{key:"item.id",fn:function({item:a}){return[t("tr",{staticClass:"d-flex"},[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("div",{key:n},[e._v(" /"+e._s(s.name)),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v("/"+e._s(a.subCode))])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.createdAt))+" "),e._l(e.filterBranch(a.branch),(function(a){return t("div",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))],2)]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.fileStatus",fn:function({item:a}){return e._l(e.filterStages(a.fileStatus),(function(a){return t("span",e._b({key:a.id},"span",a.item,!1),[t(l["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))}}],null,!0)})],1)],1)},A=[],T=(a("e9f5"),a("910d"),a("f665"),a("ab43"),a("a732"),a("88a7"),a("271a"),a("5494"),a("fde1")),w=a("304b"),N=a("02ba"),I=a("cb28"),E=a("f983"),j=a("5632"),P=a("f0cc"),R=a("d14b"),O=a("8643"),L=a("9df5"),F=a("bc3a"),B=a.n(F),$=a("6736"),M=a("3c98"),U=a("c1df"),z=a.n(U),H={name:"reportsTwo",components:{},data(){return{loadTable:!0,columns:[{label:"CLAIMS HANDLER",field:"handler",dataFormat:this.showHandlerName},{label:"INSURER'S REF",field:"claimNo"},{label:"INSURED NAME",field:"insuredName",dataFormat:this.upperCaseVehicleNo},{label:"VEHICLE NO",field:"vehicleNo",dataFormat:this.upperCaseVehicleNo},{label:"INSURER",field:"insurer",dataFormat:this.showInsurerName},{label:"CLAIM TYPE",field:"refType",dataFormat:this.filterDeptOnly},{label:"BRANCH",field:"branch",dataFormat:this.showBranchName},{label:"DEPARTMENT",field:"refType",dataFormat:this.showRefTypeName},{label:"FILE CLASSIFICATION",field:"subRefType",dataFormat:this.showsubRefTypeName},{label:"ADJUSTER",field:"adjuster",dataFormat:this.showAdjusterName},{label:"AASB REF",field:"id",dataFormat:this.showAasbRef},{label:"DATE OF ASSIGNMENT",field:"dateOfAssign",dataFormat:this.formatDate},{label:"DATE OF LOSS",field:"dateOfLoss",dataFormat:this.formatDate},{label:"DAYS",field:"dateOfAssign",dataFormat:this.showDateDiff},{label:"ADJUSTER ACKNOWLEDMENT DATE",field:"dateStartInv",dataFormat:this.formatDate},{label:"REPORT SUBMISSION DATE",field:"dateEndInv",dataFormat:this.formatDate},{label:"STATUS",field:"fileStatus",dataFormat:this.showFileStatus},{label:"TOTAL AMOUNT OF ALL TAX INVOICES",field:"invTotal"}],search:"",insurerColumn:"",branchColumn:"",refTypeColumn:"",subRefTypesColumn:"",adjusterColumn:"",statusColumn:"",vehicleNoColumn:"",aasbidColumn:"",claimNoColumn:"",casefiles:[],currentCasefiles:[],branch:[],states:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],handlers:[],caseDetail:[],members:[],adjusters:[],documents:[],finalReports:[],checkingFinalReport:!1,startDate:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,endDate:null,dialogDetail:!1}},computed:{filteredCasefiles(){return this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("ADMIN")?this.casefiles:this.$store.state.auth.user.roles.includes("BRANCHCLERK")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)):this.$store.state.auth.user.roles.includes("ADJUSTER")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id.toString().includes(e.adjuster)):this.$store.state.auth.user.roles.includes("EDITOR")?this.casefiles.filter(e=>this.$store.state.auth.user.dept.includes(e.refType)&&this.$store.state.auth.user.branches.includes(e.branch)&&this.$store.state.auth.user.id.toString().includes(e.editor)):this.casefiles},computedDateFormattedMomentjs(){return this.date?z()(this.date).format("DD/MM/YY"):""},headers(){return[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"INSURER",align:"start",sortable:!1,value:"insurer",filter:e=>{if(!this.insurerColumn)return!0;const t=this.filterIns(e);return(t[0].name+"").toLowerCase().includes(this.insurerColumn.toLowerCase())}},{text:"BRANCH",align:"start",sortable:!1,value:"branch",filter:e=>{if(!this.branchColumn)return!0;const t=this.filterBranch(e);return(t[0].name+"").toLowerCase().includes(this.branchColumn.toLowerCase())}},{text:"DEPARTMENT",align:"start",sortable:!1,value:"refType",filter:e=>{if(!this.refTypeColumn)return!0;const t=this.filterDept(e);return(t[0].name+"").toLowerCase().includes(this.refTypeColumn.toLowerCase())}},{text:"FILE CLASSIFICATION",align:"start",sortable:!1,value:"subRefType",filter:e=>{if(!this.subRefTypesColumn)return!0;const t=this.filterSubDept(e);return(t[0].subCode+"").toLowerCase().includes(this.subRefTypesColumn.toLowerCase())}},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster",filter:e=>{if(!this.adjusterColumn)return!0;const t=this.filterAdj(e);return(t[0].username+"").toLowerCase().includes(this.adjusterColumn.toLowerCase())}},{text:"VEHICLE NO.",align:"start",value:"vehicleNo",filter:e=>!this.vehicleNoColumn||(e+"").toLowerCase().includes(this.vehicleNoColumn.toLowerCase())},{text:"AASB REFERENCE",align:"start",value:"id",filter:e=>!this.aasbidColumn||e==parseInt(this.aasbidColumn)},{text:"DATE OF ASSIGNMENT",align:"start",sortable:!1,value:"dateOfAssign",filter:e=>this.startDate&&!this.endDate?z()(e)>=z()(this.startDate):!this.startDate&&this.endDate?z()(e)<=z()(this.endDate):!this.startDate||!this.endDate||z()(e)>=z()(this.startDate)&&z()(e)<=z()(this.endDate)},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"STATUS",align:"center",sortable:!1,value:"fileStatus",filter:e=>{if(!this.statusColumn)return!0;const t=this.filterStages(e);return(t[0].name+"").toLowerCase().includes(this.statusColumn.toLowerCase())}}]},sortedDepartments(){return[...this.refType].sort((e,t)=>e.name.localeCompare(t.name))},sortedSubDepts(){return this.selectedDept?[...this.subRefTypes].filter(e=>e.deptId===this.selectedDept).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]},sortedBranches(){return[...this.branch].sort((e,t)=>e.name.localeCompare(t.name))},sortedInsurers(){return[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name))},sortedSubRefTypesByDept(){var e;const t=this.refTypeColumn?null===(e=this.refType.find(e=>e.name===this.refTypeColumn))||void 0===e?void 0:e.id:null;return t?[...this.subRefTypes].filter(e=>e.deptId===t).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]}},methods:{filterAdjByBranch(e){if(!e)return[];try{return[...this.adjusters].filter(t=>t.branches&&t.branches.some(t=>t.name===e)).sort((e,t)=>(e.username||"").localeCompare(t.username||""))}catch(t){return console.warn("Error filtering adjusters by branch:",t),[]}},async showDetail(e){this.caseDetail=Object.assign({},e),this.dialogDetail=!0,this.finalReports=[],this.checkingFinalReport=!0;try{const[t]=await Promise.all([M["a"].getAll(),new Promise(e=>setTimeout(e,500))]);this.documents=t.data,this.finalReports=this.documents.filter(t=>t.caseId===e.id&&4===t.docStageId),this.$store.dispatch("setSnackbar",{showing:!0,color:this.finalReports.length?"success":"info",text:this.finalReports.length?this.finalReports.length+" final report(s) available":"No final reports found for this case"})}catch(t){console.error("Error fetching documents:",t),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error checking for final reports"})}finally{this.checkingFinalReport=!1}},downloadFinalReport(e){e&&B()({url:`${$["a"].docsURL}/${e.name}`,method:"GET",responseType:"blob"}).then(t=>{const a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a;const n=e.name.substr(e.name.lastIndexOf(".")+1),r=this.caseDetail.vehicleNo.toUpperCase(),i=z()(e.createdAt).format("YYYYMMDD");s.setAttribute("download",`${r}_${this.caseDetail.id}_${i}.${n}`),document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(e=>{console.error("Error downloading file:",e),this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:"Error downloading final report"})})},currentItems:function(e){return this.currentCasefiles=e},retrieveCasefiles(){P["a"].getAll().then(e=>{this.casefiles=e.data,this.loadTable=!1}).catch(e=>{console.log(e)})},refreshList(){this.retrieveCasefiles(),this.retrieveIns()},filterUser(e){const t=this.members.filter(t=>t.id===e);let a=t.map(e=>e.username+", "+e.email);return a[0]},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},filterDept(e){return e?this.refType.filter(t=>t.id===e):"TBA"},filterSubDept(e){return e?this.subRefTypes.filter(t=>t.id===e):"TBA"},filterAdj(e){if(!e)return[{id:null,username:"TBA"}];const t=this.adjusters.filter(t=>t.id===e);return t.length?t:[{id:null,username:"TBA"}]},filtersubRefType(e){return this.subRefType.filter(t=>t.id===e)},filterHandler(e){return this.handlers.filter(t=>t.id===e)},filterBranch(e){return e?this.branch.filter(t=>t.id===e):"TBA"},filterState(e){return this.states.filter(t=>t.id===e)},filterIns(e){return this.insurer.filter(t=>t.id===e)},showHandlerName(e){const t=this.handlers.filter(t=>t.id===e);let a=t.map(e=>e.name);return a},showBranchName(e){const t=this.branch.filter(t=>t.id===e);let a=t.map(e=>e.name);return a},showRefTypeName(e){const t=this.refType.filter(t=>t.id===e);let a=t.map(e=>e.name);return a},showsubRefTypeName(e){const t=this.subRefTypes.filter(t=>t.id===e);let a=t.map(e=>e.subCode);return a},showAdjusterName(e){const t=this.adjusters.filter(t=>t.id===e);let a=t.map(e=>e.username);return a},showInsurerName(e){const t=this.insurer.filter(t=>t.id===e);let a=t.map(e=>e.name);return a},showAasbRef(e){const t=this.casefiles.filter(t=>t.id===e);let a=t.map(e=>"AA/"+this.filterDeptMap(e.refType)+this.filtersubRefTypeMap(e.subRefType)+e.id+"/"+this.yearOnly(e.createdAt)+this.filterBranchMap(e.branch));return a},showFileStatus(e){const t=this.stages.filter(t=>t.stageCode===e);let a=t.map(e=>e.name);return a},filterDeptMap(e){const t=this.refType.filter(t=>t.id===e);let a=t.map(e=>e.name);return e?a+"/":""},filterDeptOnly(e){const t=this.refType.filter(t=>t.id===e);let a=t.map(e=>e.name);return e?a:""},filtersubRefTypeMap(e){const t=this.subRefTypes.filter(t=>t.id===e);let a=t.map(e=>e.subCode);return e?a+"/":""},filterBranchMap(e){const t=this.branch.filter(t=>t.id===e);let a=t.map(e=>e.brCode);return e?"/"+a:""},formatDate(e){return e?z()(e).format("DD/MM/YYYY"):""},dateDiff(e,t){let a=z()(e),s=z()(t),n=z.a.duration(s.diff(a));return Math.round(n.asDays())},showDateDiff(e){let t=z()(e),a=z()(),s=z.a.duration(a.diff(t));return Math.round(s.asDays())},upperCaseVehicleNo(e){if(!e)return"";let t=e,a=t.toUpperCase();return a},yearOnly(e){return z()(e).format("YY")},moment:function(e){return z()(e)},retrieveDept(){I["a"].getAll().then(e=>{this.refType=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},retrieveSubRefType(){E["a"].getAll().then(e=>{this.subRefTypes=e.data}).catch(e=>{console.log(e)})},retrieveStages(){R["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveIns(){j["a"].getAll().then(e=>{this.insurer=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},retrieveBranches(){T["a"].getAll().then(e=>{this.branch=e.data.sort((e,t)=>e.name.localeCompare(t.name))}).catch(e=>{console.log(e)})},retrieveStates(){w["a"].getAll().then(e=>{this.states=e.data}).catch(e=>{console.log(e)})},retrieveRegions(){N["a"].getAll().then(e=>{this.regions=e.data}).catch(e=>{console.log(e)})},retrieveHandlers(){O["a"].getAll().then(e=>{this.handlers=e.data}).catch(e=>{console.log(e)})},retrieveUsers(){L["a"].getAll().then(e=>{this.members=e.data}).catch(e=>{console.log(e)})},retrieveAdj(){L["a"].getAll().then(e=>{this.adjusters=e.data.filter(e=>e.roles.some(e=>"adjuster"===e.roleCode))}).catch(e=>{console.log(e)})}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.retrieveHandlers(),this.retrieveUsers(),this.retrieveAdj()}},Y=H,G=a("2877"),q=Object(G["a"])(Y,D,A,!1,null,null,null);t["default"]=q.exports},3:function(e,t){},"304b":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/states")}get(e){return s["a"].get("/states/"+e)}create(e){return s["a"].post("/states",e)}update(e,t){return s["a"].put("/states/"+e,t)}delete(e){return s["a"].delete("/states/"+e)}deleteAll(){return s["a"].delete("/states")}findByBranch(e){return s["a"].get("/states?name="+e)}}t["a"]=new n},"30ef":function(e,t,a){"use strict";const s={on(e,t){document.addEventListener(e,e=>t(e.detail))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};t["a"]=s},"39f3":function(e,t,a){},"3c98":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/documents")}get(e){return s["a"].get("/documents/"+e)}create(e){return s["a"].post("/documents",e)}update(e,t){return s["a"].put("/documents/"+e,t)}delete(e,t){return s["a"].delete(`/documents/${e}/${t}`)}deleteAll(){return s["a"].delete("/documents")}findByHandler(e){return s["a"].get("/documents?name="+e)}}t["a"]=new n},"3dec":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"4aae":function(e,t,a){"use strict";var s=a("c6a6"),n=a("8336"),r=a("b0af"),i=a("99d9"),l=a("62ad"),o=a("132d"),c=a("0fd9"),d=a("b974"),u=a("8654"),m=function(){var e=this,t=e._self._c;return t(r["a"],{staticClass:"search-card h-100",attrs:{flat:""}},[t(i["d"],{staticClass:"search-card-title py-1 px-4"},[t(o["a"],{staticClass:"mr-2",attrs:{small:"",color:"primary"}},[e._v("mdi-magnify")]),t("span",{staticClass:"text-subtitle-2"},[e._v("Advanced Search")])],1),t(i["c"],{staticClass:"pa-2"},[t(c["a"],{attrs:{dense:""}},[t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(u["a"],{attrs:{label:"Search by keyword",placeholder:"Case ID, Vehicle No, etc","prepend-inner-icon":"mdi-text-search",clearable:"",outlined:"",dense:"","hide-details":""},on:{input:e.emitUpdate},model:{value:e.localSearch.keyword,callback:function(t){e.$set(e.localSearch,"keyword",t)},expression:"localSearch.keyword"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.departments,"item-text":"name","item-value":"id",label:"Department",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-domain"},on:{change:e.emitUpdate},model:{value:e.localSearch.dept,callback:function(t){e.$set(e.localSearch,"dept",t)},expression:"localSearch.dept"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.branches,"item-text":"name","item-value":"id",label:"Branch",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-office-building"},on:{change:e.emitUpdate},model:{value:e.localSearch.branch,callback:function(t){e.$set(e.localSearch,"branch",t)},expression:"localSearch.branch"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(s["a"],{attrs:{items:e.insurers,"item-text":"name","item-value":"id",label:"Insurer",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-shield-account"},on:{change:e.emitUpdate},model:{value:e.localSearch.insurer,callback:function(t){e.$set(e.localSearch,"insurer",t)},expression:"localSearch.insurer"}})],1)],1),t(c["a"],{attrs:{dense:""}},[t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.stages,"item-text":"name","item-value":"stageCode",label:"Status",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-flag"},on:{change:e.emitUpdate},model:{value:e.localSearch.status,callback:function(t){e.$set(e.localSearch,"status",t)},expression:"localSearch.status"}})],1),t(l["a"],{staticClass:"d-flex justify-end pt-2 pb-0",attrs:{cols:"12",sm:"6",md:"9"}},[t(n["a"],{staticClass:"mr-2",attrs:{color:"primary",loading:e.searchLoading,disabled:!e.isValid,small:""},on:{click:e.emitSearch}},[t(o["a"],{attrs:{left:"",small:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1),t(n["a"],{attrs:{text:"",small:""},on:{click:e.emitReset}},[e._v("Clear")])],1)],1)],1)],1)},f=[],h={name:"AdvancedSearch",props:{departments:{type:Array,default:()=>[]},branches:{type:Array,default:()=>[]},insurers:{type:Array,default:()=>[]},stages:{type:Array,default:()=>[]},searchLoading:{type:Boolean,default:!1},advancedSearch:{type:Object,default:()=>({})},isValid:{type:Boolean,default:!1}},data(){return{localSearch:{...this.advancedSearch}}},watch:{advancedSearch:{handler(e){this.localSearch={...e}},deep:!0}},methods:{emitSearch(){this.$emit("search")},emitReset(){this.$emit("reset")},emitUpdate(){this.$emit("update",{...this.localSearch})}}},p=h,g=(a("0d82"),a("2877")),b=Object(g["a"])(p,m,f,!1,null,"98311868",null);t["a"]=b.exports},"4e5a":function(e,t,a){"use strict";a("f05e")},5632:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/inss")}get(e){return s["a"].get("/inss/"+e)}create(e){return s["a"].post("/inss",e)}update(e,t){return s["a"].put("/inss/"+e,t)}delete(e){return s["a"].delete("/inss/"+e)}deleteAll(){return s["a"].delete("/inss")}}t["a"]=new n},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),n=a("7496"),r=a("8336"),i=a("b0af"),l=a("0789"),o=a("132d"),c=a("f6c4"),d=a("2db4"),u=a("f977"),m=function(){var e=this,t=e._self._c;return t(n["a"],[t("div",{attrs:{id:"the-content"}},[t(c["a"],[t("app-bar"),["login","forgot","reset","activate","NotFound"].includes(e.$route.name)?e._e():t("page-route-title"),t("keep-alive",[e.$route.meta.keepAlive?t("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():t("router-view")],1)],1),t("br"),t("staticFooter"),t(l["e"],{attrs:{group:""}},[e._l(e.visibleSnackbars,(function(a){return t(d["a"],{key:a.id,staticClass:"custom-snackbar",style:`margin-bottom: ${60*e.visibleSnackbars.indexOf(a)}px`,attrs:{color:a.color,timeout:e.timeout,app:"",right:"",elevation:6,shaped:""},on:{input:function(t){return e.onSnackbarHide(a.id)}},model:{value:a.showing,callback:function(t){e.$set(a,"showing",t)},expression:"snackbar.showing"}},[t(i["a"],{staticClass:"d-flex align-center",attrs:{flat:"",color:a.color,dark:""}},[t(o["a"],{staticClass:"ml-2",attrs:{left:"",size:"20"}},[e._v(" "+e._s(e.getSnackbarIcon(a.color))+" ")]),t("span",{staticClass:"mx-3 font-weight-medium"},[e._v(e._s(a.text))]),t(r["a"],{attrs:{icon:"","x-small":""},on:{click:function(e){a.showing=!1}}},[t(o["a"],{attrs:{size:"16"}},[e._v("mdi-close")])],1)],1)],1)}))],2),t(l["c"],[t(r["a"],{directives:[{name:"show",rawName:"v-show",value:e.offsetTop,expression:"offsetTop"},{def:u["b"],name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}],staticClass:"to-top-button",attrs:{fab:"",dark:"",fixed:"",bottom:"",color:"primary"},on:{click:e.toTop}},[t(o["a"],[e._v("mdi-chevron-up")])],1)],1)],1)},f=[],h=(a("e9f5"),a("910d"),a("2f62")),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"simple-footer"},[e.currentUser?t("span",{staticClass:"user-name"},[e._v(e._s(e.currentUser.fullname))]):e._e(),t("span",{staticClass:"copyright"},[e._v(" Licenced Loss Adjusters & Investigation  "+e._s((new Date).getFullYear())+" ")])])},g=[],b={name:"staticFooter",computed:{currentUser(){return this.$store.state.auth.user}}},v=b,y=(a("f0dd"),a("2877")),_=Object(y["a"])(v,p,g,!1,null,"6007454e",null),C=_.exports,x=a("40dc"),k=a("5bc1"),S=a("8212"),D=a("ce7e"),A=a("adda"),T=a("8860"),w=a("56b0"),N=a("da13"),I=a("5d23"),E=a("34c3"),j=a("f774"),P=a("2fa4"),R=a("2a7f"),O=a("3a2f"),L=function(){var e=this,t=e._self._c;return t("div",[e.currentUser?t(x["a"],{class:{"app-bar-shadow":e.isScrolled},attrs:{color:e.appBarColor,elevation:e.elevation,app:"",fixed:"",dense:""}},[t(k["a"],{on:{click:function(t){e.drawer=!0}}}),t(R["a"],[t("span",{staticClass:"d-block d-sm-none"},[e._v("Document Management")]),t("div",{staticClass:"d-none d-sm-block"},[t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/dashboard",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-monitor-dashboard")])],1)]}}],null,!1,564744786)},[t("span",[e._v("Dashboard")])]),t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/home",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-home-circle")])],1)]}}],null,!1,401123084)},[t("span",[e._v(" Home")])]),t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/listing",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-format-list-bulleted")])],1)]}}],null,!1,3205435895)},[t("span",[e._v(" Listing")])]),t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reports",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-clipboard-file")])],1)]}}],null,!1,1442824809)},[t("span",[e._v("Basic Report Generator")])]),t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reportsTwo",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-clipboard-search")])],1)]}}],null,!1,409900109)},[t("span",[e._v("Detail Report Generator")])]),e.showMerimen?t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/merimen-data",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-inbox-arrow-down")])],1)]}}],null,!1,290371458)},[t("span",[e._v("Merimen")])]):e._e(),e.showCompliance?t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/compliance",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-shield-check")])],1)]}}],null,!1,2023676666)},[t("span",[e._v("Compliance")])]):e._e()],1)]),t(P["a"]),t("div",{staticClass:"custom-dropdown-container"},[t("div",{staticClass:"profile-btn",on:{click:e.toggleProfileMenu,mouseenter:e.showProfileMenu}},[t(S["a"],{attrs:{size:"36px"}},[e.currentUser.profile?t(A["a"],{attrs:{src:e.currentUser.profile,alt:e.currentUser.username},on:{error:e.handleAvatarError},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o["a"],[e._v("mdi-account")])]},proxy:!0}],null,!1,1925218037)}):t(o["a"],[e._v("mdi-account")])],1)],1),t("div",{staticClass:"dropdown-content",class:{show:e.isProfileMenuVisible},on:{mouseenter:e.cancelHideMenu,mouseleave:e.delayHideMenu}},[t("router-link",{staticClass:"dropdown-item",attrs:{to:"/welcome"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-hand-wave")]),t("span",[e._v("Welcome")])],1),t("div",{staticClass:"dropdown-divider"}),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/profile"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-account-circle")]),t("span",[e._v("My Profile")])],1),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/mytasks"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-clipboard-check")]),t("span",[e._v("My Tasks")])],1)],1)]),e.currentUser?t("div",[t(O["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{icon:""},on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-logout-variant")])],1)]}}],null,!1,4262698453)},[t("span",[e._v("Logout")])])],1):t("div",[t(r["a"],{staticClass:"text-decoration-none",attrs:{to:"/login",plain:""}},[t("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v("Login ")],1)],1)],1):e._e(),e.currentUser?t(j["a"],{attrs:{app:"",temporary:"","expand-on-hover":"",dark:"",src:a("9462")},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(T["a"],[t(N["a"],[t(I["a"],[t(I["c"],{staticClass:"text-h6"},[e._v(" "+e._s(e.currentUser.username)+" ")]),t(I["b"],[e._v(" "+e._s(e.currentUser.email)+" ")]),t(D["a"]),t(I["b"],{staticClass:"text-h7"},[t("strong",[e._v("Access:")])]),t(I["b"],{staticClass:"text-h8"},[t("ul",e._l(e.currentUser.roles,(function(a,s){return t("li",{key:s},[e._v(" "+e._s(a)+" ")])})),0)]),t(D["a"]),e.currentUser.branches&&e.currentUser.branches.length?t("div",[t(I["b"],{staticClass:"text-h7"},[t("strong",[e._v("Branch:")])]),t(I["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.branches,(function(a,s){return t("li",{key:s},e._l(e.filterStates(a),(function(a,s){return t("div",{key:s},[e._v(" "+e._s(a.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length?t("div",[t(I["b"],{staticClass:"text-h7"},[t("strong",[e._v("Department:")])]),t(I["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.dept,(function(a,s){return t("li",{key:s},e._l(e.filterDept(a),(function(a,s){return t("div",{key:s},[e._v(" "+e._s(a.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e()],1)],1)],1),t(D["a"]),e.showAdminBoard?t(T["a"],{attrs:{nav:"",dense:""}},e._l(e.adminlinks,(function(a,s){return t("div",{key:s},[a.subLinks?t(w["a"],{key:a.text,attrs:{"no-action":"","prepend-icon":a.icon,value:"admin"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("admin")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(I["c"],[e._v(e._s(a.text))])]},proxy:!0}],null,!0)},e._l(a.subLinks,(function(a){return t(N["a"],{key:a.text,staticClass:"text-decoration-none pl-5",attrs:{to:a.to,"active-class":"white--text"}},[t(E["a"],[t(o["a"],[e._v(e._s(a.icon))])],1),t(I["c"],[e._v(e._s(a.text))])],1)})),1):e._e()],1)})),0):e._e(),t(T["a"],{attrs:{nav:"",dense:""}},e._l(e.links,(function(a,s){return t("div",{key:s},[t(w["a"],{key:a.text,attrs:{"no-action":"","prepend-icon":a.icon,value:"dashboard"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("dasboard")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(I["c"],[e._v(e._s(a.text))])]},proxy:!0}],null,!0)},e._l(e.filteredSubLinks(a),(function(a){return t(N["a"],{key:a.text,staticClass:"text-decoration-none pl-5",attrs:{to:a.to,"active-class":"white--text"}},[t(E["a"],[t(o["a"],[e._v(e._s(a.icon))])],1),t(I["c"],[e._v(e._s(a.text))])],1)})),1)],1)})),0)],1):e._e()],1)},F=[],B=(a("14d9"),a("fde1")),$=a("cb28"),M=a("30ef"),U={components:{},name:"appBar",data:()=>({searchId:"",drawer:!1,profileMenu:!1,adminlinks:[{icon:"mdi-shield-lock-outline",text:"Admin",subLinks:[{text:"User",to:"/members",icon:"mdi-account-group"},{text:"Branch",to:"/branches",icon:"mdi-office-building"},{text:"Department",to:"/depts",icon:"mdi-domain"},{text:"File Classification",to:"/subDepts",icon:"mdi-file-tree"},{text:"State",to:"/states",icon:"mdi-map-marker"},{text:"District",to:"/districts",icon:"mdi-map"},{text:"Insurer",to:"/inss",icon:"mdi-shield-check"},{text:"TAT List",to:"/tatcharts",icon:"mdi-clock-outline"},{text:"Handler",to:"/handlers",icon:"mdi-account-tie"},{text:"Bulletin",to:"/bulletins",icon:"mdi-bulletin-board"}]}],links:[{icon:"mdi-menu",text:"Navigation",subLinks:[{to:"/dashboard",icon:"mdi-monitor-dashboard",text:"Dashboard"},{to:"/home",icon:"mdi-home-circle-outline",text:"Home"},{to:"/listing",icon:"mdi-format-list-bulleted",text:"Listing"},{to:"/reports",icon:"mdi-clipboard-file",text:"Basic Report Generator"},{to:"/reportsTwo",icon:"mdi-clipboard-search",text:"Detail Report Generator"},{text:"Merimen",to:"/merimen-data",icon:"mdi-inbox-arrow-down"},{to:"/compliance",icon:"mdi-shield-check",text:"Compliance"}]}],branches:[],departments:[],activeMenu:null,isScrolled:!1,elevation:1,appBarColor:"transparent",isProfileMenuVisible:!1}),computed:{currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ADMIN")},showMerimen(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ADMIN")||this.currentUser.roles.includes("MANAGER")||this.currentUser.roles.includes("CLERK"))},showCompliance(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ADMIN")||this.currentUser.roles.includes("MANAGER")||this.currentUser.roles.includes("CLERK"))}},methods:{filterStates(e){return this.branches.filter(t=>t.id===e)},filterDept(e){return this.departments.filter(t=>t.id===e)},retrieveStates(){B["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepts(){$["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},logOut(){this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Successfully Logged Out!"}),this.$store.dispatch("auth/logout"),this.$router.push("/login")},handleMenuClick(e){this.activeMenu===e?this.activeMenu=null:this.activeMenu=e},filteredSubLinks(e){return e.subLinks.filter(e=>("Merimen"!==e.text||this.showMerimen)&&("Compliance"!==e.text||this.showCompliance))},handleScroll(){this.isScrolled=window.scrollY>0,this.elevation=this.isScrolled?6:1,this.appBarColor=this.isScrolled?"white":"transparent"},handleAvatarError(){this.$store.state.auth.user.profile=null},toggleProfileMenu(){this.isProfileMenuVisible=!this.isProfileMenuVisible},showProfileMenu(){this.isProfileMenuVisible=!0},hideProfileMenu(){this.isProfileMenuVisible=!1},cancelHideMenu(){clearTimeout(this.hideMenuTimeout)},delayHideMenu(){this.hideMenuTimeout=setTimeout(()=>{this.isProfileMenuVisible=!1},300)}},watch:{$route(){}},mounted(){this.retrieveStates(),this.retrieveDepts(),M["a"].on("logout",()=>{this.logOut()}),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){M["a"].remove("logout"),window.removeEventListener("scroll",this.handleScroll)}},z=U,H=(a("1fe7"),Object(y["a"])(z,L,F,!1,null,null,null)),Y=H.exports,G=a("cc20"),q=a("a523"),V=function(){var e=this,t=e._self._c;return t(q["a"],{staticClass:"pa-2",attrs:{fluid:""}},[t(i["a"],{staticClass:"d-flex align-center px-4 py-2",attrs:{flat:""}},[t(o["a"],{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-map-marker")]),t("span",{staticClass:"text-grey"},[e._v("You are here:")]),t(G["a"],{staticClass:"ml-2",attrs:{size:"small",variant:"flat"}},[e._v(" "+e._s(e.$route.meta.title)+" ")]),t(P["a"]),t(r["a"],{attrs:{"prepend-icon":"mdi-arrow-left",variant:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Return ")])],1)],1)},J=[],K={},W=Object(y["a"])(K,V,J,!1,null,null,null),X=W.exports,Q={data:()=>({fab:!1,timeout:2e3,left:!0,bottom:!0,offsetTop:0}),mounted(){this.overlay=!1},components:{staticFooter:C,appBar:Y,PageRouteTitle:X},computed:{currentUser(){return this.$store.state.auth.user},...Object(h["c"])(["snackbars"]),visibleSnackbars(){return this.snackbars.filter(e=>e.showing).slice(0,3)}},methods:{onScroll(e){if("undefined"===typeof window)return;const t=window.pageYOffset||e.target.scrollTop||0;this.offsetTop=t>20},toTop(){this.$vuetify.goTo(0)},getSnackbarIcon(e){switch(e){case"success":return"mdi-check-circle-outline";case"error":return"mdi-alert-circle-outline";case"warning":return"mdi-alert-outline";case"info":return"mdi-information-outline";default:return"mdi-bell-outline"}},onSnackbarHide(e){this.$store.commit("REMOVE_SNACKBAR",e)}},watch:{snackbars:{handler(e){e.length>10&&this.$store.commit("CLEANUP_OLD_SNACKBARS")},deep:!0}}},Z=Q,ee=(a("14a5"),Object(y["a"])(Z,m,f,!1,null,null,null)),te=ee.exports,ae=(a("f665"),a("a732"),a("8c4f")),se=a("bb51"),ne=a("62ad"),re=a("8fea"),ie=a("0fd9"),le=a("b974"),oe=a("8654"),ce=function(){var e=this,t=e._self._c;return t(q["a"],{attrs:{fluid:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mb-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(le["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(oe["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])]),t(re["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.paginatedCasefiles,"item-class":e.itemClass,"sort-by":e.sortBy,"sort-desc":e.sortDesc,loading:e.paginatedLoading,search:e.search,"items-per-page":e.pageSize,"mobile-breakpoint":"1100","hide-default-footer":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.viewItem},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s((e.paginatedPage-1)*e.pageSize+t.index+1)+" ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s){return t("span",{key:"dept-"+s.id},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a){return t("span",{key:"subDept-"+a.id},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:"branch-"+a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(t.dateOfAssign,new Date))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(e.statusName(a.fileStatus))+" ")])]}}],null,!0)}),t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mt-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(le["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(oe["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])])],1)],1)],1)},de=[],ue=a("5632"),me=a("9df5"),fe=a("f983"),he={name:"Archive",data:()=>({search:"",addDialog:!1,pageSize:30,jumpToPage:null,sortBy:["days"],sortDesc:[!0],insurer:[],members:[],branches:[],refType:[],subRefTypes:[],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}),computed:{...Object(h["b"])(["getPaginatedClosedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),paginatedCasefiles(){return this.getPaginatedClosedCasefiles},paginatedTotal(){return this.getPaginatedTotal},paginatedPage:{get(){return this.getPaginatedPage},set(e){this.onPageChange(e)}},paginatedLoading(){return this.getPaginatedLoading},totalPages(){return Math.max(1,Math.ceil(this.paginatedTotal/this.pageSize))},paginationButtons(){const e=[],t=this.totalPages,a=this.paginatedPage;if(t<=7)for(let s=1;s<=t;s++)e.push({type:"page",page:s});else if(a<=4){for(let t=1;t<=5;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e1"}),e.push({type:"page",page:t})}else if(a>=t-3){e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e2"});for(let a=t-4;a<=t;a++)e.push({type:"page",page:a})}else{e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e3"});for(let t=a-1;t<=a+1;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e4"}),e.push({type:"page",page:t})}return e},addCasefileDisabled(){return!1}},methods:{onPageChange(e){this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:e,pageSize:this.pageSize})},onPageSizeChange(){this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:1,pageSize:this.pageSize}),this.paginatedPage=1},goToFirstPage(){this.paginatedPage>1&&this.onPageChange(1)},goToPrevPage(){this.paginatedPage>1&&this.onPageChange(this.paginatedPage-1)},goToNextPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.paginatedPage+1)},goToLastPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.totalPages)},jumpPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.totalPages&&(this.onPageChange(this.jumpToPage),this.jumpToPage=null)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},itemClass(){return""},statusName(e){return"CLO"===e?"CLOSED":"CANC"===e?"CANCELLED":e},async loadInsurersAndMembers(){try{const[e,t]=await Promise.all([ue["a"].getAll(),me["a"].getAll()]);this.insurer=e.data,this.members=t.data}catch(e){}},loadLookups(){return Promise.all([B["a"].getAll(),$["a"].getAll(),fe["a"].getAll()]).then(([e,t,a])=>{this.branches=e.data,this.refType=t.data,this.subRefTypes=a.data})},filterDept(e){return e&&this.refType.length?this.refType.filter(t=>t.id===e):[]},filterSubDept(e){return e&&this.subRefTypes.length?this.subRefTypes.filter(t=>t.id===e):[]},filterBranches(e){return e&&this.branches.length?this.branches.filter(t=>t.id===e):[]},filterIns(e){return e&&this.insurer.length?this.insurer.filter(t=>t.id===e):[]},filterUser(e){return e&&this.members.length?this.members.filter(t=>t.id===e):[]},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-GB")},yearOnly(e){return e?new Date(e).getFullYear().toString().slice(-2):""},dateDiff(e,t){if(!e)return"";const a=new Date(e),s=new Date(t),n=Math.abs(s-a);return Math.floor(n/864e5)}},watch:{$route(e){"/archive"===e.path&&(this.paginatedPage=1,this.onPageChange(1))}},async mounted(){this.paginatedPage=1,await this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:1,pageSize:this.pageSize}),await this.loadInsurersAndMembers(),await this.loadLookups()}},pe=he,ge=(a("4e5a"),Object(y["a"])(pe,ce,de,!1,null,null,null)),be=ge.exports,ve=a("71a3"),ye=a("fe57"),_e=function(){var e=this,t=e._self._c;return t("div",[t(q["a"],{staticClass:"text-center",attrs:{fluid:""}},[t(ye["a"],{model:{value:e.selectedTabIndex,callback:function(t){e.selectedTabIndex=t},expression:"selectedTabIndex"}},[t(ve["a"],{on:{click:function(t){e.dept=!0,e.branch=!1}}},[e._v("Department")]),t(ve["a"],{attrs:{dark:""},on:{click:function(t){e.branch=!0,e.dept=!1}}},[e._v("Branch")])],1),e.dept?t("deptTab"):e._e(),e.branch?t("brTab"):e._e()],1)],1)},Ce=[],xe=a("99d9"),ke=a("ce87"),Se=function(){var e=this,t=e._self._c;return t(q["a"],[t(ie["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredRefType,(function(s,n){return[t(ne["a"],{key:n,attrs:{align:"center"}},[t(ke["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:n}){return[t(i["a"],{class:{"on-hover":n,highlighted:s.id===e.highlightedDeptId},attrs:{width:"300px",shaped:"",elevation:n||s.id===e.highlightedDeptId?12:2},on:{click:function(t){return e.viewItem(s.id)}}},[t(A["a"],{attrs:{src:a("dfb6"),height:"100px"}},[t(xe["d"],{staticClass:"text-h4 white--text"},[t(ie["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(s.name)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(s.description)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},De=[],Ae={data(){return{refType:[],highlightedDeptId:null}},mounted(){this.retrieveDept(),this.$route.query.dept&&(this.highlightedDeptId=parseInt(this.$route.query.dept,10),this.$router.replace({path:this.$route.path}))},computed:{filteredRefType(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.refType:this.refType.filter(e=>this.$store.state.auth.user.dept.includes(e.id))}},methods:{retrieveDept(){$["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"refTabDetail",params:{id:e}})}}},Te=Ae,we=(a("ac58"),Object(y["a"])(Te,Se,De,!1,null,"d8cef326",null)),Ne=we.exports,Ie=function(){var e=this,t=e._self._c;return t(q["a"],[t(ie["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredBranch,(function(s,n){return[t(ne["a"],{key:n,attrs:{align:"center"}},[t(ke["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:n}){return[t(i["a"],{class:{"on-hover":n,highlighted:s.id===e.highlightedBranchId},attrs:{width:"300px",shaped:"",elevation:n||s.id===e.highlightedBranchId?12:2},on:{click:function(t){return e.viewItem(s.id)}}},[t(A["a"],{attrs:{src:a("f31f"),height:"100px"}},[t(xe["d"],{staticClass:"text-h4 white--text"},[t(ie["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(s.brCode)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(s.name)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Ee=[],je={data(){return{branch:[],highlightedBranchId:null}},mounted(){this.retrieveBr(),this.$route.query.branch&&(this.highlightedBranchId=parseInt(this.$route.query.branch,10),this.$router.replace({path:this.$route.path}))},computed:{filteredBranch(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.branch:this.branch.filter(e=>this.$store.state.auth.user.branches.includes(e.id))}},methods:{retrieveBr(){B["a"].getAll().then(e=>{this.branch=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"brTabDetail",params:{id:e}})}}},Pe=je,Re=(a("1f0e"),Object(y["a"])(Pe,Ie,Ee,!1,null,"2ecd4472",null)),Oe=Re.exports,Le={name:"listing",components:{deptTab:Ne,brTab:Oe},data(){return{dept:!0,branch:!1,selectedTabIndex:0}},created(){const e=localStorage.getItem("selectedTab");"branch"===e?(this.dept=!1,this.branch=!0,this.selectedTabIndex=1):(this.dept=!0,this.branch=!1,this.selectedTabIndex=0),localStorage.removeItem("selectedTab")}},Fe=Le,Be=Object(y["a"])(Fe,_e,Ce,!1,null,null,null),$e=Be.exports,Me=a("71d9"),Ue=function(){var e=this,t=e._self._c;return t(q["a"],{staticStyle:{width:"80%"},attrs:{fluid:""}},[t("div",[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(re["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.casefiles,search:e.search,loading:e.loadTable,"loading-text":"Working on it ......"},on:{"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(Me["a"],{attrs:{flat:""}},[t(oe["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.id",fn:function({item:a}){return[t("tr",{staticClass:"d-flex"},[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("div",{key:n},[e._v(" /"+e._s(s.name)),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v("/"+e._s(a.subCode))])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.createdAt))+" "),e._l(e.filterStates(a.branch),(function(a){return t("div",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))],2)]}},{key:"item.dateOfLoss",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfLoss))+" ")]}},{key:"item.fileStatus",fn:function({item:a}){return[t(O["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",e._b({key:a.id},"span",a.item,!1),[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)})],1)],1)],1)])},ze=[],He=(a("ab43"),a("304b")),Ye=a("02ba"),Ge=a("f0cc"),qe=a("d14b"),Ve=a("8643"),Je=a("c1df"),Ke=a.n(Je),We={name:"find",data:()=>({casefiles:[],search:"",loadTable:!0,branch:[],state:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],handlers:[],newItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},editItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AASB REFERENCE",align:"start",value:"id",sortable:!1},{text:"CLAIM NO.",align:"start",sortable:!1,value:"claimNo"},{text:"DATE OF LOSS",align:"start",sortable:!1,value:"dateOfLoss"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}),computed:{},watch:{},methods:{filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},filtersubRefType(e){return this.subRefTypes.filter(t=>t.deptId===e)},filterHandler(e){return this.handlers.filter(t=>t.insId===e)},filterStates(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},viewItem(e){this.$router.push({name:"findfile",params:{id:e.id}})},formatDate(e){return Ke()(e).format("DD/MM/YYYY")},yearOnly(e){return Ke()(e).format("YY")},retrieveCasefiles(){Ge["a"].getAll().then(e=>{this.casefiles=e.data,this.loadTable=!1}).catch(e=>{console.log(e)})},refreshList(){this.retrieveCasefiles()},retrieveDept(){$["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},retrieveSubRefType(){fe["a"].getAll().then(e=>{this.subRefTypes=e.data}).catch(e=>{console.log(e)})},retrieveStages(){qe["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveIns(){ue["a"].getAll().then(e=>{this.insurer=e.data}).catch(e=>{console.log(e)})},retrieveBranches(){B["a"].getAll().then(e=>{this.branch=e.data.map(this.getDisplayBranch)}).catch(e=>{console.log(e)})},getDisplayBranch(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},retrieveStates(){He["a"].getAll().then(e=>{this.state=e.data.map(this.getDisplayState)}).catch(e=>{console.log(e)})},getDisplayState(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,stCode:e.stCode.length>30?e.stCode.substr(0,30)+"...":e.stCode}},retrieveRegions(){Ye["a"].getAll().then(e=>{this.regions=e.data}).catch(e=>{console.log(e)})},retrieveHandlers(){Ve["a"].getAll().then(e=>{this.handlers=e.data}).catch(e=>{console.log(e)})}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.retrieveHandlers()}},Xe=We,Qe=Object(y["a"])(Xe,Ue,ze,!1,null,null,null),Ze=Qe.exports,et=a("0798"),tt=function(){var e=this,t=e._self._c;return t("body",[t(i["a"],{staticClass:"transparent justify-center align-center text-center",attrs:{flat:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"2"}}),t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"8",color:"white"}},[t(xe["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Forgot your password? "),t("br"),e._v(" Please provide emaill address for assistance.")])],1),t(ne["a"],{attrs:{cols:"2"}})],1)],1),t(i["a"],{staticClass:"fill-height pa-0 ma-auto",attrs:{"max-width":"1000",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[e.message?t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(et["a"],{attrs:{width:"90%",type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),e.message2?t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(et["a"],{attrs:{width:"90%",type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")])],1):e._e(),t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"4",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:a("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.resetlink.apply(null,arguments)}}},[t(ie["a"],{attrs:{"no-gutters":""}},[t(ne["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(r["a"],{attrs:{disabled:e.isEmptyForm,tile:"",block:"",color:"blue",type:"submit"}},[e._v(" Help me ")])],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(xe["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},at=[],st={name:"forgot",data(){return{message:"",message2:"",user:{email:""},rules:{emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!this.user.email}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{resetlink(){this.message="",this.message2="";var e={email:this.user.email};me["a"].resetlink(e).then(e=>{this.message2=e&&e.data&&e.data.message||toString()},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()}),this.$refs.form.reset()}},mounted(){}},nt=st,rt=(a("98a8"),Object(y["a"])(nt,tt,at,!1,null,"32c608f2",null)),it=rt.exports,lt=a("4bd4"),ot=a("8e36"),ct=a("7e85"),dt=a("e516"),ut=a("9c54"),mt=a("56a4"),ft=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(xe["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Reset password!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:a("25bb")}}),t(ct["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(ut["a"],[t(mt["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(D["a"]),t(mt["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(D["a"]),t(mt["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(et["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(ut["b"],[t(dt["a"],{attrs:{step:"1"}},[t(lt["a"],{ref:"form"},[t(i["a"],[t(xe["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(oe["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(oe["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(xe["a"],[t(r["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(r["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"2"}},[t(lt["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(xe["c"],[e._v(" Key in new password ")]),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ot["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:a}){return[t("strong",[e._v(e._s(Math.ceil(a))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(xe["a"],[t(r["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"3"}},[e.message2?t(ne["a"],{staticClass:"ma-auto"},[t(et["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(xe["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(xe["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},ht=[],pt=a("580e"),gt=a.n(pt),bt={name:"reset",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>gt()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=gt()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};me["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};me["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},vt=bt,yt=(a("c7a3"),Object(y["a"])(vt,ft,ht,!1,null,"72672027",null)),_t=yt.exports,Ct=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(xe["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Activate User Account!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:a("25bb")}}),t(ct["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(ut["a"],[t(mt["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(D["a"]),t(mt["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(D["a"]),t(mt["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(et["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(ut["b"],[t(dt["a"],{attrs:{step:"1"}},[t(lt["a"],{ref:"form"},[t(i["a"],[t(xe["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(oe["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(oe["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(xe["a"],[t(r["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(r["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"2"}},[t(lt["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(xe["c"],[e._v(" Key in new password ")]),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ot["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:a}){return[t("strong",[e._v(e._s(Math.ceil(a))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(xe["a"],[t(r["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"3"}},[e.message2?t(ne["a"],{staticClass:"ma-auto"},[t(et["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(xe["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(xe["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},xt=[],kt={name:"activate",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>gt()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=gt()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};me["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};me["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},St=kt,Dt=(a("0a51"),Object(y["a"])(St,Ct,xt,!1,null,"19b8c066",null)),At=Dt.exports,Tt=a("169a"),wt=a("afd9"),Nt=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(xe["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Welcome to Associated Adjusters Online Reporting System")])],1)],1),t(i["a"],{staticClass:"pa-auto ma-auto",attrs:{outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"pa-0"},[t(ne["a"],{attrs:{cols:"12",lg:"3"}}),t(ne["a"],{staticClass:"fill-height d-flex justify-center",attrs:{cols:"12",lg:"3",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:a("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t(ie["a"],{attrs:{"no-gutters":""}},[t(ne["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{name:"email",value:"",type:"text",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ne["a"],{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{name:"password",type:"password",label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(r["a"],{staticClass:"primary",attrs:{tile:"",block:"",disabled:e.isEmptyForm,type:"submit"}},[e._v(" Login ")])],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(xe["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/forgot"}},[e._v(" Forgot Password ")])],1)],1)],1)])],1),t(ne["a"],{staticClass:"d-none d-md-none d-lg-flex justify-center",attrs:{cols:"12",lg:"4"}},[t(i["a"],{staticClass:"transparent",attrs:{flat:"",width:"100%"}},[t(ne["a"],{staticClass:"pa-0 text-start"},[t(wt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(P["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(a){return t(ne["a"],e._b({key:a.id},"v-col",a.item,!1),[t(et["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(e._s(a.newsTitle)),t("br"),t("small",[t("p",[e._v(" "+e._s(a.newsStory)+" ")])]),t("p",[e._v("- "+e._s(a.newsAuthor))]),t("p",[e._v(" "+e._s(e.formatDate(a.createdAt))+" ")])])],1)}))],2)],1),t(ne["a"],{staticClass:"d-lg-none d-flex justify-center",attrs:{cols:"12"}},[t(i["a"],{staticClass:"transparent px-3",attrs:{"max-width":"600px",flat:""}},[t(ie["a"],[t(ne["a"],{staticClass:"align-center justify-center text-center",attrs:{cols:"12"}},[t(wt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(P["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(a){return t(ne["a"],e._b({key:a.id,staticClass:"py-0",attrs:{cols:"12"}},"v-col",a.item,!1),[t(et["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(" "+e._s(a.newsTitle)+" - "+e._s(a.newsAuthor)+" - "+e._s(e.formatDate(a.createdAt))),t("span",{staticClass:"pl-3 caption",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.something(a.id)}}},[e._v("... read more")])])],1)}))],2)],1)],1)],1)],1)]),t(Tt["a"],{model:{value:e.newsDialog,callback:function(t){e.newsDialog=t},expression:"newsDialog"}},[t(i["a"],[t(xe["c"],[t(xe["d"],[e._v(e._s(e.newBulletin.newsTitle))]),t(xe["c"],{staticClass:"text-subtitle-2"},[e._v(e._s(e.newBulletin.newsStory))]),t(xe["c"],{staticClass:"text-caption"},[e._v("- "+e._s(e.newBulletin.newsAuthor)+" - "+e._s(e.formatDate(e.newBulletin.createdAt)))])],1)],1)],1)],1)},It=[];class Et{constructor(e,t,a){this.username=e,this.email=t,this.password=a}}var jt=a("0c04"),Pt={name:"Login",data(){return{user:new Et("",""),loading:!1,bulletins:[],newsDialog:!1,newBulletin:[]}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!(this.user.email&&this.user.password)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{something(e){this.newsDialog=!0;let t=this.bulletins.filter(t=>t.id===e);return this.newBulletin=t[0]},formatDate(e){return Ke()(e).format("DD/MM/YYYY LT")},handleLogin(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.user.email&&this.user.password&&this.$store.dispatch("auth/login",this.user).then(()=>{this.$router.push("/welcome")},e=>{this.loading=!1,this.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})}):this.loading=!1})},retrieveBulletins(){jt["a"].getAll().then(e=>{this.bulletins=e.data.slice(-2).reverse()}).catch(e=>{console.log(e)})},refreshList(){this.retrieveBulletins()},getDisplayBulletin(e){return{id:e.id,newsTitle:e.newsTitle.length>100?e.newsTitle.substr(0,100)+"...":e.newsTitle,newsStory:e.newsStory.length>200?e.newsStory.substr(0,200)+"...":e.newsStory,newsAuthor:e.newsAuthor.length>30?e.newsAuthor.substr(0,30)+"...":e.newsAuthor}}},mounted(){this.retrieveBulletins()}},Rt=Pt,Ot=(a("1ab5"),Object(y["a"])(Rt,Nt,It,!1,null,"2c806ecc",null)),Lt=Ot.exports,Ft=function(){var e=this,t=e._self._c;return t("div",{staticClass:"soonbox"},[t(i["a"],{staticClass:"text-center",attrs:{flat:""}},[t(ie["a"],{staticClass:"pa-0 ma-auto"},[t(xe["c"],{staticClass:"pa-0 ma-0"},[t(ie["a"],[t(ne["a"],{staticClass:"text-h1"},[e._v(" 404 ")])],1)],1)],1),t(ie["a"],[t(xe["c"],{staticClass:"pa-0 ma-0"},[t(ie["a"],[t(ne["a"],[e._v(" The Page you're looking for isn't here. ")])],1)],1)],1)],1)],1)},Bt=[],$t={name:"NotFound"},Mt=$t,Ut=(a("5e05"),Object(y["a"])(Mt,Ft,Bt,!1,null,null,null)),zt=Ut.exports,Ht={namespaced:!0,state:{casefiles:[],lastFetch:null,isLoading:!1,activeFilters:{},filteredCasefiles:[],cacheTimeout:3e5,currentUserId:null,paginated:{data:[],total:0,page:1,pageSize:30,filters:{},isLoading:!1}},getters:{getFilteredCasefiles:e=>(t,a,s,n)=>{if(!t||!a||!s||!n)return[];if(!e.casefiles.length)return[];if(!e.filteredCasefiles.length){let r=e.casefiles.map(e=>({...e,days:Ke()().diff(Ke()(e.dateOfAssign),"days"),tatStatus:null}));t.includes("MANAGER")||t.includes("ADMIN")||t.includes("CLERK")?e.filteredCasefiles=r:t.includes("BRANCHCLERK")||t.includes("BRANCHMANAGER")?(r=r.filter(e=>a.includes(e.refType)&&s.includes(e.branch)),e.filteredCasefiles=r):t.includes("ADJUSTER")&&(r=r.filter(e=>a.includes(e.refType)&&s.includes(e.branch)&&e.adjuster===n),e.filteredCasefiles=r)}return e.filteredCasefiles},needsRefresh:e=>!e.lastFetch||Date.now()-e.lastFetch>e.cacheTimeout,getAllCasefiles:e=>e.casefiles,getPaginatedCasefiles:e=>e.paginated.data,getPaginatedTotal:e=>e.paginated.total,getPaginatedPage:e=>e.paginated.page,getPaginatedPageSize:e=>e.paginated.pageSize,getPaginatedLoading:e=>e.paginated.isLoading},mutations:{SET_CASEFILES(e,t){e.casefiles=t,e.lastFetch=Date.now()},SET_LOADING(e,t){e.isLoading=t},UPDATE_CASEFILE(e,t){const a=e.casefiles.findIndex(e=>e.id===t.id);-1!==a&&e.casefiles.splice(a,1,t)},CLEAR_FILTERED_CACHE(e){e.filteredCasefiles=[]},CLEAR_STORE(e){e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[],e.currentUserId=null,e.isLoading=!1},SET_CURRENT_USER(e,t){e.currentUserId!==t&&(e.currentUserId=t,e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[])},UPDATE_TAT_STATUS(e,{id:t,status:a}){const s=e.filteredCasefiles.find(e=>e.id===t);s&&(s.tatStatus=a)},SET_PAGINATED_CASEFILES(e,{data:t,total:a,page:s,pageSize:n,filters:r}){e.paginated.data=t,e.paginated.total=a,e.paginated.page=s,e.paginated.pageSize=n,e.paginated.filters=r||{}},SET_PAGINATED_LOADING(e,t){e.paginated.isLoading=t}},actions:{async fetchCasefiles({commit:e,getters:t,state:a},s){if(a.currentUserId!==s&&e("SET_CURRENT_USER",s),t.needsRefresh||!(a.casefiles.length>0)){e("SET_LOADING",!0);try{const t=await Ge["a"].getAll();e("SET_CASEFILES",t.data)}catch(n){throw console.error("Error fetching casefiles:",n),n}finally{e("SET_LOADING",!1)}}},async updateCasefile({commit:e},t){try{const a=await Ge["a"].update(t.id,t);return e("UPDATE_CASEFILE",a.data),e("CLEAR_FILTERED_CACHE"),a.data}catch(a){throw console.error("Error updating casefile:",a),a}},async fetchPaginatedCasefiles({commit:e},{page:t=1,pageSize:a=30,filters:s={},noStoreUpdate:n=!1}={}){e("SET_PAGINATED_LOADING",!0);try{const r={page:t,pageSize:a,...s},i=await Ge["a"].getPaginated(r);return n||e("SET_PAGINATED_CASEFILES",{data:i.data.data,total:i.data.total,page:i.data.page,pageSize:i.data.pageSize,filters:s}),i}catch(r){throw console.error("Error fetching paginated casefiles:",r),r}finally{e("SET_PAGINATED_LOADING",!1)}},async fetchPaginatedActiveCasefiles({commit:e,rootState:t},{page:a=1,pageSize:s=30,filters:n={}}={}){e("SET_PAGINATED_LOADING",!0);try{const r=t.auth.user;r&&(n.roles=r.roles,n.dept=r.dept,n.branches=r.branches,n.userId=r.id);const i={page:a,pageSize:s,...n},l=await Ge["a"].getPaginatedActive(i);e("SET_PAGINATED_CASEFILES",{data:l.data.data,total:l.data.total,page:l.data.page,pageSize:l.data.pageSize,filters:n})}catch(r){throw console.error("Error fetching paginated active casefiles:",r),r}finally{e("SET_PAGINATED_LOADING",!1)}},async fetchPaginatedClosedCasefiles({commit:e,rootState:t},{page:a=1,pageSize:s=30,filters:n={}}={}){e("SET_PAGINATED_LOADING",!0);try{const r=t.auth.user;r&&(n.roles=r.roles,n.dept=r.dept,n.branches=r.branches,n.userId=r.id);const i={page:a,pageSize:s,...n},l=await Ge["a"].getPaginatedClosed(i);e("SET_PAGINATED_CASEFILES",{data:l.data.data,total:l.data.total,page:l.data.page,pageSize:l.data.pageSize,filters:n})}catch(r){throw console.error("Error fetching paginated closed casefiles:",r),r}finally{e("SET_PAGINATED_LOADING",!1)}},clearStore({commit:e}){e("CLEAR_STORE")}}};a("13d5"),a("7d54"),a("9485");const Yt={namespaced:!0,state:{isLoading:!1,statistics:{totalActiveCases:0,overdueCount:0,completedThisMonth:0,newCasesToday:0,pendingInvestigation:0,pendingEditing:0},topAdjusters:[],topBranches:[],topInsurers:[],topEditors:[],deptPerformance:[],caseCategories:[],monthlyTrends:{values:[0,0,0,0,0,0],labels:[],trend:0},upcomingDeadlines:[],systemNotifications:[],recentDocuments:[],pendingActions:[]},mutations:{SET_LOADING(e,t){e.isLoading=t},SET_STATISTICS(e,t){e.statistics={...e.statistics,...t}},SET_TOP_ADJUSTERS(e,t){e.topAdjusters=t},SET_TOP_BRANCHES(e,t){e.topBranches=t},SET_TOP_INSURERS(e,t){e.topInsurers=t},SET_TOP_EDITORS(e,t){e.topEditors=t},SET_DEPT_PERFORMANCE(e,t){e.deptPerformance=t},SET_CASE_CATEGORIES(e,t){e.caseCategories=t},SET_MONTHLY_TRENDS(e,t){e.monthlyTrends=t},SET_UPCOMING_DEADLINES(e,t){e.upcomingDeadlines=t},SET_SYSTEM_NOTIFICATIONS(e,t){e.systemNotifications=t},SET_RECENT_DOCUMENTS(e,t){e.recentDocuments=t},SET_PENDING_ACTIONS(e,t){e.pendingActions=t}},actions:{async fetchStatistics({commit:e},t){e("SET_LOADING",!0);try{if(!t){const e=await Ge["a"].getAll(),a=e.data,s=Ke()().startOf("day"),n=Ke()().startOf("month");t={totalActiveCases:a.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).length,overdueCount:a.filter(e=>{const t=Ke()().diff(Ke()(e.dateOfAssign),"days");return t>30&&"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus}).length,completedThisMonth:a.filter(e=>"CLO"===e.fileStatus&&Ke()(e.dateOfAssign).isAfter(n)).length,newCasesToday:a.filter(e=>Ke()(e.dateOfAssign).isSame(s,"day")).length,pendingInvestigation:a.filter(e=>"INVE"===e.fileStatus).length,pendingEditing:a.filter(e=>"PEDI"===e.fileStatus).length}}e("SET_STATISTICS",t)}finally{e("SET_LOADING",!1)}},async fetchTopAdjusters({commit:e},t){if(!t){const e=await Ge["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.adjuster]||(e[t.adjuster]={id:t.adjuster,name:t.adjusterName||"Unknown Adjuster",active:0,total:0,performance:0}),e[t.adjuster].total++,"CLO"!==t.fileStatus&&"CANC"!==t.fileStatus&&e[t.adjuster].active++,e[t.adjuster].performance=Math.round(e[t.adjuster].active/e[t.adjuster].total*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_ADJUSTERS",t)},async fetchTopBranches({commit:e},t){if(!t){const e=await Ge["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.branch]||(e[t.branch]={id:t.branch,name:t.branchName||"Unknown Branch",caseCount:0,performance:0,completed:0}),e[t.branch].caseCount++,"CLO"===t.fileStatus&&e[t.branch].completed++,e[t.branch].performance=Math.round(e[t.branch].completed/e[t.branch].caseCount*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_BRANCHES",t)},async fetchTopInsurers({commit:e},t){e("SET_TOP_INSURERS",t)},async fetchTopEditors({commit:e},t){e("SET_TOP_EDITORS",t)},async fetchDeptPerformance({commit:e},t){e("SET_DEPT_PERFORMANCE",t)},async fetchCaseCategories({commit:e},t){e("SET_CASE_CATEGORIES",t)},async fetchMonthlyTrends({commit:e},t){if(!t){const e=await Ge["a"].getAll().then(e=>e.data),a=Array.from({length:6},(e,t)=>{const a=Ke()().subtract(t,"months");return{month:a,label:a.format("MMM"),value:0}}).reverse();e.forEach(e=>{const t=Ke()(e.dateOfAssign),s=a.findIndex(e=>e.month.isSame(t,"month"));-1!==s&&a[s].value++});const s=a.map(e=>e.value),n=s.length>=2?(s[s.length-1]-s[s.length-2])/s[s.length-2]*100:0;t={values:s,labels:a.map(e=>e.label),trend:Math.round(n)}}e("SET_MONTHLY_TRENDS",t)},async fetchSystemNotifications({commit:e},t){t||(t=[{id:1,type:"info",message:"Welcome to your dashboard"}]),e("SET_SYSTEM_NOTIFICATIONS",t)},async fetchUpcomingDeadlines({commit:e},t){if(!t){const e=await Ge["a"].getAll().then(e=>e.data);t=e.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).map(e=>({id:e.id,caseNumber:e.caseNumber,daysLeft:Ke()(e.dateOfAssign).add(30,"days").diff(Ke()(),"days")})).filter(e=>e.daysLeft>0&&e.daysLeft<=14).sort((e,t)=>e.daysLeft-t.daysLeft).slice(0,5)}e("SET_UPCOMING_DEADLINES",t)},async fetchRecentDocuments({commit:e},t){t||(t=[]),e("SET_RECENT_DOCUMENTS",t)},async fetchPendingActions({commit:e},t){t||(t=[]),e("SET_PENDING_ACTIONS",t)}},getters:{statisticsCards:e=>[{label:"Active Cases",value:e.statistics.totalActiveCases,color:"primary"},{label:"Overdue Cases",value:e.statistics.overdueCount,color:"warning"},{label:"Completed This Month",value:e.statistics.completedThisMonth,color:"success"},{label:"New Cases Today",value:e.statistics.newCasesToday,color:"info"},{label:"Under Investigation",value:e.statistics.pendingInvestigation,color:"deep-orange"},{label:"Pending Editing",value:e.statistics.pendingEditing,color:"purple"}]}};var Gt=Yt,qt=a("7424");class Vt{getLocalRefreshToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.refreshToken}getLocalAccessToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.accessToken}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return JSON.parse(localStorage.getItem("user"))}setUser(e){localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var Jt=new Vt;class Kt{login({email:e,password:t}){return qt["a"].post("/auth/signin",{email:e,password:t}).then(e=>(e.data.accessToken&&Jt.setUser(e.data),e.data))}logout(){Jt.removeUser()}register({username:e,email:t,password:a}){return qt["a"].post("/auth/signup",{username:e,email:t,password:a})}}var Wt=new Kt;const Xt=JSON.parse(localStorage.getItem("user")),Qt=Xt?{status:{loggedIn:!0},user:Xt}:{status:{loggedIn:!1},user:null},Zt={namespaced:!0,state:Qt,actions:{login({commit:e,dispatch:t},a){return Wt.login(a).then(a=>(e("loginSuccess",a),t("casefiles/clearStore",null,{root:!0}),t("casefiles/fetchCasefiles",a.id,{root:!0}),Promise.resolve(a)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e,dispatch:t}){t("casefiles/clearStore",null,{root:!0}),Wt.logout(),e("logout")},register({commit:e},t){return Wt.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}},ea={namespaced:!0,state:{casefile:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",adjuster:"",roles:"",fileStatus:""}},mutations:{GET_CASEFILES_SUCCESS:function(e,t){e.casefile=t.casefile}},actions:{getCasefiles:async function({commit:e}){e("GET_CASEFILES_SUCCESS",{casefile:t.data});let t=await Ge["a"].get(this.$route.params.id)}}};var ta=a("0e44");s["a"].use(h["a"]);var aa=new h["a"].Store({state:{snackbars:[],snackbarQueue:[],maxVisibleSnackbars:3,caseState:ea.state},mutations:{SET_SNACKBAR(e,t){const a={...t,id:Date.now(),showing:!0};e.snackbars.filter(e=>e.showing).length>=e.maxVisibleSnackbars?e.snackbarQueue.push(a):e.snackbars.push(a)},REMOVE_SNACKBAR(e,t){const a=e.snackbars.findIndex(e=>e.id===t);-1!==a&&(e.snackbars.splice(a,1),e.snackbarQueue.length>0&&e.snackbars.push(e.snackbarQueue.shift()))},CLEANUP_OLD_SNACKBARS(e){e.snackbars=e.snackbars.filter(e=>e.showing)}},actions:{setSnackbar({commit:e},t){e("SET_SNACKBAR",t)}},modules:{auth:Zt,fileModule:ea,casefiles:Ht,dashboard:Gt},getters:{getCaseState:function(e){return e.caseState},getPaginatedCasefiles:e=>e.casefiles.paginated.data,getPaginatedTotal:e=>e.casefiles.paginated.total,getPaginatedPage:e=>e.casefiles.paginated.page,getPaginatedPageSize:e=>e.casefiles.paginated.pageSize,getPaginatedLoading:e=>e.casefiles.paginated.isLoading,getPaginatedActiveCasefiles:e=>e.casefiles.paginated.data,getPaginatedClosedCasefiles:e=>e.casefiles.paginated.data},plugins:[Object(ta["a"])({paths:["dashboard"],storage:window.localStorage})]});function sa(e,t,a){const s=aa.state.auth.user;s?"vuexFile"!==e.name?("home"===e.name&&"vuexFile"===t.name&&aa.getters["casefiles/needsRefresh"]&&aa.dispatch("casefiles/fetchCasefiles",s.id),a()):aa.dispatch("casefiles/fetchCasefiles",s.id).then(()=>a()).catch(()=>a(!1)):a("/login")}var na=a("490a"),ra=function(){var e=this,t=e._self._c;return t(q["a"],{attrs:{fluid:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"mb-4"},[t(xe["d"],{staticClass:"py-3 primary white--text"},[t(o["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-magnify")]),e._v(" Advanced Search Results "),t(P["a"]),t(r["a"],{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"white"},on:{click:function(t){return e.$router.push("/dashboard")}}},[t(o["a"],{attrs:{left:"",small:""}},[e._v("mdi-view-dashboard")]),e._v(" Dashboard ")],1)],1),t(xe["c"],{staticClass:"py-2"},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12",md:"8"}},[t("div",{staticClass:"d-flex flex-wrap align-center"},[t("strong",{staticClass:"mr-2"},[e._v("Filters:")]),e.$route.query.keyword?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Keyword: "+e._s(e.$route.query.keyword)+" ")]):e._e(),e.$route.query.dept?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Department: "+e._s(e.getDepartmentName(e.$route.query.dept))+" ")]):e._e(),e.$route.query.branch?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Branch: "+e._s(e.getBranchName(e.$route.query.branch))+" ")]):e._e(),e.$route.query.status?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Status: "+e._s(e.getStatusName(e.$route.query.status))+" ")]):e._e(),e.$route.query.insurer?t(G["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Insurer: "+e._s(e.getInsurerName(e.$route.query.insurer))+" ")]):e._e(),e.hasAnyFilters?e._e():t("span",{staticClass:"grey--text"},[e._v("No filters applied")])],1)]),t(ne["a"],{staticClass:"text-right",attrs:{cols:"12",md:"4"}},[t("span",{staticClass:"text-subtitle-1"},[e._v(" "+e._s(e.filteredCases.length)+" Results Found ")])])],1)],1)],1)],1)],1),e.loading?t(ie["a"],[t(ne["a"],{staticClass:"text-center",attrs:{cols:"12"}},[t(na["a"],{attrs:{indeterminate:"",color:"primary",size:"64"}}),t("div",{staticClass:"mt-3"},[e._v("Loading cases...")])],1)],1):e.loading||0!==e.filteredCases.length?[t(i["a"],[t(xe["d"],[t(oe["a"],{staticClass:"mx-4",attrs:{"append-icon":"mdi-magnify",label:"Filter results","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:e.tableSearch,callback:function(t){e.tableSearch=t},expression:"tableSearch"}})],1),t(re["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.filteredCases,search:e.tableSearch,"items-per-page":10,"footer-props":{"items-per-page-options":[10,20,50,-1]}},on:{"click:row":t=>e.navigateToCase(t.id)},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("span",{key:n},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t(O["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",n,!1),s),[e._v(" "+e._s(a.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(a.name))])])],1)}))}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(O["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",{key:a.id},[t(G["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)})],1)]:t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"text-center pa-5"},[t(o["a"],{attrs:{size:"64",color:"grey lighten-1"}},[e._v("mdi-file-search-outline")]),t("h3",{staticClass:"mt-4 mb-2"},[e._v("No Cases Found")]),t("p",{staticClass:"grey--text"},[e._v("Try adjusting your search filters")]),t(r["a"],{staticClass:"mt-3",attrs:{color:"primary"},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v(" Return to Dashboard ")])],1)],1)],1)],2)},ia=[],la={name:"AdvancedSearch",data(){return{loading:!0,allCases:[],filteredCases:[],refType:[],branch:[],stages:[],insurers:[],subRefTypes:[],members:[],tableSearch:"",headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}},computed:{...Object(h["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(h["b"])("casefiles",["getFilteredCasefiles"]),userFilteredCasefiles(){const e=this.$store.state.auth.user;return e?this.$store.getters["casefiles/getFilteredCasefiles"](e.roles,e.dept,e.branches,e.id):[]},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN"))return[{id:"all",name:"All Departments"},...this.refType];const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.refType.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branch||0===this.branch.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN")||e.roles.includes("MANAGER"))return[{id:"all",name:"All Branches"},...this.branch];const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branch.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Branches"},...a]},hasAnyFilters(){return!!this.$route.query.keyword||!!this.$route.query.dept||!!this.$route.query.branch||!!this.$route.query.status||!!this.$route.query.insurer},searchQuery(){return{keyword:this.$route.query.keyword||"",dept:this.$route.query.dept||null,branch:this.$route.query.branch||null,status:this.$route.query.status||null,insurer:this.$route.query.insurer||null}}},watch:{"$route.query":{handler(){this.applyFilters()},deep:!0}},methods:{async fetchData(){this.loading=!0;try{await this.$store.dispatch("casefiles/fetchCasefiles");const[e,t,a,s,n,r]=await Promise.all([$["a"].getAll(),B["a"].getAll(),qe["a"].getAll(),ue["a"].getAll(),fe["a"].getAll(),me["a"].getAll()]);this.refType=e.data,this.branch=t.data,this.stages=a.data,this.insurers=s.data,this.subRefTypes=n.data,this.members=r.data,this.applyFilters()}catch(e){console.error("Error fetching data:",e),this.$store.dispatch("alerts/setAlert",{text:"Error loading search results",type:"error"}),this.filteredCases=[]}finally{this.loading=!1}},applyFilters(){const e=this.userFilteredCasefiles;if(!e||0===e.length)return void(this.filteredCases=[]);const{keyword:t,dept:a,branch:s,status:n,insurer:r}=this.searchQuery;this.filteredCases=e.filter(e=>{if(a&&"all"!==a){const t=String(e.refType),s=String(a);if(t!==s)return!1}if(s&&"all"!==s){const t=String(e.branch),a=String(s);if(t!==a)return!1}if(n&&"all"!==n&&e.fileStatus!==n)return!1;if(r){const t=String(e.insurer),a=String(r);if(t!==a)return!1}if(t){const a=t.toLowerCase(),s=[e.vehicleNo,e.claimNo,e.personInvolved,e.insComment,String(e.id)].filter(e=>null!=e);return s.some(e=>String(e).toLowerCase().includes(a))}return!0})},moment(e){return Ke()(e)},yearOnly(e){return Ke()(e).format("YY")},dateDiff(e,t){let a=Ke()(e),s=Ke()(t),n=Ke.a.duration(s.diff(a));return Math.floor(n.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){var t;return(null===(t=this.subRefTypes)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterBranches(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurers.filter(t=>t.id===e)},filterUser(e){var t;return(null===(t=this.members)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},getDepartmentName(e){if(!e||"all"===e)return"All Departments";const t=this.refType.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Dept "+e},getBranchName(e){if(!e||"all"===e)return"All Branches";const t=this.branch.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Branch "+e},getStatusName(e){if(!e||"all"===e)return"All Statuses";const t=this.stages.find(t=>t.stageCode===e);return t?t.name:e},getStatusColor(e){const t={NEW:"green",PEND:"amber",INVE:"blue",PEDI:"purple",EDAC:"indigo",EDI:"pink",PAPP:"cyan",HOLD:"orange",FOIN:"teal",DISP:"light-blue",CLO:"grey",CANC:"red"};return t[e]||"grey"},formatDate(e){return Ke()(e).format("DD/MM/YYYY")},navigateToCase(e){this.$router.push({name:"vuexFile",params:{id:e}})},getFormattedCaseNumber(e){if(!e)return"N/A";const t=this.refType.find(t=>t.id===e.refType),a=this.branch.find(t=>t.id===e.branch);let s="AA-"+e.id;return t&&(s=`AA/${t.name}/${e.id}`),a&&a.brCode&&(s+="/"+a.brCode),s},getInsurerName(e){if(!e)return"N/A";const t=this.insurers.find(t=>t.id===e);return t?t.name:"Insurer "+e}},mounted(){this.fetchData()}},oa=la,ca=(a("e6eb"),Object(y["a"])(oa,ra,ia,!1,null,"7ffa3030",null)),da=ca.exports,ua=a("18c8"),ma=a("271a7");s["a"].use(ae["a"]);const fa=new ae["a"]({mode:"history",routes:[{path:"/",meta:{title:"Welcome"},component:se["default"],title:se["default"]},{path:"/home",name:"home",component:()=>Promise.resolve().then(a.bind(null,"bb51")),meta:{title:"Home",keepAlive:!0,cacheTimeout:3e5},beforeEnter:sa},{path:"/archive",meta:{title:"Archive"},component:be,title:be},{path:"/listing",meta:{title:"Listing"},component:$e,title:$e},{path:"/find",name:"find",meta:{title:"Quick Find"},component:Ze},{path:"/login",name:"login",component:Lt},{path:"/forgot",name:"forgot",component:it},{path:"/reset",name:"reset",component:_t},{path:"/activate",name:"activate",component:At},{path:"/profile",meta:{title:"Profile"},name:"profile",component:()=>a.e("chunk-22795dc5").then(a.bind(null,"c66d"))},{path:"/admin",meta:{title:"Admin"},name:"admin",component:()=>a.e("chunk-5d674c98").then(a.bind(null,"b295"))},{path:"/manager",meta:{title:"Manager"},name:"manager",component:()=>a.e("chunk-0a994422").then(a.bind(null,"1692"))},{path:"/user",meta:{title:"User"},name:"user",component:()=>a.e("chunk-13a66c1c").then(a.bind(null,"9a40"))},{path:"/members",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Members"},name:"members",component:()=>a.e("chunk-22ffe50d").then(a.bind(null,"0d2f"))},{path:"/branches",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Branches"},name:"branches",component:()=>a.e("chunk-2d0c9388").then(a.bind(null,"57e5"))},{path:"/states",meta:{requiresAuth:!0,roles:["ADMIN"],title:"States"},name:"states",component:()=>a.e("chunk-2d0dd47c").then(a.bind(null,"815b"))},{path:"/districts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Districts"},name:"districts",component:()=>a.e("chunk-2d216d19").then(a.bind(null,"c3a4"))},{path:"/tatcharts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"TAT Charts"},name:"tatcharts",component:()=>a.e("chunk-2d0d7c06").then(a.bind(null,"77c3"))},{path:"/handlers",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Claim Handler"},name:"handler",component:()=>a.e("chunk-2d21af88").then(a.bind(null,"be7f"))},{path:"/bulletins",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Bulletin"},name:"bulletins",component:()=>a.e("chunk-2d0e8bc0").then(a.bind(null,"8b11"))},{path:"/depts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Departments"},name:"depts",component:()=>a.e("chunk-2d21f29b").then(a.bind(null,"d93c"))},{path:"/subDepts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"File Classification"},name:"subDepartments",component:()=>a.e("chunk-2d0df849").then(a.bind(null,"89f8"))},{path:"/inss",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Insurer"},name:"inss",component:()=>a.e("chunk-2d0a2df0").then(a.bind(null,"0082"))},{path:"/claims",meta:{title:"Claims"},name:"claimsList",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-168b0bef")]).then(a.bind(null,"6741"))},{path:"/dropboxfiles",meta:{title:"Dropbox Files"},name:"dropboxfiles",component:()=>a.e("chunk-3a91582e").then(a.bind(null,"835e"))},{path:"/reports",meta:{title:"Basic Reports"},name:"reports",component:()=>a.e("chunk-2d2143d1").then(a.bind(null,"afa7"))},{path:"/reportsTwo",meta:{title:"Detail Reports"},name:"reportsTwo",component:()=>Promise.resolve().then(a.bind(null,"271a7"))},{path:"/reportsV1",meta:{title:"Basic Reports V1"},name:"reportsV1",component:()=>Promise.resolve().then(a.bind(null,"18c8"))},{path:"/byref/:id",meta:{title:"Detail By Department"},name:"refTabDetail",component:()=>a.e("chunk-2d0b6339").then(a.bind(null,"1bc5"))},{path:"/bybranch/:id",meta:{title:"Detail by Branch"},name:"brTabDetail",component:()=>a.e("chunk-2d0e521d").then(a.bind(null,"92d2"))},{path:"/detailByRef/:fileStatus/:refType",meta:{title:"Detail By Reference"},name:"detail-by-ref",component:()=>a.e("chunk-2d216263").then(a.bind(null,"c0dd"))},{path:"/detailByBranch/:fileStatus/:branch",meta:{title:"Detail By Branch"},name:"detail-by-branch",component:()=>a.e("chunk-2d0db490").then(a.bind(null,"6ee0"))},{path:"/file/:id",meta:{title:"Casefile Details"},name:"vuexFile",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-16b929f7")]).then(a.bind(null,"b762"))},{path:"/dopFile/:id",meta:{title:"Dropbox File Details"},name:"dropboxDetail",component:()=>a.e("chunk-fa07f1a0").then(a.bind(null,"61ac"))},{path:"/findfile/:id",meta:{title:"Casefile Details"},name:"findfile",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-9b1bc7a0")]).then(a.bind(null,"77b8"))},{path:"/soon",meta:{title:"Soon"},name:"soon",component:()=>a.e("chunk-194d3724").then(a.bind(null,"8a88"))},{path:"/merimen-data",name:"merimen-data",meta:{requiresAuth:!0,roles:["ADMIN","MANAGER","BRANCHMANAGER","CLERK","BRANCHCLERK"],title:"Merimen Data"},component:()=>a.e("chunk-5df8963d").then(a.bind(null,"fda7"))},{path:"/dashboard",name:"dashboard",component:()=>a.e("chunk-7aa254cb").then(a.bind(null,"7277")),meta:{requiresAuth:!0,title:"dashboard",keepAlive:!0}},{path:"/welcome",name:"welcome",component:()=>a.e("chunk-60d6f837").then(a.bind(null,"eec5")),meta:{title:"welcome"}},{path:"/advanced-search",name:"advancedSearch",component:da,meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/report",name:"report",component:()=>a.e("chunk-78538b25").then(a.bind(null,"762c")),meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/mytasks",name:"mytasks",component:()=>a.e("chunk-096742b6").then(a.bind(null,"dbea")),meta:{requiresAuth:!0,title:"My Tasks"}},{path:"/reports-v1",name:"ReportsV1",component:ua["default"]},{path:"/reports-two",name:"ReportsTwo",component:ma["default"]},{path:"/compliance",component:()=>a.e("chunk-2d0d72e3").then(a.bind(null,"765c")),meta:{requiresAuth:!0,roles:["ADMIN","MANAGER","CLERK"],title:"Compliance"},children:[{path:"",redirect:"closed-files"},{path:"closed-files",name:"compliance-closed-files",meta:{title:"Closed Files by Department"},component:()=>a.e("chunk-2d0ac1df").then(a.bind(null,"17be"))},{path:"compliance-ratio-insurer",name:"compliance-ratio-insurer",meta:{title:"Compliance Ratio (By Insurer)"},component:()=>a.e("chunk-2d22ccd1").then(a.bind(null,"f57c"))},{path:"compliance-ratio-branch",name:"compliance-ratio-branch",meta:{title:"Compliance Ratio (By Branch)"},component:()=>a.e("chunk-2d0d5c1f").then(a.bind(null,"703c"))},{path:"outstanding-insurer",name:"compliance-outstanding-insurer",meta:{title:"Outstanding Assignment (By Insurer)"},component:()=>a.e("chunk-2d0ae631").then(a.bind(null,"0a9c"))},{path:"outstanding-branch",name:"compliance-outstanding-branch",meta:{title:"Outstanding Assignment (By Branch)"},component:()=>a.e("chunk-2d0b30b8").then(a.bind(null,"2763"))},{path:"outstanding-days-insurer",name:"compliance-outstanding-days-insurer",meta:{title:"Outstanding Assignment by Days (Insurer)"},component:()=>a.e("chunk-2d0b2557").then(a.bind(null,"2454"))},{path:"outstanding-days-branch",name:"compliance-outstanding-days-branch",meta:{title:"Outstanding Assignment by Days (Branch)"},component:()=>a.e("chunk-2d0c13b6").then(a.bind(null,"44bb"))},{path:"ratio-calculator-insurer",name:"compliance-ratio-calculator-insurer",meta:{title:"Ratio Calculator by Closed Files (Insurer)"},component:()=>a.e("chunk-2d225c40").then(a.bind(null,"e692"))},{path:"compliance-table",name:"compliance-table",meta:{title:"Compliance Table"},component:()=>a.e("chunk-2d0c4fb7").then(a.bind(null,"3cc4"))},{path:"outstanding-master",name:"compliance-outstanding-master",meta:{title:"Outstanding Master List"},component:()=>a.e("chunk-2d0deb10").then(a.bind(null,"8772"))},{path:"closed-by-adjuster-date",name:"compliance-closed-by-adjuster-date",meta:{title:"Closed by Adjuster (By Date)"},component:()=>a.e("chunk-2d0a3738").then(a.bind(null,"01de"))},{path:"closed-by-adjuster-month",name:"compliance-closed-by-adjuster-month",meta:{title:"Closed by Adjuster (By Month)"},component:()=>a.e("chunk-2d218069").then(a.bind(null,"c8db"))},{path:"closed-by-clerk-date",name:"compliance-closed-by-clerk-date",meta:{title:"Closed by Clerk (By Date)"},component:()=>a.e("chunk-2d0d4397").then(a.bind(null,"5fb2"))},{path:"closed-by-clerk-month",name:"compliance-closed-by-clerk-month",meta:{title:"Closed by Clerk (By Month)"},component:()=>a.e("chunk-2d22bd12").then(a.bind(null,"f11b"))}]},{path:"/notfound",name:"NotFound",component:zt},{path:"/:catchAll(.*)",component:zt}]});fa.beforeEach((e,t,a)=>{const s=["/login","/forgot","/reset","/activate"],n=!s.includes(e.path),r=localStorage.getItem("user");if(n&&!r)return void a("/login");const i=e.matched.find(e=>e.meta&&e.meta.roles);if(i&&r){const e=JSON.parse(localStorage.getItem("user")),t=e&&e.roles&&i.meta.roles.some(t=>e.roles.includes(t));if(!t)return void a("/notfound")}a()});var ha=a("7bb1"),pa=a("ecee"),ga=a("ad3d"),ba=a("c074");const va=e=>{qt["a"].interceptors.request.use(e=>{const t=Jt.getLocalAccessToken();return t&&(e.headers["x-access-token"]=t),e},e=>Promise.reject(e)),qt["a"].interceptors.response.use(e=>e,async t=>{const a=t.config;if("/auth/signin"!==a.url&&t.response&&401===t.response.status&&!a._retry){a._retry=!0;try{const t=await qt["a"].post("/auth/refreshtoken",{refreshToken:Jt.getLocalRefreshToken()}),{accessToken:s}=t.data;return e.dispatch("auth/refreshToken",s),Jt.updateLocalAccessToken(s),Object(qt["a"])(a)}catch(s){return Promise.reject(s)}}return Promise.reject(t)})};var ya=va,_a=(a("5363"),a("f309"));s["a"].use(_a["a"]);var Ca=new _a["a"]({icons:{iconfont:"mdi"}}),xa=a("3dc6");s["a"].use(xa["a"]),pa["c"].add(ba["a"],ba["d"],ba["e"],ba["b"],ba["c"]),s["a"].config.productionTip=!1,s["a"].use(ha["a"]),s["a"].component("font-awesome-icon",ga["a"]),s["a"].use(h["a"]),ya(aa),s["a"].config.productionTip=!1,new s["a"]({router:fa,store:aa,vuetify:Ca,render:e=>e(te)}).$mount("#app")},"5de6":function(e,t,a){},"5e05":function(e,t,a){"use strict";a("0046")},"62e7":function(e,t,a){},6736:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const s={development:{baseURL:"http://localhost:8080/api",docsURL:"http://localhost:8080/docs"},production:{baseURL:"/api",docsURL:"/docs"}},n="production",r=s[n]},"699f":function(e,t,a){},7424:function(e,t,a){"use strict";var s=a("bc3a"),n=a.n(s),r=a("6736");const i=n.a.create({baseURL:r["a"].baseURL,headers:{"Content-Type":"application/json"}});t["a"]=i},"7c98":function(e,t,a){},8281:function(e,t,a){},"847e":function(e,t,a){},8643:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/handlers")}get(e){return s["a"].get("/handlers/"+e)}create(e){return s["a"].post("/handlers",e)}update(e,t){return s["a"].put("/handlers/"+e,t)}delete(e){return s["a"].delete("/handlers/"+e)}deleteAll(){return s["a"].delete("/handlers")}}t["a"]=new n},9462:function(e,t,a){e.exports=a.p+"img/v-nav-bg.028e0d2f.jpg"},"98a8":function(e,t,a){"use strict";a("ae8f")},"9df5":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/members")}get(e){return s["a"].get("/members/"+e)}create(e){return s["a"].post("/members",e)}activationlink(e){return s["a"].post("/members/activation",e)}resetlink(e){return s["a"].post("/members/reset/sendlink",e)}verifyUser(e){return s["a"].post("/members/reset/verifyuser",e)}update(e,t){return s["a"].put("/members/"+e,t)}changepass(e,t){return s["a"].put("/members/changepass/"+e,t)}updatePhoto(e,t){return s["a"].put("/members/updatePhoto/"+e,t)}updateProfile(e,t){return s["a"].put("/members/updateProfile/"+e,t)}delete(e){return s["a"].delete("/members/"+e)}deleteAll(){return s["a"].delete("/members")}findByUsername(e){return s["a"].get("/members?username="+e)}getAllRoles(){return s["a"].get("/members/userLevel/all")}}t["a"]=new n},ac58:function(e,t,a){"use strict";a("699f")},ae8f:function(e,t,a){},bb51:function(e,t,a){"use strict";a.r(t);var s=a("0798"),n=a("c6a6"),r=a("8336"),i=a("b0af"),l=a("99d9"),o=a("cc20"),c=a("62ad"),d=a("a523"),u=a("8fea"),m=a("2e4b"),f=a("169a"),h=a("132d"),p=a("e449"),g=a("490a"),b=a("0fd9"),v=a("b974"),y=a("2db4"),_=a("2fa4"),C=a("8654"),x=a("a844"),k=a("3a2f"),S=function(){var e=this,t=e._self._c;return t(d["a"],{attrs:{fluid:""}},[t(y["a"],{staticClass:"notification-snackbar",style:{left:"50%",transform:"translateX(-50%)"},attrs:{timeout:e.processSnackbar.timeout,color:e.processSnackbar.color,top:""},model:{value:e.processSnackbar.show,callback:function(t){e.$set(e.processSnackbar,"show",t)},expression:"processSnackbar.show"}},[t(s["a"],{staticClass:"mb-0",attrs:{value:!0,color:e.processSnackbar.color,icon:e.getSnackbarIcon,dense:"",outlined:"",text:""}},[t("div",{staticClass:"d-flex align-center"},[e.processSnackbar.loading?t(g["a"],{staticClass:"mr-3",attrs:{indeterminate:"",size:"20",width:"2",color:e.processSnackbar.color}}):e._e(),t("span",{class:e.processSnackbar.color+"--text"},[e._v(e._s(e.processSnackbar.text))]),t(_["a"]),e.processSnackbar.loading?e._e():t(r["a"],{attrs:{icon:"","x-small":"",color:e.processSnackbar.color},on:{click:function(t){e.processSnackbar.show=!1}}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-close")])],1)],1)])],1),t(b["a"],{staticClass:"align-center mb-2"},[t(c["a"],{staticClass:"d-flex justify-center align-center add-case-bar-mobile",attrs:{cols:"12",md:"3"}},[t("div",{staticClass:"add-case-btn-group"},[e.addCasefileDisabled?[t(r["a"],{staticClass:"archive-btn archive-btn-full",attrs:{color:"success",dark:"",to:"/archive"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-archive")]),e._v(" Archive ")],1)]:[t(r["a"],{staticClass:"add-case-btn",attrs:{color:"primary",dark:"",disabled:e.addCasefileDisabled},on:{click:function(t){e.addDialog=!0}}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Case ")],1),t(r["a"],{staticClass:"archive-btn",attrs:{color:"success",dark:"",to:"/archive"}},[t(h["a"],{attrs:{left:""}},[e._v("mdi-archive")]),e._v(" Archive ")],1)]],2)]),t(c["a"],{attrs:{cols:"12",md:"9"}},[t("advanced-search",{attrs:{departments:e.departmentsForFilter,branches:e.branchesForFilter,insurers:e.insurersForFilter,stages:e.stagesForFilter,"search-loading":e.searchLoading,"advanced-search":e.advancedSearch,"is-valid":e.isAdvancedSearchValid},on:{search:e.performAdvancedSearch,reset:e.resetAdvancedSearch,update:e.updateAdvancedSearch}})],1)],1),t(f["a"],{attrs:{"max-width":"600px",persistent:""},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[t(i["a"],{attrs:{tile:""}},[t(l["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",{staticClass:"text-h5"},[e._v("ADD NEW CASE")])]),t(l["c"],[t(d["a"],[t(b["a"],[t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Department")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedRefType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0}]),model:{value:e.newItem.refType,callback:function(t){e.$set(e.newItem,"refType",t)},expression:"newItem.refType"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filtersubRefType(e.newItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.newItem.subRefType,callback:function(t){e.$set(e.newItem,"subRefType",t)},expression:"newItem.subRefType"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedBranches,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch","persistent-hint":"",label:"Branch"},model:{value:e.newItem.branch,callback:function(t){e.$set(e.newItem,"branch",t)},expression:"newItem.branch"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(n["a"],{attrs:{items:e.sortedInsurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0}]),model:{value:e.newItem.insurer,callback:function(t){e.$set(e.newItem,"insurer",t)},expression:"newItem.insurer"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterHandler(e.newItem.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:e.newItem.handler,callback:function(t){e.$set(e.newItem,"handler",t)},expression:"newItem.handler"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(C["a"],{attrs:{"item-text":"Insurer's Reference",label:"Insurers Reference Number",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.newItem.claimNo,callback:function(t){e.$set(e.newItem,"claimNo",t)},expression:"newItem.claimNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(p["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(C["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfAssignAdd,callback:function(t){e.ComputedDateOfAssignAdd=t},expression:"ComputedDateOfAssignAdd"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(m["a"],{on:{change:function(t){e.menu=!1}},model:{value:e.newItem.dateOfAssign,callback:function(t){e.$set(e.newItem,"dateOfAssign",t)},expression:"newItem.dateOfAssign"}})],1)],1)]],2),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(C["a"],{attrs:{label:"Vehicle Number",hint:"Vehicle Number"},model:{value:e.newItem.vehicleNo,callback:function(t){e.$set(e.newItem,"vehicleNo",t)},expression:"newItem.vehicleNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(p["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(C["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfLossAdd,callback:function(t){e.ComputedDateOfLossAdd=t},expression:"ComputedDateOfLossAdd"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(m["a"],{on:{change:function(t){e.menu1=!1}},model:{value:e.newItem.dateOfLoss,callback:function(t){e.$set(e.newItem,"dateOfLoss",t)},expression:"newItem.dateOfLoss"}})],1)],1)]],2),t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Place Of Loss")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedState,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.newItem.stateOfLoss,callback:function(t){e.$set(e.newItem,"stateOfLoss",t)},expression:"newItem.stateOfLoss"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterRegions(e.newItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state above","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.newItem.placeOfLoss,callback:function(t){e.$set(e.newItem,"placeOfLoss",t)},expression:"newItem.placeOfLoss"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(C["a"],{attrs:{label:"Insured Name"},model:{value:e.newItem.insuredName,callback:function(t){e.$set(e.newItem,"insuredName",t)},expression:"newItem.insuredName"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(x["a"],{attrs:{label:"Insurers Comment",rules:[e=>!!e||"Insurers comment is required",e=>e.length<=2e3||"Comment must be 2000 characters or less"],counter:"",maxlength:"2000","auto-grow":"",rows:"4","row-height":"20",filled:"","background-color":"grey lighten-4",hint:(e.newItem.insComment?e.newItem.insComment.length:0)+"/2000 characters","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v(" Insurers Comment ")]},proxy:!0}]),model:{value:e.newItem.insComment,callback:function(t){e.$set(e.newItem,"insComment",t)},expression:"newItem.insComment"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(_["a"]),t(r["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:e.closeAddDialog}},[e._v(" Cancel ")]),t(r["a"],{staticClass:"success mt-3",attrs:{disabled:e.isAddFileButtonDisabled,small:"",tile:""},on:{click:e.addCasefile}},[e._v("Submit")])],1)],1)],1)],1)],1)],1),t(b["a"],[t(c["a"],{attrs:{cols:"12"}},[t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mb-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(v["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(C["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])]),t(u["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.paginatedCasefiles,"item-class":e.itemClass,"sort-by":e.sortBy,"sort-desc":e.sortDesc,loading:e.paginatedLoading,search:e.search,"items-per-page":e.pageSize,"mobile-breakpoint":"1100","hide-default-footer":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(i["a"],{staticClass:"mb-1",attrs:{flat:""}},[t(b["a"],{attrs:{"no-gutters":""}},[t(c["a"],{staticClass:"pa-2",attrs:{cols:"12",md:"4"}},[t(i["a"],{staticClass:"action-buttons-card h-100 d-flex flex-column justify-center",attrs:{flat:""}},[t(l["c"],{staticClass:"pa-2 d-flex flex-wrap justify-center align-center"})],1)],1)],1)],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s((e.paginatedPage-1)*e.pageSize+t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t(k["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",n,!1),s),[e._v(" "+e._s(a.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(a.name))])])],1)}))}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("span",{key:n},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(k["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(h["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(h["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(h["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",{key:a.id},[t(o["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)}),t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mt-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(v["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(h["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(C["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])])],1)],1)],1)},D=[],A=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("a732"),a("2f62")),T=a("c1df"),w=a.n(T),N=a("cb28"),I=a("f983"),E=a("5632"),j=a("fde1"),P=a("304b"),R=a("02ba"),O=a("9df5"),L=a("8643"),F=a("d14b"),B=a("0cbf"),$=a("061e"),M=a("f0cc"),U=a("4aae"),z={name:"CaseList",components:{AdvancedSearch:U["a"]},data:()=>({search:"",refType:[],subRefTypes:[],insurer:[],members:[],stages:[],tatCharts:[],addDialog:!1,management:!1,addcase:!1,menu:!1,menu1:!1,newItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},initialNewItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},sortBy:["days"],sortDesc:[!0],branches:[],state:[],regions:[],handlers:[],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}],showLoadingSnackbar:!1,isLoading:!0,processSnackbar:{show:!1,text:"",color:"info",timeout:3e3,loading:!1},searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},departments:[],pageSize:30,jumpToPage:null}),computed:{...Object(A["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(A["b"])(["getFilteredCasefiles","getAllCasefiles","getPaginatedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),paginatedCasefiles(){return this.getPaginatedCasefiles},paginatedTotal(){return this.getPaginatedTotal},paginatedPage:{get(){return this.getPaginatedPage},set(e){this.onPageChange(e)}},paginatedLoading(){return this.getPaginatedLoading},totalPages(){return Math.max(1,Math.ceil(this.paginatedTotal/this.pageSize))},paginationButtons(){const e=[],t=this.totalPages,a=this.paginatedPage;if(t<=7)for(let s=1;s<=t;s++)e.push({type:"page",page:s});else if(a<=4){for(let t=1;t<=5;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e1"}),e.push({type:"page",page:t})}else if(a>=t-3){e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e2"});for(let a=t-4;a<=t;a++)e.push({type:"page",page:a})}else{e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e3"});for(let t=a-1;t<=a+1;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e4"}),e.push({type:"page",page:t})}return e},addCasefileDisabled(){return!this.addcase},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.refType].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.refType.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...a]},insurersForFilter(){return this.insurer&&0!==this.insurer.length?[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name)):[]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=[...this.stages].filter(e=>e.stageCode&&e.name).sort((e,t)=>e.id-t.id);return[{stageCode:"all",name:"All Statuses"},...e]},isAdvancedSearchValid(){return Boolean(this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer)},sortedRefType(){return[...this.refType].sort((e,t)=>e.name.localeCompare(t.name))},sortedBranches(){return[...this.branches].sort((e,t)=>e.name.localeCompare(t.name))},sortedInsurer(){return[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name))},sortedState(){return[...this.state].sort((e,t)=>e.name.localeCompare(t.name))},isAddFileButtonDisabled(){return!(this.newItem.refType&&this.newItem.insurer&&this.newItem.claimNo&&this.newItem.dateOfAssign&&this.newItem.dateOfLoss&&this.newItem.insComment)},getSnackbarIcon(){switch(this.processSnackbar.color){case"success":return"mdi-check-circle";case"error":return"mdi-alert-circle";case"warning":return"mdi-alert";default:return"mdi-information"}},ComputedDateOfAssignAdd(){return this.formatDateMethod(this.newItem.dateOfAssign)},ComputedDateOfLossAdd(){return this.formatDateMethod(this.newItem.dateOfLoss)}},methods:{moment(e){return w()(e)},formatDate(e){return w()(e).format("DD/MM/YYYY")},formatDateMethod(e){return e?w()(e).format("DD/MM/YYYY"):null},yearOnly(e){return w()(e).format("YY")},dateDiff(e,t){let a=w()(e),s=w()(t),n=w.a.duration(s.diff(a));return Math.floor(n.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},filtersubRefType(e){return e?[...this.subRefTypes].filter(t=>t.deptId===e).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]},filterHandler(e){return e?[...this.handlers].filter(t=>t.insId===e).sort((e,t)=>e.name.localeCompare(t.name)):[]},filterBranches(e){return this.branches.filter(t=>t.id===e)},filterBranchesEmail(e){if(!e)return"TBA";const t=this.branches.filter(t=>t.id===e);return t[0].name},filterVehicleNo(e){return e?e.toLowerCase().replace(/\s/g,""):"TBA"},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterUser(e){return this.members.filter(t=>t.id===e)},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},getTatValues(e,t){if(!e||!t)return null;const a=this.tatCharts.find(a=>a.insId===e&&a.subDeptId===t);return a?{tatAlert:parseInt(a.tatAlert),tatMax:parseInt(a.tatMax)}:null},getStatusClass(e,t,a){const s=Number(e),n=Number(t),r=Number(a);return s>=r?"tat-overdue-force":s>=n?"tat-alert-force":""},itemClass(e){if(!e||!e.dateOfAssign)return"";const t=this.dateDiff(w()(e.dateOfAssign).format(),w()().format()),a=this.getTatValues(e.insurer,e.subRefType);return a?this.getStatusClass(t,a.tatAlert,a.tatMax):""},checkManagement(){const e=this.$store.state.auth.user;e&&e.roles&&(e.roles.includes("ADMIN")||e.roles.includes("MANAGER")||e.roles.includes("BRANCHMANAGER")||e.roles.includes("BRANCHCLERK"))?this.management=!0:this.management=!1},checkAddCase(){const e=this.$store.state.auth.user;e&&e.roles?this.addcase=e.roles.some(e=>["ADMIN","MANAGER","CLERK","BRANCHMANAGER","BRANCHCLERK"].includes(e)):this.addcase=!1},closeAddDialog(){this.addDialog=!1,this.$nextTick(()=>{this.newItem=Object.assign({},this.initialNewItem)})},addCasefile(){var e,t,a,s={refType:this.newItem.refType,subRefType:this.newItem.subRefType,branch:this.newItem.branch,insurer:this.newItem.insurer,handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.filterVehicleNo(this.newItem.vehicleNo),dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"},n={refType:(null===(e=this.refType.find(e=>e.id===this.newItem.refType))||void 0===e?void 0:e.name)||"N/A",subRefType:(null===(t=this.subRefTypes.find(e=>e.id===this.newItem.subRefType))||void 0===t?void 0:t.subCodeDesc)||"N/A",branch:this.filterBranchesEmail(this.newItem.branch),insurer:(null===(a=this.insurer.find(e=>e.id===this.newItem.insurer))||void 0===a?void 0:a.name)||"N/A",handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.newItem.vehicleNo?this.newItem.vehicleNo.toLowerCase().replace(/\s/g,""):"TBA",dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"};M["a"].create(s).then(e=>{this.closeAddDialog(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Success"})}).then(()=>{$["a"].mailData(n).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Email sent"})}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.toString()})})}).catch(e=>{var t;this.$store.dispatch("setSnackbar",{showing:!0,text:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||e.message})}),this.closeAddDialog()},showProcessUpdate(e,t=!0,a="info"){this.processSnackbar={show:!0,text:e,color:a,timeout:t?-1:3e3,loading:t}},async loadData(){this.showProcessUpdate("Loading data...");try{const[e,t,a,s,n,r,i,l,o,c]=await Promise.all([N["a"].getAll(),I["a"].getAll(),j["a"].getAll(),P["a"].getAll(),R["a"].getAll(),E["a"].getAll(),O["a"].getAll(),L["a"].getAll(),F["a"].getAll(),B["a"].getAll()]);this.refType=e.data,this.subRefTypes=t.data,this.branches=a.data,this.state=s.data,this.regions=n.data,this.insurer=r.data,this.members=i.data,this.handlers=l.data,this.stages=o.data,this.tatCharts=c.data,this.showProcessUpdate("Data loaded successfully",!1,"success")}catch(e){console.error("Error loading data:",e),this.showProcessUpdate("Error loading data",!1,"error")}},openAdvancedSearch(){this.$router.push({name:"advancedSearch"})},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);const a={timestamp:Date.now(),params:t,text:this.createSearchText(t)};try{let e=[];const t=localStorage.getItem("searchHistory");t&&(e=JSON.parse(t)),e=[a,...e.slice(0,4)];const s=JSON.stringify(e);s.length<=4096?localStorage.setItem("searchHistory",s):localStorage.setItem("searchHistory",JSON.stringify([a]))}catch(e){console.warn("Search history storage failed:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t),this.$store.dispatch("setSnackbar",{showing:!0,text:"Search failed: "+t.message,color:"error"})}finally{this.searchLoading=!1}}},createSearchText(e){const t=[];if(e.keyword&&t.push(`"${e.keyword}"`),e.dept){const a=this.refType.find(t=>t.id===e.dept);a&&t.push(a.name)}if(e.branch){const a=this.branches.find(t=>t.id===e.branch);a&&t.push(a.name)}if(e.status){const a=this.stages.find(t=>t.stageCode===e.status);a&&t.push(a.name)}if(e.insurer){const a=this.insurer.find(t=>t.id===e.insurer);a&&t.push(a.name)}return t.join(", ")||"Advanced Search"},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null}},addToRecentSearches(e,t){try{let a=[];const s=localStorage.getItem("recentSearches");s&&(a=JSON.parse(s)),a.unshift({text:e,data:t}),a=a.slice(0,5);const n=JSON.stringify(a);n.length>4096&&(a=a.slice(0,3)),localStorage.setItem("recentSearches",JSON.stringify(a)),this.recentSearches=a}catch(a){console.warn("Unable to save to recent searches:",a);try{localStorage.removeItem("recentSearches"),this.recentSearches=[]}catch(s){console.error("Error clearing searches:",s)}}},async loadFilterData(){try{if(!this.stages||0===this.stages.length){const e=await F["a"].getAll();this.stages=e.data}if(!this.refType||0===this.refType.length){const e=await N["a"].getAll();this.refType=e.data}if(!this.branches||0===this.branches.length){const e=await j["a"].getAll();this.branches=e.data}}catch(e){console.error("Error loading filter data:",e)}},onPageChange(e){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:e,pageSize:this.pageSize,filters:this.getCurrentFilters()})},onPageSizeChange(){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:1,pageSize:this.pageSize,filters:this.getCurrentFilters()}),this.paginatedPage=1},getCurrentFilters(){const e={};return this.advancedSearch.keyword&&(e.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(e.refType=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(e.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(e.status=this.advancedSearch.status),this.advancedSearch.insurer&&(e.insurer=this.advancedSearch.insurer),e},updateAdvancedSearch(e){this.advancedSearch={...e}},goToFirstPage(){this.paginatedPage>1&&this.onPageChange(1)},goToPrevPage(){this.paginatedPage>1&&this.onPageChange(this.paginatedPage-1)},goToNextPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.paginatedPage+1)},goToLastPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.totalPages)},jumpPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.totalPages&&(this.onPageChange(this.jumpToPage),this.jumpToPage=null)},reloadActiveFiles(e=1){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:e,pageSize:this.pageSize,filters:this.getCurrentFilters()})}},async mounted(){this.reloadActiveFiles(1),await this.loadData(),this.checkManagement(),this.checkAddCase(),await this.loadFilterData()},watch:{$route(e){"/home"===e.path&&(this.reloadActiveFiles(1),this.paginatedPage=1)},"$store.state.auth.user":{handler(){this.checkAddCase(),this.checkManagement()},immediate:!0,deep:!0}}},H=z,Y=(a("f2d1"),a("2877")),G=Object(Y["a"])(H,S,D,!1,null,null,null);t["default"]=G.exports},c427:function(e,t,a){"use strict";var s=a("bc3a"),n=a.n(s),r=a("6736");const i=n.a.create({baseURL:r["a"].baseURL,headers:{"Content-type":"application/json"}});t["a"]=i},c7a3:function(e,t,a){"use strict";a("107b")},cb28:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/depts")}get(e){return s["a"].get("/depts/"+e)}create(e){return s["a"].post("/depts",e)}update(e,t){return s["a"].put("/depts/"+e,t)}delete(e){return s["a"].delete("/depts/"+e)}deleteAll(){return s["a"].delete("/depts")}}t["a"]=new n},d14b:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/stages")}get(e){return s["a"].get("/stages/"+e)}create(e){return s["a"].post("/stages",e)}update(e,t){return s["a"].put("/stages/"+e,t)}delete(e){return s["a"].delete("/stages/"+e)}deleteAll(){return s["a"].delete("/stages")}}t["a"]=new n},d6e0:function(e,t,a){},dfb6:function(e,t,a){e.exports=a.p+"img/001.ecf2c54b.jpg"},e6eb:function(e,t,a){"use strict";a("7c98")},eb42:function(e,t,a){},f05e:function(e,t,a){},f0cc:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/casefiles")}getAllRefType(e){return s["a"].get("/byref/"+e)}getAllBranch(e){return s["a"].get("/bybranch/"+e)}getAllStatusRefType(e,t){return s["a"].get(`/detailByRef/${e}/${t}`)}getAllStatusBranch(e,t){return s["a"].get(`/detailByBranch/${e}/${t}`)}get(e){return s["a"].get("/casefiles/"+e)}create(e){return s["a"].post("/casefiles",e)}update(e,t){return s["a"].put("/casefiles/"+e,t)}delete(e){return s["a"].delete("/casefiles/"+e)}deleteAll(){return s["a"].delete("/casefiles")}getPaginated(e){return s["a"].get("/casefiles/paginated",{params:e})}getPaginatedActive(e){return s["a"].get("/casefiles/paginated-active",{params:e})}getPaginatedClosed(e){return s["a"].get("/casefiles/paginated-closed",{params:e})}}t["a"]=new n},f0dd:function(e,t,a){"use strict";a("5de6")},f2d1:function(e,t,a){"use strict";a("eb42")},f31f:function(e,t,a){e.exports=a.p+"img/002.8e4b5e98.jpg"},f983:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/subDepts")}get(e){return s["a"].get("/subDepts/"+e)}create(e){return s["a"].post("/subDepts",e)}update(e,t){return s["a"].put("/subDepts/"+e,t)}delete(e){return s["a"].delete("/subDepts/"+e)}deleteAll(){return s["a"].delete("/subDepts")}findBySubDept(e){return s["a"].get("/subDepts?name="+e)}}t["a"]=new n},fde1:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/branches")}get(e){return s["a"].get("/branches/"+e)}create(e){return s["a"].post("/branches",e)}update(e,t){return s["a"].put("/branches/"+e,t)}delete(e){return s["a"].delete("/branches/"+e)}deleteAll(){return s["a"].delete("/branches")}findByBranch(e){return s["a"].get("/branches?name="+e)}}t["a"]=new n}});
//# sourceMappingURL=app.9b140adc.js.map