{"version":3,"sources":["webpack:///./src/components/bulletins/bulletinList.vue","webpack:///src/components/bulletins/bulletinList.vue","webpack:///./src/components/bulletins/bulletinList.vue?dd21","webpack:///./src/components/bulletins/bulletinList.vue?5c8f"],"names":["_c","staticClass","_vm","attrs","headers","search","showFirstLastPage","scopedSlots","key","tooltip","dialog","callback","$$v","formTitle","model","value","editedItem","close","isAddButtonDisabled","_v","dialogDelete","expression","on","closeDelete","deleteItemConfirm","fn","item","editItem","deleteItem","staticRenderFns","data","bulletinDetailDialog","bulletinDetail","bulletins","defaultItem","id","newsTitle","newsStory","newsAuthor","editedIndex","text","align","sortable","computed","currentUserName","$store","state","auth","user","username","watch","val","methods","formatDate","moment","format","showDetail","Object","assign","retrieveBulletins","BulletinDataService","getAll","then","response","catch","e","console","log","retrieveUserName","refreshList","getDisplayBulletin","bulletin","length","substr","indexOf","delete","dispatch","showing","color","message","toString","$nextTick","save","update","create","mounted","component"],"mappings":"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","file":"js/chunk-2d0e8bc0.8709a5da.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"600px\",\"persistent\":\"\"},model:{value:(_vm.bulletinDetailDialog),callback:function ($$v) {_vm.bulletinDetailDialog=$$v},expression:\"bulletinDetailDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"justify-start text-h5 grey lighten-2\"},[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.bulletinDetail.newsTitle))])]),_c('v-card-text',{staticClass:\"text-h6 text-start mt-3\"},[_vm._v(\" \"+_vm._s(_vm.bulletinDetail.newsStory)+\" \")]),_c('v-card-text',{staticClass:\"caption text-start\"},[_vm._v(\" - \"+_vm._s(_vm.bulletinDetail.newsAuthor)+\" \"),_c('br'),_vm._v(\" - \"+_vm._s(_vm.formatDate(_vm.bulletinDetail.createdAt))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.bulletinDetailDialog = false}}},[_vm._v(\" Close \")])],1)],1)],1),_c('div',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.bulletins,\"search\":_vm.search,\"footer-props\":{\n        showFirstLastPage: true,\n        'items-per-page-options': [10, 20, 30, 40, 50, 100, -1],\n      },\"items-per-page\":50},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on: dialog, attrs }){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on: tooltip }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"fab\":\"\",\"small\":\"\",\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),{ ...tooltip, ...dialog }),[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"ADD BULLETIN\")])])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"justify-center text-h5 grey lighten-2\"},[_c('span',[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Title\"},model:{value:(_vm.editedItem.newsTitle),callback:function ($$v) {_vm.$set(_vm.editedItem, \"newsTitle\", $$v)},expression:\"editedItem.newsTitle\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-textarea',{attrs:{\"label\":\"Content\"},model:{value:(_vm.editedItem.newsStory),callback:function ($$v) {_vm.$set(_vm.editedItem, \"newsStory\", $$v)},expression:\"editedItem.newsStory\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancel \")]),_c('v-btn',{staticClass:\"success\",attrs:{\"disabled\":_vm.isAddButtonDisabled,\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"justify-center text-h5 grey lighten-2\"},[_vm._v(\"Confirm delete? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"No\")]),_c('v-btn',{staticClass:\"error\",attrs:{\"small\":\"\",\"tile\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"Yes\")]),_c('v-spacer')],1)],1)],1),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\",\"clearable\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"item.numbering\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.index + 1)+\" \")]}},{key:`item.newsStory`,fn:function({ value }){return [_c('div',{staticClass:\"d-inline-block text-truncate\",staticStyle:{\"max-width\":\"300px\"}},[_vm._v(\" \"+_vm._s(value)+\" \")])]}},{key:`item.actions`,fn:function({ item }){return [_c('v-tooltip',{attrs:{\"left\":\"\",\"transition\":\"fab-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-icon',_vm._g(_vm._b({staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.showDetail(item)}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-folder-open-outline \")])]}}],null,true)},[_c('span',[_vm._v(\" Show Detail\")])]),_c('v-tooltip',{attrs:{\"left\":\"\",\"transition\":\"fab-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-icon',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-pencil \")])]}}],null,true)},[_c('span',[_vm._v(\" edit\")])]),_c('v-tooltip',{attrs:{\"right\":\"\",\"transition\":\"fab-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"red darken-1\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-delete \")])]}}],null,true)},[_c('span',[_vm._v(\" delete\")])])]}}],null,true)})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-dialog v-model=\"bulletinDetailDialog\" width=\"600px\" persistent>\r\n      <v-card>\r\n        <v-card-title class=\"justify-start text-h5 grey lighten-2\">\r\n          <span class=\"text-h5\">{{ bulletinDetail.newsTitle }}</span>\r\n        </v-card-title>\r\n        <v-card-text class=\"text-h6 text-start mt-3\">\r\n          {{ bulletinDetail.newsStory }}\r\n        </v-card-text>\r\n        <v-card-text class=\"caption text-start\">\r\n          - {{ bulletinDetail.newsAuthor }} <br />\r\n          - {{ formatDate(bulletinDetail.createdAt) }}\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            color=\"blue darken-1\"\r\n            text\r\n            @click=\"bulletinDetailDialog = false\"\r\n          >\r\n            Close\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <div>\r\n      <!-- <v-card tile class=\"mx-auto\">\r\n        <v-img\r\n          position=\"bottom\"\r\n          class=\"white--text\"\r\n          height=\"70px\"\r\n          src=\"@/assets/card-bg.jpg\"\r\n        >\r\n          <v-card-text class=\"text-right text-h6 font-weight-black\">\r\n            BULLETIN LIST\r\n          </v-card-text>\r\n        </v-img>\r\n      </v-card> -->\r\n\r\n      <v-data-table\r\n        dense\r\n        :headers=\"headers\"\r\n        :items=\"bulletins\"\r\n        :search=\"search\"\r\n        class=\"elevation-1\"\r\n        :footer-props=\"{\r\n          showFirstLastPage: true,\r\n          'items-per-page-options': [10, 20, 30, 40, 50, 100, -1],\r\n        }\"\r\n        :items-per-page=\"50\"\r\n      >\r\n        <template v-slot:top>\r\n          <v-toolbar flat>\r\n            <v-dialog v-model=\"dialog\" max-width=\"500px\" persistent>\r\n              <template v-slot:activator=\"{ on: dialog, attrs }\">\r\n                <v-tooltip bottom>\r\n                  <template v-slot:activator=\"{ on: tooltip }\">\r\n                    <v-btn\r\n                      fab\r\n                      small\r\n                      color=\"primary\"\r\n                      dark\r\n                      v-bind=\"attrs\"\r\n                      v-on=\"{ ...tooltip, ...dialog }\"\r\n                    >\r\n                      <v-icon>mdi-plus</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>ADD BULLETIN</span>\r\n                </v-tooltip>\r\n              </template>\r\n\r\n              <v-card>\r\n                <v-card-title class=\"justify-center text-h5 grey lighten-2\">\r\n                  <span>{{ formTitle }}</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\r\n                  <v-container>\r\n                    <v-row>\r\n                      <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                        <v-text-field\r\n                          v-model=\"editedItem.newsTitle\"\r\n                          label=\"Title\"\r\n                        ></v-text-field>\r\n                      </v-col>\r\n\r\n                      <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                        <v-textarea\r\n                          v-model=\"editedItem.newsStory\"\r\n                          label=\"Content\"\r\n                        ></v-textarea>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-container>\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn outlined small tile @click=\"close\"> Cancel </v-btn>\r\n                  <v-btn\r\n                    :disabled=\"isAddButtonDisabled\"\r\n                    small\r\n                    tile\r\n                    class=\"success\"\r\n                    @click=\"save\"\r\n                  >\r\n                    Save\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n\r\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n            <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\r\n              <v-card>\r\n                <v-card-title class=\"justify-center text-h5 grey lighten-2\"\r\n                  >Confirm delete?\r\n                  <!-- {{ editedItem.newsTitle }}? -->\r\n                </v-card-title>\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn outlined small tile @click=\"closeDelete\">No</v-btn>\r\n                  <v-btn small tile class=\"error\" @click=\"deleteItemConfirm\"\r\n                    >Yes</v-btn\r\n                  >\r\n                  <v-spacer></v-spacer>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n            <v-spacer></v-spacer>\r\n            <v-text-field\r\n              v-model=\"search\"\r\n              append-icon=\"mdi-magnify\"\r\n              label=\"Search\"\r\n              single-line\r\n              hide-details\r\n              clearable\r\n            ></v-text-field>\r\n          </v-toolbar>\r\n        </template>\r\n\r\n        <template slot=\"item.numbering\" slot-scope=\"props\">\r\n          {{ props.index + 1 }}\r\n        </template>\r\n\r\n        <!-- Trick to truncate text and show elipsis at the end  -->\r\n        <template v-slot:[`item.newsStory`]=\"{ value }\">\r\n          <div class=\"d-inline-block text-truncate\" style=\"max-width: 300px\">\r\n            {{ value }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.actions`]=\"{ item }\">\r\n          <v-tooltip left transition=\"fab-transition\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-icon\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                class=\"mr-2\"\r\n                @click=\"showDetail(item)\"\r\n              >\r\n                mdi-folder-open-outline\r\n              </v-icon>\r\n            </template>\r\n            <span> Show Detail</span>\r\n          </v-tooltip>\r\n\r\n          <v-tooltip left transition=\"fab-transition\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-icon\r\n                small\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                class=\"mr-2\"\r\n                @click=\"editItem(item)\"\r\n              >\r\n                mdi-pencil\r\n              </v-icon>\r\n            </template>\r\n            <span> edit</span>\r\n          </v-tooltip>\r\n          <v-tooltip right transition=\"fab-transition\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-icon\r\n                small\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                color=\"red darken-1\"\r\n                @click=\"deleteItem(item)\"\r\n              >\r\n                mdi-delete\r\n              </v-icon>\r\n            </template>\r\n            <span> delete</span>\r\n          </v-tooltip>\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport BulletinDataService from \"../../services/BulletinDataService\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    dialog: false,\r\n    dialogDelete: false,\r\n    bulletinDetailDialog: false,\r\n    bulletinDetail: false,\r\n    bulletins: [],\r\n    search: \"\",\r\n    defaultItem: {\r\n      id: null,\r\n      newsTitle: \"\",\r\n      newsStory: \"\",\r\n      newsAuthor: \"\",\r\n    },\r\n    editedIndex: -1,\r\n    editedItem: {\r\n      id: null,\r\n      newsTitle: \"\",\r\n      newsStory: \"\",\r\n      newsAuthor: \"\",\r\n    },\r\n    headers: [\r\n      {\r\n        text: \"NO.\",\r\n        align: \"start\",\r\n        sortable: false,\r\n        value: \"numbering\",\r\n      },\r\n      {\r\n        text: \"TITLE\",\r\n        align: \"start\",\r\n        sortable: true,\r\n        value: \"newsTitle\",\r\n      },\r\n      {\r\n        text: \"CONTENT\",\r\n        align: \"center\",\r\n        value: \"newsStory\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        text: \"AUTHOR\",\r\n        align: \"center\",\r\n        value: \"newsAuthor\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        text: \"ACTIONS\",\r\n        align: \"center\",\r\n        value: \"actions\",\r\n        sortable: false,\r\n      },\r\n    ],\r\n  }),\r\n\r\n  computed: {\r\n    currentUserName() {\r\n      return this.$store.state.auth.user.username;\r\n    },\r\n    formTitle() {\r\n      return this.editedIndex === -1 ? \"Add Bulletin\" : \"Update Bulletin\";\r\n    },\r\n    isAddButtonDisabled() {\r\n      return !(this.editedItem.newsTitle && this.editedItem.newsStory);\r\n    },\r\n\r\n    // newsAuthor: {\r\n    //   get() {\r\n    //     return this.$store.state.auth.user.username;\r\n    //   },\r\n    //   set(val) {\r\n    //     this.editedItem.newsAuthor = val;\r\n    //   },\r\n    // },\r\n  },\r\n\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    },\r\n    dialogDelete(val) {\r\n      val || this.closeDelete();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    formatDate(value) {\r\n      if (!value) return \"\";\r\n      return moment(value).format(\"DD/MM/YYYY\");\r\n    },\r\n    showDetail(item) {\r\n      this.bulletinDetail = Object.assign({}, item);\r\n      this.bulletinDetailDialog = true;\r\n    },\r\n\r\n    retrieveBulletins() {\r\n      BulletinDataService.getAll()\r\n        .then((response) => {\r\n          // this.bulletins = response.data.map(this.getDisplayBulletin);\r\n          this.bulletins = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    retrieveUserName() {\r\n      this.currentUserName()\r\n        .then((response) => {\r\n          this.editedItem.newsAuthor = response.data;\r\n          // console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    refreshList() {\r\n      this.retrieveBulletins();\r\n    },\r\n\r\n    getDisplayBulletin(bulletin) {\r\n      return {\r\n        id: bulletin.id,\r\n        newsTitle:\r\n          bulletin.newsTitle.length > 30\r\n            ? bulletin.newsTitle.substr(0, 30) + \"...\"\r\n            : bulletin.newsTitle,\r\n        newsStory:\r\n          bulletin.newsStory.length > 30\r\n            ? bulletin.newsStory.substr(0, 30) + \"...\"\r\n            : bulletin.newsStory,\r\n        newsAuthor:\r\n          bulletin.newsAuthor.length > 30\r\n            ? bulletin.newsAuthor.substr(0, 30) + \"...\"\r\n            : bulletin.newsAuthor,\r\n      };\r\n    },\r\n\r\n    editItem(item) {\r\n      this.editedIndex = this.bulletins.indexOf(item);\r\n      this.editedItem = Object.assign({}, item);\r\n      this.dialog = true;\r\n    },\r\n\r\n    deleteItem(item) {\r\n      this.editedIndex = this.bulletins.indexOf(item);\r\n      this.editedItem = Object.assign({}, item);\r\n      this.dialogDelete = true;\r\n    },\r\n\r\n    deleteItemConfirm() {\r\n      BulletinDataService.delete(this.editedItem.id)\r\n        .then((response) => {\r\n          this.$store.dispatch(\"setSnackbar\", {\r\n            showing: true,\r\n            color: \"error\",\r\n            text:\r\n              (response && response.data && response.data.message) ||\r\n              toString(),\r\n          });\r\n\r\n          this.refreshList();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n\r\n      this.closeDelete();\r\n    },\r\n\r\n    close() {\r\n      this.dialog = false;\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem);\r\n        this.editedIndex = -1;\r\n      });\r\n    },\r\n\r\n    closeDelete() {\r\n      this.dialogDelete = false;\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem);\r\n        this.editedIndex = -1;\r\n      });\r\n    },\r\n\r\n    save() {\r\n      if (this.editedIndex > -1) {\r\n        BulletinDataService.update(this.editedItem.id, this.editedItem)\r\n          .then((response) => {\r\n            this.close();\r\n            this.$store.dispatch(\"setSnackbar\", {\r\n              showing: true,\r\n              color: \"warning\",\r\n              text:\r\n                (response && response.data && response.data.message) ||\r\n                toString(),\r\n            });\r\n            this.refreshList();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      } else {\r\n        var data = {\r\n          newsTitle: this.editedItem.newsTitle,\r\n          newsStory: this.editedItem.newsStory,\r\n          newsAuthor: this.$store.state.auth.user.username,\r\n        };\r\n\r\n        BulletinDataService.create(data)\r\n          .then((response) => {\r\n            this.editedItem.id = response.data.id;\r\n            this.close();\r\n            this.$store.dispatch(\"setSnackbar\", {\r\n              showing: true,\r\n              color: \"success\",\r\n              text:\r\n                (response && response.data && response.data.message) ||\r\n                toString(),\r\n            });\r\n            this.refreshList();\r\n          })\r\n          .catch((e) => {\r\n            this.$store.dispatch(\"setSnackbar\", {\r\n              showing: true,\r\n              text:\r\n                (e.response && e.response.data && e.response.data.message) ||\r\n                e.message ||\r\n                toString(),\r\n            });\r\n          });\r\n      }\r\n      this.close();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveBulletins();\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bulletinList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bulletinList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./bulletinList.vue?vue&type=template&id=6653a3f4\"\nimport script from \"./bulletinList.vue?vue&type=script&lang=js\"\nexport * from \"./bulletinList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}