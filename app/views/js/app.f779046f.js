(function(e){function t(t){for(var s,n,l=t[0],o=t[1],c=t[2],d=0,u=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);h&&h(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},r={app:0},i=[];function l(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-096742b6":"b589f91c","chunk-0a994422":"60a84afe","chunk-13a66c1c":"1998cf0c","chunk-18fed119":"fe712712","chunk-194d3724":"58d1c61d","chunk-22795dc5":"ef094a45","chunk-22ffe50d":"fde9621d","chunk-2d0a2df0":"44e21ae2","chunk-2d0b6339":"2a1ba104","chunk-2d0c9388":"8a6abf08","chunk-2d0d7c06":"288f3c70","chunk-2d0db490":"8302e3dd","chunk-2d0dd47c":"bf27e838","chunk-2d0df849":"af04129f","chunk-2d0e521d":"2afe3a10","chunk-2d0e8bc0":"8709a5da","chunk-2d216257":"58872a85","chunk-6acb04da":"8fe963b8","chunk-168b0bef":"8d580adb","chunk-2a245044":"485c6faa","chunk-9b1bc7a0":"5cd6eb52","chunk-2d216263":"b1a36887","chunk-2d216d19":"db9e6bde","chunk-2d21af88":"cf80adb1","chunk-2d21f29b":"6947aa67","chunk-503eee76":"9ad4c364","chunk-5d674c98":"ed340001","chunk-5df8963d":"06e6023a","chunk-60d6f837":"9a60feb0","chunk-78538b25":"481aec90","chunk-7aa254cb":"a11abbf7","chunk-c5685398":"0ee6a619","chunk-fa07f1a0":"bcb797f5","chunk-086a213a":"7f9992c7","chunk-2d209639":"97670acb","chunk-2d216214":"1f54003d"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a={"chunk-096742b6":1,"chunk-194d3724":1,"chunk-22795dc5":1,"chunk-22ffe50d":1,"chunk-168b0bef":1,"chunk-2a245044":1,"chunk-9b1bc7a0":1,"chunk-503eee76":1,"chunk-5df8963d":1,"chunk-60d6f837":1,"chunk-78538b25":1,"chunk-7aa254cb":1,"chunk-fa07f1a0":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-096742b6":"c3c4f225","chunk-0a994422":"31d6cfe0","chunk-13a66c1c":"31d6cfe0","chunk-18fed119":"31d6cfe0","chunk-194d3724":"4ce7a121","chunk-22795dc5":"3e07982a","chunk-22ffe50d":"ecf8f88c","chunk-2d0a2df0":"31d6cfe0","chunk-2d0b6339":"31d6cfe0","chunk-2d0c9388":"31d6cfe0","chunk-2d0d7c06":"31d6cfe0","chunk-2d0db490":"31d6cfe0","chunk-2d0dd47c":"31d6cfe0","chunk-2d0df849":"31d6cfe0","chunk-2d0e521d":"31d6cfe0","chunk-2d0e8bc0":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-6acb04da":"31d6cfe0","chunk-168b0bef":"0bce51bc","chunk-2a245044":"28603eb3","chunk-9b1bc7a0":"503dd2b8","chunk-2d216263":"31d6cfe0","chunk-2d216d19":"31d6cfe0","chunk-2d21af88":"31d6cfe0","chunk-2d21f29b":"31d6cfe0","chunk-503eee76":"76a811a3","chunk-5d674c98":"31d6cfe0","chunk-5df8963d":"9588358d","chunk-60d6f837":"2ca82a86","chunk-78538b25":"06109613","chunk-7aa254cb":"63a8a677","chunk-c5685398":"31d6cfe0","chunk-fa07f1a0":"5d5bedda","chunk-086a213a":"31d6cfe0","chunk-2d209639":"31d6cfe0","chunk-2d216214":"31d6cfe0"}[e]+".css",r=o.p+s,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===r))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){c=u[l],d=c.getAttribute("data-href");if(d===s||d===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[e],h.parentNode.removeChild(h),a(i)},h.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){n[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,a){s=r[e]=[t,a]}));t.push(s[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=l(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(h);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",u.name="ChunkLoadError",u.type=s,u.request=n,a[1](u)}r[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var h=d;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"0046":function(e,t,a){},"02ba":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/regions")}get(e){return s["a"].get("/regions/"+e)}create(e){return s["a"].post("/regions",e)}update(e,t){return s["a"].put("/regions/"+e,t)}delete(e){return s["a"].delete("/regions/"+e)}deleteAll(){return s["a"].delete("/regions")}findByRegion(e){return s["a"].get("/regions?name="+e)}}t["a"]=new n},"061e":function(e,t,a){"use strict";var s=a("c427");class n{mailData(e){return s["a"].post("/send",e,{headers:{"Content-Type":"multipart/form-data"}})}assignBranch(e){return s["a"].post("/send/branch",e,{headers:{"Content-Type":"multipart/form-data"}})}assignAdj(e){return s["a"].post("/send/adjuster",e,{headers:{"Content-Type":"multipart/form-data"}})}assignEditor(e){return s["a"].post("/send/editor",e,{headers:{"Content-Type":"multipart/form-data"}})}editorAccept(e){return s["a"].post("/send/editorAccept",e,{headers:{"Content-Type":"multipart/form-data"}})}managerApproval(e){return s["a"].post("/send/managerApproval",e,{headers:{"Content-Type":"multipart/form-data"}})}assignClerk(e){return s["a"].post("/send/assignClerk",e,{headers:{"Content-Type":"multipart/form-data"}})}}t["a"]=new n},"0a51":function(e,t,a){"use strict";a("39f3")},"0c04":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/bulletins")}get(e){return s["a"].get("/bulletins/"+e)}create(e){return s["a"].post("/bulletins",e)}update(e,t){return s["a"].put("/bulletins/"+e,t)}delete(e){return s["a"].delete("/bulletins/"+e)}deleteAll(){return s["a"].delete("/bulletins")}findByBulletin(e){return s["a"].get("/bulletins?newsTitle="+e)}}t["a"]=new n},"0cbf":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/tatcharts")}get(e){return s["a"].get("/tatcharts/"+e)}create(e){return s["a"].post("/tatcharts",e)}update(e,t){return s["a"].put("/tatcharts/"+e,t)}delete(e){return s["a"].delete("/tatcharts/"+e)}deleteAll(){return s["a"].delete("/tatcharts")}findByRegion(e){return s["a"].get("/tatcharts?name="+e)}}t["a"]=new n},"0d82":function(e,t,a){"use strict";a("8281")},1:function(e,t,a){e.exports=a("56d7")},"107b":function(e,t,a){},"14a5":function(e,t,a){"use strict";a("62e7")},"1ab5":function(e,t,a){"use strict";a("847e")},"1f0e":function(e,t,a){"use strict";a("d6e0")},2:function(e,t){},"25bb":function(e,t,a){e.exports=a.p+"img/aasb-logo.d0bf795f.png"},3:function(e,t){},"304b":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/states")}get(e){return s["a"].get("/states/"+e)}create(e){return s["a"].post("/states",e)}update(e,t){return s["a"].put("/states/"+e,t)}delete(e){return s["a"].delete("/states/"+e)}deleteAll(){return s["a"].delete("/states")}findByBranch(e){return s["a"].get("/states?name="+e)}}t["a"]=new n},"30ef":function(e,t,a){"use strict";const s={on(e,t){document.addEventListener(e,e=>t(e.detail))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};t["a"]=s},"39f3":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"4aae":function(e,t,a){"use strict";var s=a("c6a6"),n=a("8336"),r=a("b0af"),i=a("99d9"),l=a("62ad"),o=a("132d"),c=a("0fd9"),d=a("b974"),u=a("8654"),h=function(){var e=this,t=e._self._c;return t(r["a"],{staticClass:"search-card h-100",attrs:{flat:""}},[t(i["d"],{staticClass:"search-card-title py-1 px-4"},[t(o["a"],{staticClass:"mr-2",attrs:{small:"",color:"primary"}},[e._v("mdi-magnify")]),t("span",{staticClass:"text-subtitle-2"},[e._v("Advanced Search")])],1),t(i["c"],{staticClass:"pa-2"},[t(c["a"],{attrs:{dense:""}},[t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(u["a"],{attrs:{label:"Search by keyword",placeholder:"Case ID, Vehicle No, etc","prepend-inner-icon":"mdi-text-search",clearable:"",outlined:"",dense:"","hide-details":""},on:{input:e.emitUpdate},model:{value:e.localSearch.keyword,callback:function(t){e.$set(e.localSearch,"keyword",t)},expression:"localSearch.keyword"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.departments,"item-text":"name","item-value":"id",label:"Department",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-domain"},on:{change:e.emitUpdate},model:{value:e.localSearch.dept,callback:function(t){e.$set(e.localSearch,"dept",t)},expression:"localSearch.dept"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.branches,"item-text":"name","item-value":"id",label:"Branch",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-office-building"},on:{change:e.emitUpdate},model:{value:e.localSearch.branch,callback:function(t){e.$set(e.localSearch,"branch",t)},expression:"localSearch.branch"}})],1),t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(s["a"],{attrs:{items:e.insurers,"item-text":"name","item-value":"id",label:"Insurer",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-shield-account"},on:{change:e.emitUpdate},model:{value:e.localSearch.insurer,callback:function(t){e.$set(e.localSearch,"insurer",t)},expression:"localSearch.insurer"}})],1)],1),t(c["a"],{attrs:{dense:""}},[t(l["a"],{staticClass:"py-1",attrs:{cols:"12",sm:"6",md:"3"}},[t(d["a"],{attrs:{items:e.stages,"item-text":"name","item-value":"stageCode",label:"Status",outlined:"",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-flag"},on:{change:e.emitUpdate},model:{value:e.localSearch.status,callback:function(t){e.$set(e.localSearch,"status",t)},expression:"localSearch.status"}})],1),t(l["a"],{staticClass:"d-flex justify-end pt-2 pb-0",attrs:{cols:"12",sm:"6",md:"9"}},[t(n["a"],{staticClass:"mr-2",attrs:{color:"primary",loading:e.searchLoading,disabled:!e.isValid,small:""},on:{click:e.emitSearch}},[t(o["a"],{attrs:{left:"",small:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1),t(n["a"],{attrs:{text:"",small:""},on:{click:e.emitReset}},[e._v("Clear")])],1)],1)],1)],1)},p=[],m={name:"AdvancedSearch",props:{departments:{type:Array,default:()=>[]},branches:{type:Array,default:()=>[]},insurers:{type:Array,default:()=>[]},stages:{type:Array,default:()=>[]},searchLoading:{type:Boolean,default:!1},advancedSearch:{type:Object,default:()=>({})},isValid:{type:Boolean,default:!1}},data(){return{localSearch:{...this.advancedSearch}}},watch:{advancedSearch:{handler(e){this.localSearch={...e}},deep:!0}},methods:{emitSearch(){this.$emit("search")},emitReset(){this.$emit("reset")},emitUpdate(){this.$emit("update",{...this.localSearch})}}},f=m,g=(a("0d82"),a("2877")),b=Object(g["a"])(f,h,p,!1,null,"98311868",null);t["a"]=b.exports},"4e5a":function(e,t,a){"use strict";a("f05e")},5632:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/inss")}get(e){return s["a"].get("/inss/"+e)}create(e){return s["a"].post("/inss",e)}update(e,t){return s["a"].put("/inss/"+e,t)}delete(e){return s["a"].delete("/inss/"+e)}deleteAll(){return s["a"].delete("/inss")}}t["a"]=new n},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),n=a("7496"),r=a("8336"),i=a("b0af"),l=a("0789"),o=a("132d"),c=a("f6c4"),d=a("2db4"),u=a("f977"),h=function(){var e=this,t=e._self._c;return t(n["a"],[t("div",{attrs:{id:"the-content"}},[t(c["a"],[t("app-bar"),["login","forgot","reset","activate","NotFound"].includes(e.$route.name)?e._e():t("page-route-title"),t("keep-alive",[e.$route.meta.keepAlive?t("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():t("router-view")],1)],1),t("br"),t("staticFooter"),t(l["e"],{attrs:{group:""}},[e._l(e.visibleSnackbars,(function(a){return t(d["a"],{key:a.id,staticClass:"custom-snackbar",style:`margin-bottom: ${60*e.visibleSnackbars.indexOf(a)}px`,attrs:{color:a.color,timeout:e.timeout,app:"",right:"",elevation:6,shaped:""},on:{input:function(t){return e.onSnackbarHide(a.id)}},model:{value:a.showing,callback:function(t){e.$set(a,"showing",t)},expression:"snackbar.showing"}},[t(i["a"],{staticClass:"d-flex align-center",attrs:{flat:"",color:a.color,dark:""}},[t(o["a"],{staticClass:"ml-2",attrs:{left:"",size:"20"}},[e._v(" "+e._s(e.getSnackbarIcon(a.color))+" ")]),t("span",{staticClass:"mx-3 font-weight-medium"},[e._v(e._s(a.text))]),t(r["a"],{attrs:{icon:"","x-small":""},on:{click:function(e){a.showing=!1}}},[t(o["a"],{attrs:{size:"16"}},[e._v("mdi-close")])],1)],1)],1)}))],2),t(l["c"],[t(r["a"],{directives:[{name:"show",rawName:"v-show",value:e.offsetTop,expression:"offsetTop"},{def:u["b"],name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}],staticClass:"to-top-button",attrs:{fab:"",dark:"",fixed:"",bottom:"",color:"primary"},on:{click:e.toTop}},[t(o["a"],[e._v("mdi-chevron-up")])],1)],1)],1)},p=[],m=(a("e9f5"),a("910d"),a("2f62")),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"simple-footer"},[e.currentUser?t("span",{staticClass:"user-name"},[e._v(e._s(e.currentUser.fullname))]):e._e(),t("span",{staticClass:"copyright"},[e._v(" Licenced Loss Adjusters & Investigation Â© "+e._s((new Date).getFullYear())+" ")])])},g=[],b={name:"staticFooter",computed:{currentUser(){return this.$store.state.auth.user}}},v=b,y=(a("f0dd"),a("2877")),_=Object(y["a"])(v,f,g,!1,null,"6007454e",null),k=_.exports,S=a("40dc"),C=a("5bc1"),w=a("8212"),A=a("ce7e"),x=a("adda"),T=a("8860"),P=a("56b0"),I=a("da13"),D=a("5d23"),E=a("34c3"),j=a("f774"),N=a("2fa4"),O=a("2a7f"),L=a("3a2f"),R=function(){var e=this,t=e._self._c;return t("div",[e.currentUser?t(S["a"],{class:{"app-bar-shadow":e.isScrolled},attrs:{color:e.appBarColor,elevation:e.elevation,app:"",fixed:"",dense:""}},[t(C["a"],{on:{click:function(t){e.drawer=!0}}}),t(O["a"],[t("span",{staticClass:"d-block d-sm-none"},[e._v("Document Management")]),t("div",{staticClass:"d-none d-sm-block"},[t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/dashboard",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-monitor-dashboard")])],1)]}}],null,!1,564744786)},[t("span",[e._v("Dashboard")])]),t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/home",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-home-circle")])],1)]}}],null,!1,401123084)},[t("span",[e._v(" Home")])]),t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/listing",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-format-list-bulleted")])],1)]}}],null,!1,3205435895)},[t("span",[e._v(" Listing")])]),t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reports",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-clipboard-file")])],1)]}}],null,!1,1442824809)},[t("span",[e._v("Basic Report Generator")])]),t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/reportsTwo",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-clipboard-search")])],1)]}}],null,!1,409900109)},[t("span",[e._v("Detail Report Generator")])]),e.showMerimen?t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{color:"indigo",to:"/merimen-data",icon:""}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-inbox-arrow-down")])],1)]}}],null,!1,290371458)},[t("span",[e._v("Merimen")])]):e._e()],1)]),t(N["a"]),t("div",{staticClass:"custom-dropdown-container"},[t("div",{staticClass:"profile-btn",on:{click:e.toggleProfileMenu,mouseenter:e.showProfileMenu}},[t(w["a"],{attrs:{size:"36px"}},[e.currentUser.profile?t(x["a"],{attrs:{src:e.currentUser.profile,alt:e.currentUser.username},on:{error:e.handleAvatarError},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o["a"],[e._v("mdi-account")])]},proxy:!0}],null,!1,1925218037)}):t(o["a"],[e._v("mdi-account")])],1)],1),t("div",{staticClass:"dropdown-content",class:{show:e.isProfileMenuVisible},on:{mouseenter:e.cancelHideMenu,mouseleave:e.delayHideMenu}},[t("router-link",{staticClass:"dropdown-item",attrs:{to:"/welcome"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-hand-wave")]),t("span",[e._v("Welcome")])],1),t("div",{staticClass:"dropdown-divider"}),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/profile"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-account-circle")]),t("span",[e._v("My Profile")])],1),t("router-link",{staticClass:"dropdown-item",attrs:{to:"/mytasks"},on:{click:e.hideProfileMenu}},[t(o["a"],{attrs:{color:"indigo"}},[e._v("mdi-clipboard-check")]),t("span",[e._v("My Tasks")])],1)],1)]),e.currentUser?t("div",[t(L["a"],{attrs:{bottom:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(r["a"],e._g(e._b({staticStyle:{"text-decoration":"none"},attrs:{icon:""},on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},"v-btn",s,!1),a),[t(o["a"],[e._v("mdi-logout-variant")])],1)]}}],null,!1,4262698453)},[t("span",[e._v("Logout")])])],1):t("div",[t(r["a"],{staticClass:"text-decoration-none",attrs:{to:"/login",plain:""}},[t("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v("Login ")],1)],1)],1):e._e(),e.currentUser?t(j["a"],{attrs:{app:"",temporary:"","expand-on-hover":"",dark:"",src:a("9462")},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(T["a"],[t(I["a"],[t(D["a"],[t(D["c"],{staticClass:"text-h6"},[e._v(" "+e._s(e.currentUser.username)+" ")]),t(D["b"],[e._v(" "+e._s(e.currentUser.email)+" ")]),t(A["a"]),t(D["b"],{staticClass:"text-h7"},[t("strong",[e._v("Access:")])]),t(D["b"],{staticClass:"text-h8"},[t("ul",e._l(e.currentUser.roles,(function(a,s){return t("li",{key:s},[e._v(" "+e._s(a)+" ")])})),0)]),t(A["a"]),e.currentUser.branches&&e.currentUser.branches.length?t("div",[t(D["b"],{staticClass:"text-h7"},[t("strong",[e._v("Branch:")])]),t(D["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.branches,(function(a,s){return t("li",{key:s},e._l(e.filterStates(a),(function(a,s){return t("div",{key:s},[e._v(" "+e._s(a.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e(),e.currentUser.dept&&e.currentUser.dept.length?t("div",[t(D["b"],{staticClass:"text-h7"},[t("strong",[e._v("Department:")])]),t(D["b"],{staticClass:"text-h7"},[t("ul",e._l(e.currentUser.dept,(function(a,s){return t("li",{key:s},e._l(e.filterDept(a),(function(a,s){return t("div",{key:s},[e._v(" "+e._s(a.name.toUpperCase())+" ")])})),0)})),0)])],1):e._e()],1)],1)],1),t(A["a"]),e.showAdminBoard?t(T["a"],{attrs:{nav:"",dense:""}},e._l(e.adminlinks,(function(a,s){return t("div",{key:s},[a.subLinks?t(P["a"],{key:a.text,attrs:{"no-action":"","prepend-icon":a.icon,value:"admin"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("admin")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(D["c"],[e._v(e._s(a.text))])]},proxy:!0}],null,!0)},e._l(a.subLinks,(function(a){return t(I["a"],{key:a.text,staticClass:"text-decoration-none pl-5",attrs:{to:a.to,"active-class":"white--text"}},[t(E["a"],[t(o["a"],[e._v(e._s(a.icon))])],1),t(D["c"],[e._v(e._s(a.text))])],1)})),1):e._e()],1)})),0):e._e(),t(T["a"],{attrs:{nav:"",dense:""}},e._l(e.links,(function(a,s){return t("div",{key:s},[t(P["a"],{key:a.text,attrs:{"no-action":"","prepend-icon":a.icon,value:"dashboard"===e.activeMenu,"active-class":"white--text"},on:{click:function(t){return e.handleMenuClick("dasboard")}},scopedSlots:e._u([{key:"activator",fn:function(){return[t(D["c"],[e._v(e._s(a.text))])]},proxy:!0}],null,!0)},e._l(e.filteredSubLinks(a),(function(a){return t(I["a"],{key:a.text,staticClass:"text-decoration-none pl-5",attrs:{to:a.to,"active-class":"white--text"}},[t(E["a"],[t(o["a"],[e._v(e._s(a.icon))])],1),t(D["c"],[e._v(e._s(a.text))])],1)})),1)],1)})),0)],1):e._e()],1)},$=[],B=(a("14d9"),a("fde1")),M=a("cb28"),U=a("30ef"),F={components:{},name:"appBar",data:()=>({searchId:"",drawer:!1,profileMenu:!1,adminlinks:[{icon:"mdi-shield-lock-outline",text:"Admin",subLinks:[{text:"User",to:"/members",icon:"mdi-account-group"},{text:"Branch",to:"/branches",icon:"mdi-office-building"},{text:"Department",to:"/depts",icon:"mdi-domain"},{text:"File Classification",to:"/subDepts",icon:"mdi-file-tree"},{text:"State",to:"/states",icon:"mdi-map-marker"},{text:"District",to:"/districts",icon:"mdi-map"},{text:"Insurer",to:"/inss",icon:"mdi-shield-check"},{text:"TAT List",to:"/tatcharts",icon:"mdi-clock-outline"},{text:"Handler",to:"/handlers",icon:"mdi-account-tie"},{text:"Bulletin",to:"/bulletins",icon:"mdi-bulletin-board"}]}],links:[{icon:"mdi-menu",text:"Navigation",subLinks:[{to:"/dashboard",icon:"mdi-monitor-dashboard",text:"Dashboard"},{to:"/home",icon:"mdi-home-circle-outline",text:"Home"},{to:"/listing",icon:"mdi-format-list-bulleted",text:"Listing"},{to:"/reports",icon:"mdi-clipboard-file",text:"Basic Report Generator"},{to:"/reportsTwo",icon:"mdi-clipboard-search",text:"Detail Report Generator"},{text:"Merimen",to:"/merimen-data",icon:"mdi-inbox-arrow-down"}]}],branches:[],departments:[],activeMenu:null,isScrolled:!1,elevation:1,appBarColor:"transparent",isProfileMenuVisible:!1}),computed:{currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ADMIN")},showMerimen(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ADMIN")||this.currentUser.roles.includes("MANAGER")||this.currentUser.roles.includes("CLERK"))}},methods:{filterStates(e){return this.branches.filter(t=>t.id===e)},filterDept(e){return this.departments.filter(t=>t.id===e)},retrieveStates(){B["a"].getAll().then(e=>{this.branches=e.data}).catch(e=>{console.log(e)})},retrieveDepts(){M["a"].getAll().then(e=>{this.departments=e.data}).catch(e=>{console.log(e)})},logOut(){this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:"Successfully Logged Out!"}),this.$store.dispatch("auth/logout"),this.$router.push("/login")},handleMenuClick(e){this.activeMenu===e?this.activeMenu=null:this.activeMenu=e},filteredSubLinks(e){return e.subLinks.filter(e=>"Merimen"!==e.text||this.showMerimen)},handleScroll(){this.isScrolled=window.scrollY>0,this.elevation=this.isScrolled?6:1,this.appBarColor=this.isScrolled?"white":"transparent"},handleAvatarError(){this.$store.state.auth.user.profile=null},toggleProfileMenu(){this.isProfileMenuVisible=!this.isProfileMenuVisible},showProfileMenu(){this.isProfileMenuVisible=!0},hideProfileMenu(){this.isProfileMenuVisible=!1},cancelHideMenu(){clearTimeout(this.hideMenuTimeout)},delayHideMenu(){this.hideMenuTimeout=setTimeout(()=>{this.isProfileMenuVisible=!1},300)}},watch:{$route(){}},mounted(){this.retrieveStates(),this.retrieveDepts(),U["a"].on("logout",()=>{this.logOut()}),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){U["a"].remove("logout"),window.removeEventListener("scroll",this.handleScroll)}},z=F,q=(a("f390"),Object(y["a"])(z,R,$,!1,null,null,null)),G=q.exports,H=a("cc20"),Y=a("a523"),V=function(){var e=this,t=e._self._c;return t(Y["a"],{staticClass:"pa-2",attrs:{fluid:""}},[t(i["a"],{staticClass:"d-flex align-center px-4 py-2",attrs:{flat:""}},[t(o["a"],{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-map-marker")]),t("span",{staticClass:"text-grey"},[e._v("You are here:")]),t(H["a"],{staticClass:"ml-2",attrs:{size:"small",variant:"flat"}},[e._v(" "+e._s(e.$route.meta.title)+" ")]),t(N["a"]),t(r["a"],{attrs:{"prepend-icon":"mdi-arrow-left",variant:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Return ")])],1)],1)},J=[],K={},W=Object(y["a"])(K,V,J,!1,null,null,null),Q=W.exports,X={data:()=>({fab:!1,timeout:2e3,left:!0,bottom:!0,offsetTop:0}),mounted(){this.overlay=!1},components:{staticFooter:k,appBar:G,PageRouteTitle:Q},computed:{currentUser(){return this.$store.state.auth.user},...Object(m["c"])(["snackbars"]),visibleSnackbars(){return this.snackbars.filter(e=>e.showing).slice(0,3)}},methods:{onScroll(e){if("undefined"===typeof window)return;const t=window.pageYOffset||e.target.scrollTop||0;this.offsetTop=t>20},toTop(){this.$vuetify.goTo(0)},getSnackbarIcon(e){switch(e){case"success":return"mdi-check-circle-outline";case"error":return"mdi-alert-circle-outline";case"warning":return"mdi-alert-outline";case"info":return"mdi-information-outline";default:return"mdi-bell-outline"}},onSnackbarHide(e){this.$store.commit("REMOVE_SNACKBAR",e)}},watch:{snackbars:{handler(e){e.length>10&&this.$store.commit("CLEANUP_OLD_SNACKBARS")},deep:!0}}},Z=X,ee=(a("14a5"),Object(y["a"])(Z,h,p,!1,null,null,null)),te=ee.exports,ae=(a("a732"),a("8c4f")),se=a("bb51"),ne=a("62ad"),re=a("8fea"),ie=a("0fd9"),le=a("b974"),oe=a("8654"),ce=function(){var e=this,t=e._self._c;return t(Y["a"],{attrs:{fluid:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mb-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(le["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(oe["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])]),t(re["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.paginatedCasefiles,"item-class":e.itemClass,"sort-by":e.sortBy,"sort-desc":e.sortDesc,loading:e.paginatedLoading,search:e.search,"items-per-page":e.pageSize,"mobile-breakpoint":"1100","hide-default-footer":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.viewItem},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s((e.paginatedPage-1)*e.pageSize+t.index+1)+" ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s){return t("span",{key:"dept-"+s.id},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a){return t("span",{key:"subDept-"+a.id},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:"branch-"+a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(t.dateOfAssign,new Date))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(H["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(e.statusName(a.fileStatus))+" ")])]}}],null,!0)}),t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mt-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(le["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(o["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(oe["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])])],1)],1)],1)},de=[],ue=a("5632"),he=a("9df5"),pe=a("f983"),me={name:"Archive",data:()=>({search:"",addDialog:!1,pageSize:30,jumpToPage:null,sortBy:["days"],sortDesc:[!0],insurer:[],members:[],branches:[],refType:[],subRefTypes:[],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}),computed:{...Object(m["b"])(["getPaginatedClosedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),paginatedCasefiles(){return this.getPaginatedClosedCasefiles},paginatedTotal(){return this.getPaginatedTotal},paginatedPage:{get(){return this.getPaginatedPage},set(e){this.onPageChange(e)}},paginatedLoading(){return this.getPaginatedLoading},totalPages(){return Math.max(1,Math.ceil(this.paginatedTotal/this.pageSize))},paginationButtons(){const e=[],t=this.totalPages,a=this.paginatedPage;if(t<=7)for(let s=1;s<=t;s++)e.push({type:"page",page:s});else if(a<=4){for(let t=1;t<=5;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e1"}),e.push({type:"page",page:t})}else if(a>=t-3){e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e2"});for(let a=t-4;a<=t;a++)e.push({type:"page",page:a})}else{e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e3"});for(let t=a-1;t<=a+1;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e4"}),e.push({type:"page",page:t})}return e},addCasefileDisabled(){return!1}},methods:{onPageChange(e){this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:e,pageSize:this.pageSize})},onPageSizeChange(){this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:1,pageSize:this.pageSize}),this.paginatedPage=1},goToFirstPage(){this.paginatedPage>1&&this.onPageChange(1)},goToPrevPage(){this.paginatedPage>1&&this.onPageChange(this.paginatedPage-1)},goToNextPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.paginatedPage+1)},goToLastPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.totalPages)},jumpPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.totalPages&&(this.onPageChange(this.jumpToPage),this.jumpToPage=null)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},itemClass(){return""},statusName(e){return"CLO"===e?"CLOSED":"CANC"===e?"CANCELLED":e},async loadInsurersAndMembers(){try{const[e,t]=await Promise.all([ue["a"].getAll(),he["a"].getAll()]);this.insurer=e.data,this.members=t.data}catch(e){}},loadLookups(){return Promise.all([B["a"].getAll(),M["a"].getAll(),pe["a"].getAll()]).then(([e,t,a])=>{this.branches=e.data,this.refType=t.data,this.subRefTypes=a.data})},filterDept(e){return e&&this.refType.length?this.refType.filter(t=>t.id===e):[]},filterSubDept(e){return e&&this.subRefTypes.length?this.subRefTypes.filter(t=>t.id===e):[]},filterBranches(e){return e&&this.branches.length?this.branches.filter(t=>t.id===e):[]},filterIns(e){return e&&this.insurer.length?this.insurer.filter(t=>t.id===e):[]},filterUser(e){return e&&this.members.length?this.members.filter(t=>t.id===e):[]},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-GB")},yearOnly(e){return e?new Date(e).getFullYear().toString().slice(-2):""},dateDiff(e,t){if(!e)return"";const a=new Date(e),s=new Date(t),n=Math.abs(s-a);return Math.floor(n/864e5)}},watch:{$route(e){"/archive"===e.path&&(this.paginatedPage=1,this.onPageChange(1))}},async mounted(){this.paginatedPage=1,await this.$store.dispatch("casefiles/fetchPaginatedClosedCasefiles",{page:1,pageSize:this.pageSize}),await this.loadInsurersAndMembers(),await this.loadLookups()}},fe=me,ge=(a("4e5a"),Object(y["a"])(fe,ce,de,!1,null,null,null)),be=ge.exports,ve=a("71a3"),ye=a("fe57"),_e=function(){var e=this,t=e._self._c;return t("div",[t(Y["a"],{staticClass:"text-center",attrs:{fluid:""}},[t(ye["a"],{model:{value:e.selectedTabIndex,callback:function(t){e.selectedTabIndex=t},expression:"selectedTabIndex"}},[t(ve["a"],{on:{click:function(t){e.dept=!0,e.branch=!1}}},[e._v("Department")]),t(ve["a"],{attrs:{dark:""},on:{click:function(t){e.branch=!0,e.dept=!1}}},[e._v("Branch")])],1),e.dept?t("deptTab"):e._e(),e.branch?t("brTab"):e._e()],1)],1)},ke=[],Se=a("99d9"),Ce=a("ce87"),we=function(){var e=this,t=e._self._c;return t(Y["a"],[t(ie["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredRefType,(function(s,n){return[t(ne["a"],{key:n,attrs:{align:"center"}},[t(Ce["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:n}){return[t(i["a"],{class:{"on-hover":n,highlighted:s.id===e.highlightedDeptId},attrs:{width:"300px",shaped:"",elevation:n||s.id===e.highlightedDeptId?12:2},on:{click:function(t){return e.viewItem(s.id)}}},[t(x["a"],{attrs:{src:a("dfb6"),height:"100px"}},[t(Se["d"],{staticClass:"text-h4 white--text"},[t(ie["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(s.name)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(s.description)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Ae=[],xe={data(){return{refType:[],highlightedDeptId:null}},mounted(){this.retrieveDept(),this.$route.query.dept&&(this.highlightedDeptId=parseInt(this.$route.query.dept,10),this.$router.replace({path:this.$route.path}))},computed:{filteredRefType(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.refType:this.refType.filter(e=>this.$store.state.auth.user.dept.includes(e.id))}},methods:{retrieveDept(){M["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"refTabDetail",params:{id:e}})}}},Te=xe,Pe=(a("ac58"),Object(y["a"])(Te,we,Ae,!1,null,"d8cef326",null)),Ie=Pe.exports,De=function(){var e=this,t=e._self._c;return t(Y["a"],[t(ie["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e._l(e.filteredBranch,(function(s,n){return[t(ne["a"],{key:n,attrs:{align:"center"}},[t(Ce["a"],{scopedSlots:e._u([{key:"default",fn:function({hover:n}){return[t(i["a"],{class:{"on-hover":n,highlighted:s.id===e.highlightedBranchId},attrs:{width:"300px",shaped:"",elevation:n||s.id===e.highlightedBranchId?12:2},on:{click:function(t){return e.viewItem(s.id)}}},[t(x["a"],{attrs:{src:a("f31f"),height:"100px"}},[t(Se["d"],{staticClass:"text-h4 white--text"},[t(ie["a"],{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[t("p",{staticClass:"mt-4 subheading font-weight-bold"},[e._v(" "+e._s(s.brCode)+" ")]),t("div",[t("p",{staticClass:"text-caption font-weight-medium font-italic"},[e._v(" "+e._s(s.name)+" ")])])])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Ee=[],je={data(){return{branch:[],highlightedBranchId:null}},mounted(){this.retrieveBr(),this.$route.query.branch&&(this.highlightedBranchId=parseInt(this.$route.query.branch,10),this.$router.replace({path:this.$route.path}))},computed:{filteredBranch(){return this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")?this.branch:this.branch.filter(e=>this.$store.state.auth.user.branches.includes(e.id))}},methods:{retrieveBr(){B["a"].getAll().then(e=>{this.branch=e.data}).catch(e=>{console.log(e)})},viewItem(e){this.$router.push({name:"brTabDetail",params:{id:e}})}}},Ne=je,Oe=(a("1f0e"),Object(y["a"])(Ne,De,Ee,!1,null,"2ecd4472",null)),Le=Oe.exports,Re={name:"listing",components:{deptTab:Ie,brTab:Le},data(){return{dept:!0,branch:!1,selectedTabIndex:0}},created(){const e=localStorage.getItem("selectedTab");"branch"===e?(this.dept=!1,this.branch=!0,this.selectedTabIndex=1):(this.dept=!0,this.branch=!1,this.selectedTabIndex=0),localStorage.removeItem("selectedTab")}},$e=Re,Be=Object(y["a"])($e,_e,ke,!1,null,null,null),Me=Be.exports,Ue=a("71d9"),Fe=function(){var e=this,t=e._self._c;return t(Y["a"],{staticStyle:{width:"80%"},attrs:{fluid:""}},[t("div",[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(re["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.casefiles,search:e.search,loading:e.loadTable,"loading-text":"Working on it ......"},on:{"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(Ue["a"],{attrs:{flat:""}},[t(oe["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t("div",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[e._v(" "+e._s(a.name)+" ")])])}))}},{key:"item.id",fn:function({item:a}){return[t("tr",{staticClass:"d-flex"},[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("div",{key:n},[e._v(" /"+e._s(s.name)),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v("/"+e._s(a.subCode))])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.createdAt))+" "),e._l(e.filterStates(a.branch),(function(a){return t("div",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))],2)]}},{key:"item.dateOfLoss",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfLoss))+" ")]}},{key:"item.fileStatus",fn:function({item:a}){return[t(L["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",e._b({key:a.id},"span",a.item,!1),[t(H["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)})],1)],1)],1)])},ze=[],qe=(a("ab43"),a("304b")),Ge=a("02ba"),He=a("f0cc"),Ye=a("d14b"),Ve=a("8643"),Je=a("c1df"),Ke=a.n(Je),We={name:"find",data:()=>({casefiles:[],search:"",loadTable:!0,branch:[],state:[],regions:[],refType:[],subRefTypes:[],stages:[],insurer:[],handlers:[],newItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},editItem:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",fileStatus:"",dateStartInv:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"INSURER",align:"center",value:"insurer",sortable:!1},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AASB REFERENCE",align:"start",value:"id",sortable:!1},{text:"CLAIM NO.",align:"start",sortable:!1,value:"claimNo"},{text:"DATE OF LOSS",align:"start",sortable:!1,value:"dateOfLoss"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}),computed:{},watch:{},methods:{filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},filtersubRefType(e){return this.subRefTypes.filter(t=>t.deptId===e)},filterHandler(e){return this.handlers.filter(t=>t.insId===e)},filterStates(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},viewItem(e){this.$router.push({name:"findfile",params:{id:e.id}})},formatDate(e){return Ke()(e).format("DD/MM/YYYY")},yearOnly(e){return Ke()(e).format("YY")},retrieveCasefiles(){He["a"].getAll().then(e=>{this.casefiles=e.data,this.loadTable=!1}).catch(e=>{console.log(e)})},refreshList(){this.retrieveCasefiles()},retrieveDept(){M["a"].getAll().then(e=>{this.refType=e.data}).catch(e=>{console.log(e)})},retrieveSubRefType(){pe["a"].getAll().then(e=>{this.subRefTypes=e.data}).catch(e=>{console.log(e)})},retrieveStages(){Ye["a"].getAll().then(e=>{this.stages=e.data}).catch(e=>{console.log(e)})},retrieveIns(){ue["a"].getAll().then(e=>{this.insurer=e.data}).catch(e=>{console.log(e)})},retrieveBranches(){B["a"].getAll().then(e=>{this.branch=e.data.map(this.getDisplayBranch)}).catch(e=>{console.log(e)})},getDisplayBranch(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},retrieveStates(){qe["a"].getAll().then(e=>{this.state=e.data.map(this.getDisplayState)}).catch(e=>{console.log(e)})},getDisplayState(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,stCode:e.stCode.length>30?e.stCode.substr(0,30)+"...":e.stCode}},retrieveRegions(){Ge["a"].getAll().then(e=>{this.regions=e.data}).catch(e=>{console.log(e)})},retrieveHandlers(){Ve["a"].getAll().then(e=>{this.handlers=e.data}).catch(e=>{console.log(e)})}},mounted(){this.retrieveBranches(),this.retrieveStates(),this.retrieveRegions(),this.retrieveDept(),this.retrieveSubRefType(),this.retrieveStages(),this.retrieveIns(),this.retrieveCasefiles(),this.retrieveHandlers()}},Qe=We,Xe=Object(y["a"])(Qe,Fe,ze,!1,null,null,null),Ze=Xe.exports,et=a("0798"),tt=function(){var e=this,t=e._self._c;return t("body",[t(i["a"],{staticClass:"transparent justify-center align-center text-center",attrs:{flat:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"2"}}),t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"8",color:"white"}},[t(Se["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Forgot your password? "),t("br"),e._v(" Please provide emaill address for assistance.")])],1),t(ne["a"],{attrs:{cols:"2"}})],1)],1),t(i["a"],{staticClass:"fill-height pa-0 ma-auto",attrs:{"max-width":"1000",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[e.message?t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(et["a"],{attrs:{width:"90%",type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),e.message2?t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[t(et["a"],{attrs:{width:"90%",type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")])],1):e._e(),t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12",lg:"4",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:a("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.resetlink.apply(null,arguments)}}},[t(ie["a"],{attrs:{"no-gutters":""}},[t(ne["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(r["a"],{attrs:{disabled:e.isEmptyForm,tile:"",block:"",color:"blue",type:"submit"}},[e._v(" Help me ")])],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(Se["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},at=[],st={name:"forgot",data(){return{message:"",message2:"",user:{email:""},rules:{emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!this.user.email}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{resetlink(){this.message="",this.message2="";var e={email:this.user.email};he["a"].resetlink(e).then(e=>{this.message2=e&&e.data&&e.data.message||toString()},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()}),this.$refs.form.reset()}},mounted(){}},nt=st,rt=(a("98a8"),Object(y["a"])(nt,tt,at,!1,null,"32c608f2",null)),it=rt.exports,lt=a("4bd4"),ot=a("8e36"),ct=a("7e85"),dt=a("e516"),ut=a("9c54"),ht=a("56a4"),pt=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(Se["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Reset password!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:a("25bb")}}),t(ct["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(ut["a"],[t(ht["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(A["a"]),t(ht["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(A["a"]),t(ht["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(et["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(ut["b"],[t(dt["a"],{attrs:{step:"1"}},[t(lt["a"],{ref:"form"},[t(i["a"],[t(Se["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(oe["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(oe["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(Se["a"],[t(r["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(r["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"2"}},[t(lt["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(Se["c"],[e._v(" Key in new password ")]),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ot["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:a}){return[t("strong",[e._v(e._s(Math.ceil(a))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(Se["a"],[t(r["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"3"}},[e.message2?t(ne["a"],{staticClass:"ma-auto"},[t(et["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(Se["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(Se["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},mt=[],ft=a("580e"),gt=a.n(ft),bt={name:"reset",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>gt()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=gt()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};he["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};he["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},vt=bt,yt=(a("c7a3"),Object(y["a"])(vt,pt,mt,!1,null,"72672027",null)),_t=yt.exports,kt=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(Se["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Activate User Account!")])],1)],1),t(i["a"],{staticClass:"pa-0 ma-auto",attrs:{"max-width":"600",outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"d-flex justify-center align-center ma-auto"},[t(ne["a"],{staticClass:"d-flex justify-center align-center pa-0",attrs:{cols:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"",width:"95%"}},[t("div",[t("img",{attrs:{width:"300px",src:a("25bb")}}),t(ct["a"],{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[t(ut["a"],[t(ht["a"],{attrs:{complete:e.stepper>1,step:"1"}},[e._v(" Verify the token ")]),t(A["a"]),t(ht["a"],{attrs:{complete:e.stepper>2,step:"2"}},[e._v(" Choose a Strong Password ")]),t(A["a"]),t(ht["a"],{attrs:{step:"3"}},[e._v(" Done ")])],1),e.message?t("div",[t(et["a"],{attrs:{type:"error"},model:{value:e.message.text,callback:function(t){e.$set(e.message,"text",t)},expression:"message.text"}},[e._v(" "+e._s(e.message)+" ")])],1):e._e(),t(ut["b"],[t(dt["a"],{attrs:{step:"1"}},[t(lt["a"],{ref:"form"},[t(i["a"],[t(Se["c"],[e._v(" Please key in your email and the token received in your email. ")]),t(oe["a"],{attrs:{solo:"",autofocus:"",hint:"Email",rules:e.rules.emailRules,name:"email",value:"",type:"email",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t(oe["a"],{attrs:{solo:"",name:"token",value:"",type:"text",label:"Token"},model:{value:e.user.token,callback:function(t){e.$set(e.user,"token",t)},expression:"user.token"}}),t(Se["a"],[t(r["a"],{attrs:{disabled:e.isEmptyForm,color:"primary"},on:{click:e.verify}},[e._v(" Verify ")]),t(r["a"],{attrs:{text:"",to:"/forgot"}},[e._v(" Request Token ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"2"}},[t(lt["a"],{ref:"form1",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(i["a"],[t(Se["c"],[e._v(" Key in new password ")]),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{staticClass:"mb-6",attrs:{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.strength],"validate-on-blur":"",type:e.show1?"text":"password",hint:"Minimum strength 75%","persistent-hint":""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t(ot["a"],{attrs:{"background-opacity":e.opacity,color:e.score.color,value:e.score.value,height:"25"},scopedSlots:e._u([{key:"default",fn:function({value:a}){return[t("strong",[e._v(e._s(Math.ceil(a))+"%")])]}}]),model:{value:e.score.value,callback:function(t){e.$set(e.score,"value",t)},expression:"score.value"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(oe["a"],{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.user.password===e.user.confPassword||"Password must match"],type:e.show2?"text":"password",label:"Confirm Password*",autocomplete:"confPassword",id:"user.confPassword",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.user.confPassword,callback:function(t){e.$set(e.user,"confPassword",t)},expression:"user.confPassword"}})],1),t(Se["a"],[t(r["a"],{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updatePass}},[e._v(" Submit ")])],1)],1)],1)],1),t(dt["a"],{attrs:{step:"3"}},[e.message2?t(ne["a"],{staticClass:"ma-auto"},[t(et["a"],{attrs:{type:"success"},model:{value:e.message2.text,callback:function(t){e.$set(e.message2,"text",t)},expression:"message2.text"}},[e._v(" "+e._s(e.message2)+" ")]),t(Se["c"],[e._v(" Congratulations. You can login to your account with the updated password. ")])],1):e._e()],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(Se["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)])],1)],1)],1)])],1)},St=[],Ct={name:"activate",data(){return{valid:!1,opacity:"",show1:!1,show2:!1,message:"",message2:"",stepper:1,user:{id:null,email:"",token:"",password:"",confPassword:""},rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",strength:e=>gt()(e).score>=3||"Please choose a stronger password. Try a mix of letters, numbers, and symbols.",emailMatch:()=>"The password you entered don't match",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]},loading:!1}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},score(){const e=gt()(this.user.password);switch(e.score){case 4:return{color:"light-blue",value:100};case 3:return{color:"light-green",value:75};case 2:return{color:"yellow",value:50};case 1:return{color:"orange",value:25};default:return{color:"red",value:0}}},isEmptyForm(){return!(this.user.email&&this.user.token)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{verify(){this.message="",this.message2="";var e={email:this.user.email,token:this.user.token};he["a"].verifyUser(e).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.user.id=e.data.id,this.stepper=2},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||toString()})},updatePass(){this.message2="";var e={password:this.user.password};he["a"].changepass(this.user.id,e).then(e=>{this.message2=e&&e.data&&e.data.message||toString(),this.stepper=3}).catch(e=>{console.log(e)})}},mounted(){}},wt=Ct,At=(a("0a51"),Object(y["a"])(wt,kt,St,!1,null,"19b8c066",null)),xt=At.exports,Tt=a("169a"),Pt=a("afd9"),It=function(){var e=this,t=e._self._c;return t("body",[t(ie["a"],[t(ne["a"],{staticClass:"white--text text-center",attrs:{cols:"12",color:"white"}},[t(Se["c"],{staticClass:"ma-3 pa-3 font-weight-bold",class:{"text-h4":e.$vuetify.breakpoint.mdAndDown,"text-h1":e.$vuetify.breakpoint.lgAndUp}},[e._v("Welcome to Associated Adjusters Online Reporting System")])],1)],1),t(i["a"],{staticClass:"pa-auto ma-auto",attrs:{outlined:"",tile:"",color:"transparent"}},[t("div",[t(ie["a"],{staticClass:"pa-0"},[t(ne["a"],{attrs:{cols:"12",lg:"3"}}),t(ne["a"],{staticClass:"fill-height d-flex justify-center",attrs:{cols:"12",lg:"3",md:"12",sm:"12"}},[t(i["a"],{staticClass:"pa-10 text-center",attrs:{tile:"","max-width":"350px"}},[t("div",[t("img",{attrs:{width:"100%",src:a("25bb")}}),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t(ie["a"],{attrs:{"no-gutters":""}},[t(ne["a"],{staticClass:"ma-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{name:"email",value:"",type:"text",label:"Email",autocomplete:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t(ne["a"],{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[t(oe["a"],{attrs:{name:"password",type:"password",label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t(ne["a"],{attrs:{cols:"12"}},[t(r["a"],{staticClass:"primary",attrs:{tile:"",block:"",disabled:e.isEmptyForm,type:"submit"}},[e._v(" Login ")])],1)],1)],1),t(ie["a"],{staticClass:"mt-1"},[t(Se["c"],{staticClass:"text-right ma-0 pa-0"},[t(r["a"],{attrs:{plain:"",text:"",small:"",to:"/forgot"}},[e._v(" Forgot Password ")])],1)],1)],1)])],1),t(ne["a"],{staticClass:"d-none d-md-none d-lg-flex justify-center",attrs:{cols:"12",lg:"4"}},[t(i["a"],{staticClass:"transparent",attrs:{flat:"",width:"100%"}},[t(ne["a"],{staticClass:"pa-0 text-start"},[t(Pt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(N["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(a){return t(ne["a"],e._b({key:a.id},"v-col",a.item,!1),[t(et["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(e._s(a.newsTitle)),t("br"),t("small",[t("p",[e._v(" "+e._s(a.newsStory)+" ")])]),t("p",[e._v("- "+e._s(a.newsAuthor))]),t("p",[e._v(" "+e._s(e.formatDate(a.createdAt))+" ")])])],1)}))],2)],1),t(ne["a"],{staticClass:"d-lg-none d-flex justify-center",attrs:{cols:"12"}},[t(i["a"],{staticClass:"transparent px-3",attrs:{"max-width":"600px",flat:""}},[t(ie["a"],[t(ne["a"],{staticClass:"align-center justify-center text-center",attrs:{cols:"12"}},[t(Pt["a"],{attrs:{window:"",color:"#0c4c94",dark:""}},[t(o["a"],[e._v("mdi-message")]),t("span",[e._v("Latest News")]),t(N["a"]),t(o["a"],[e._v("mdi-minus")]),t(o["a"],[e._v("mdi-checkbox-blank-outline")]),t(o["a"],[e._v("mdi-close")])],1)],1),e._l(e.bulletins,(function(a){return t(ne["a"],e._b({key:a.id,staticClass:"py-0",attrs:{cols:"12"}},"v-col",a.item,!1),[t(et["a"],{attrs:{border:"left",color:"#04934c",dense:"",type:"info"}},[e._v(" "+e._s(a.newsTitle)+" - "+e._s(a.newsAuthor)+" - "+e._s(e.formatDate(a.createdAt))),t("span",{staticClass:"pl-3 caption",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.something(a.id)}}},[e._v("... read more")])])],1)}))],2)],1)],1)],1)],1)]),t(Tt["a"],{model:{value:e.newsDialog,callback:function(t){e.newsDialog=t},expression:"newsDialog"}},[t(i["a"],[t(Se["c"],[t(Se["d"],[e._v(e._s(e.newBulletin.newsTitle))]),t(Se["c"],{staticClass:"text-subtitle-2"},[e._v(e._s(e.newBulletin.newsStory))]),t(Se["c"],{staticClass:"text-caption"},[e._v("- "+e._s(e.newBulletin.newsAuthor)+" - "+e._s(e.formatDate(e.newBulletin.createdAt)))])],1)],1)],1)],1)},Dt=[];class Et{constructor(e,t,a){this.username=e,this.email=t,this.password=a}}var jt=a("0c04"),Nt={name:"Login",data(){return{user:new Et("",""),loading:!1,bulletins:[],newsDialog:!1,newBulletin:[]}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},isEmptyForm(){return!(this.user.email&&this.user.password)}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{something(e){this.newsDialog=!0;let t=this.bulletins.filter(t=>t.id===e);return this.newBulletin=t[0]},formatDate(e){return Ke()(e).format("DD/MM/YYYY LT")},handleLogin(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.user.email&&this.user.password&&this.$store.dispatch("auth/login",this.user).then(()=>{this.$router.push("/welcome")},e=>{this.loading=!1,this.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})}):this.loading=!1})},retrieveBulletins(){jt["a"].getAll().then(e=>{this.bulletins=e.data.slice(-2).reverse()}).catch(e=>{console.log(e)})},refreshList(){this.retrieveBulletins()},getDisplayBulletin(e){return{id:e.id,newsTitle:e.newsTitle.length>100?e.newsTitle.substr(0,100)+"...":e.newsTitle,newsStory:e.newsStory.length>200?e.newsStory.substr(0,200)+"...":e.newsStory,newsAuthor:e.newsAuthor.length>30?e.newsAuthor.substr(0,30)+"...":e.newsAuthor}}},mounted(){this.retrieveBulletins()}},Ot=Nt,Lt=(a("1ab5"),Object(y["a"])(Ot,It,Dt,!1,null,"2c806ecc",null)),Rt=Lt.exports,$t=function(){var e=this,t=e._self._c;return t("div",{staticClass:"soonbox"},[t(i["a"],{staticClass:"text-center",attrs:{flat:""}},[t(ie["a"],{staticClass:"pa-0 ma-auto"},[t(Se["c"],{staticClass:"pa-0 ma-0"},[t(ie["a"],[t(ne["a"],{staticClass:"text-h1"},[e._v(" 404 ")])],1)],1)],1),t(ie["a"],[t(Se["c"],{staticClass:"pa-0 ma-0"},[t(ie["a"],[t(ne["a"],[e._v(" The Page you're looking for isn't here. ")])],1)],1)],1)],1)],1)},Bt=[],Mt={name:"NotFound"},Ut=Mt,Ft=(a("5e05"),Object(y["a"])(Ut,$t,Bt,!1,null,null,null)),zt=Ft.exports,qt=(a("f665"),{namespaced:!0,state:{casefiles:[],lastFetch:null,isLoading:!1,activeFilters:{},filteredCasefiles:[],cacheTimeout:3e5,currentUserId:null,paginated:{data:[],total:0,page:1,pageSize:30,filters:{},isLoading:!1}},getters:{getFilteredCasefiles:e=>(t,a,s,n)=>{if(!t||!a||!s||!n)return[];if(!e.casefiles.length)return[];if(!e.filteredCasefiles.length){let r=e.casefiles.map(e=>({...e,days:Ke()().diff(Ke()(e.dateOfAssign),"days"),tatStatus:null}));t.includes("MANAGER")||t.includes("ADMIN")||t.includes("CLERK")?e.filteredCasefiles=r:t.includes("BRANCHCLERK")||t.includes("BRANCHMANAGER")?(r=r.filter(e=>a.includes(e.refType)&&s.includes(e.branch)),e.filteredCasefiles=r):t.includes("ADJUSTER")&&(r=r.filter(e=>a.includes(e.refType)&&s.includes(e.branch)&&e.adjuster===n),e.filteredCasefiles=r)}return e.filteredCasefiles},needsRefresh:e=>!e.lastFetch||Date.now()-e.lastFetch>e.cacheTimeout,getAllCasefiles:e=>e.casefiles,getPaginatedCasefiles:e=>e.paginated.data,getPaginatedTotal:e=>e.paginated.total,getPaginatedPage:e=>e.paginated.page,getPaginatedPageSize:e=>e.paginated.pageSize,getPaginatedLoading:e=>e.paginated.isLoading},mutations:{SET_CASEFILES(e,t){e.casefiles=t,e.lastFetch=Date.now()},SET_LOADING(e,t){e.isLoading=t},UPDATE_CASEFILE(e,t){const a=e.casefiles.findIndex(e=>e.id===t.id);-1!==a&&e.casefiles.splice(a,1,t)},CLEAR_FILTERED_CACHE(e){e.filteredCasefiles=[]},CLEAR_STORE(e){e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[],e.currentUserId=null,e.isLoading=!1},SET_CURRENT_USER(e,t){e.currentUserId!==t&&(e.currentUserId=t,e.casefiles=[],e.lastFetch=null,e.filteredCasefiles=[])},UPDATE_TAT_STATUS(e,{id:t,status:a}){const s=e.filteredCasefiles.find(e=>e.id===t);s&&(s.tatStatus=a)},SET_PAGINATED_CASEFILES(e,{data:t,total:a,page:s,pageSize:n,filters:r}){e.paginated.data=t,e.paginated.total=a,e.paginated.page=s,e.paginated.pageSize=n,e.paginated.filters=r||{}},SET_PAGINATED_LOADING(e,t){e.paginated.isLoading=t}},actions:{async fetchCasefiles({commit:e,getters:t,state:a},s){if(a.currentUserId!==s&&e("SET_CURRENT_USER",s),t.needsRefresh||!(a.casefiles.length>0)){e("SET_LOADING",!0);try{const t=await He["a"].getAll();e("SET_CASEFILES",t.data)}catch(n){throw console.error("Error fetching casefiles:",n),n}finally{e("SET_LOADING",!1)}}},async updateCasefile({commit:e},t){try{const a=await He["a"].update(t.id,t);return e("UPDATE_CASEFILE",a.data),e("CLEAR_FILTERED_CACHE"),a.data}catch(a){throw console.error("Error updating casefile:",a),a}},async fetchPaginatedCasefiles({commit:e},{page:t=1,pageSize:a=30,filters:s={}}={}){e("SET_PAGINATED_LOADING",!0);try{const n={page:t,pageSize:a,...s},r=await He["a"].getPaginated(n);e("SET_PAGINATED_CASEFILES",{data:r.data.data,total:r.data.total,page:r.data.page,pageSize:r.data.pageSize,filters:s})}catch(n){throw console.error("Error fetching paginated casefiles:",n),n}finally{e("SET_PAGINATED_LOADING",!1)}},async fetchPaginatedActiveCasefiles({commit:e,rootState:t},{page:a=1,pageSize:s=30,filters:n={}}={}){e("SET_PAGINATED_LOADING",!0);try{const r=t.auth.user;r&&(n.roles=r.roles,n.dept=r.dept,n.branches=r.branches,n.userId=r.id);const i={page:a,pageSize:s,...n},l=await He["a"].getPaginatedActive(i);e("SET_PAGINATED_CASEFILES",{data:l.data.data,total:l.data.total,page:l.data.page,pageSize:l.data.pageSize,filters:n})}catch(r){throw console.error("Error fetching paginated active casefiles:",r),r}finally{e("SET_PAGINATED_LOADING",!1)}},async fetchPaginatedClosedCasefiles({commit:e,rootState:t},{page:a=1,pageSize:s=30,filters:n={}}={}){e("SET_PAGINATED_LOADING",!0);try{const r=t.auth.user;r&&(n.roles=r.roles,n.dept=r.dept,n.branches=r.branches,n.userId=r.id);const i={page:a,pageSize:s,...n},l=await He["a"].getPaginatedClosed(i);e("SET_PAGINATED_CASEFILES",{data:l.data.data,total:l.data.total,page:l.data.page,pageSize:l.data.pageSize,filters:n})}catch(r){throw console.error("Error fetching paginated closed casefiles:",r),r}finally{e("SET_PAGINATED_LOADING",!1)}},clearStore({commit:e}){e("CLEAR_STORE")}}});a("13d5"),a("7d54"),a("9485");const Gt={namespaced:!0,state:{isLoading:!1,statistics:{totalActiveCases:0,overdueCount:0,completedThisMonth:0,newCasesToday:0,pendingInvestigation:0,pendingEditing:0},topAdjusters:[],topBranches:[],topInsurers:[],topEditors:[],deptPerformance:[],caseCategories:[],monthlyTrends:{values:[0,0,0,0,0,0],labels:[],trend:0},upcomingDeadlines:[],systemNotifications:[],recentDocuments:[],pendingActions:[]},mutations:{SET_LOADING(e,t){e.isLoading=t},SET_STATISTICS(e,t){e.statistics={...e.statistics,...t}},SET_TOP_ADJUSTERS(e,t){e.topAdjusters=t},SET_TOP_BRANCHES(e,t){e.topBranches=t},SET_TOP_INSURERS(e,t){e.topInsurers=t},SET_TOP_EDITORS(e,t){e.topEditors=t},SET_DEPT_PERFORMANCE(e,t){e.deptPerformance=t},SET_CASE_CATEGORIES(e,t){e.caseCategories=t},SET_MONTHLY_TRENDS(e,t){e.monthlyTrends=t},SET_UPCOMING_DEADLINES(e,t){e.upcomingDeadlines=t},SET_SYSTEM_NOTIFICATIONS(e,t){e.systemNotifications=t},SET_RECENT_DOCUMENTS(e,t){e.recentDocuments=t},SET_PENDING_ACTIONS(e,t){e.pendingActions=t}},actions:{async fetchStatistics({commit:e},t){e("SET_LOADING",!0);try{if(!t){const e=await He["a"].getAll(),a=e.data,s=Ke()().startOf("day"),n=Ke()().startOf("month");t={totalActiveCases:a.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).length,overdueCount:a.filter(e=>{const t=Ke()().diff(Ke()(e.dateOfAssign),"days");return t>30&&"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus}).length,completedThisMonth:a.filter(e=>"CLO"===e.fileStatus&&Ke()(e.dateOfAssign).isAfter(n)).length,newCasesToday:a.filter(e=>Ke()(e.dateOfAssign).isSame(s,"day")).length,pendingInvestigation:a.filter(e=>"INVE"===e.fileStatus).length,pendingEditing:a.filter(e=>"PEDI"===e.fileStatus).length}}e("SET_STATISTICS",t)}finally{e("SET_LOADING",!1)}},async fetchTopAdjusters({commit:e},t){if(!t){const e=await He["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.adjuster]||(e[t.adjuster]={id:t.adjuster,name:t.adjusterName||"Unknown Adjuster",active:0,total:0,performance:0}),e[t.adjuster].total++,"CLO"!==t.fileStatus&&"CANC"!==t.fileStatus&&e[t.adjuster].active++,e[t.adjuster].performance=Math.round(e[t.adjuster].active/e[t.adjuster].total*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_ADJUSTERS",t)},async fetchTopBranches({commit:e},t){if(!t){const e=await He["a"].getAll().then(e=>e.data);t=Object.values(e.reduce((e,t)=>(e[t.branch]||(e[t.branch]={id:t.branch,name:t.branchName||"Unknown Branch",caseCount:0,performance:0,completed:0}),e[t.branch].caseCount++,"CLO"===t.fileStatus&&e[t.branch].completed++,e[t.branch].performance=Math.round(e[t.branch].completed/e[t.branch].caseCount*100),e),{})).sort((e,t)=>t.performance-e.performance).slice(0,5)}e("SET_TOP_BRANCHES",t)},async fetchTopInsurers({commit:e},t){e("SET_TOP_INSURERS",t)},async fetchTopEditors({commit:e},t){e("SET_TOP_EDITORS",t)},async fetchDeptPerformance({commit:e},t){e("SET_DEPT_PERFORMANCE",t)},async fetchCaseCategories({commit:e},t){e("SET_CASE_CATEGORIES",t)},async fetchMonthlyTrends({commit:e},t){if(!t){const e=await He["a"].getAll().then(e=>e.data),a=Array.from({length:6},(e,t)=>{const a=Ke()().subtract(t,"months");return{month:a,label:a.format("MMM"),value:0}}).reverse();e.forEach(e=>{const t=Ke()(e.dateOfAssign),s=a.findIndex(e=>e.month.isSame(t,"month"));-1!==s&&a[s].value++});const s=a.map(e=>e.value),n=s.length>=2?(s[s.length-1]-s[s.length-2])/s[s.length-2]*100:0;t={values:s,labels:a.map(e=>e.label),trend:Math.round(n)}}e("SET_MONTHLY_TRENDS",t)},async fetchSystemNotifications({commit:e},t){t||(t=[{id:1,type:"info",message:"Welcome to your dashboard"}]),e("SET_SYSTEM_NOTIFICATIONS",t)},async fetchUpcomingDeadlines({commit:e},t){if(!t){const e=await He["a"].getAll().then(e=>e.data);t=e.filter(e=>"CLO"!==e.fileStatus&&"CANC"!==e.fileStatus).map(e=>({id:e.id,caseNumber:e.caseNumber,daysLeft:Ke()(e.dateOfAssign).add(30,"days").diff(Ke()(),"days")})).filter(e=>e.daysLeft>0&&e.daysLeft<=14).sort((e,t)=>e.daysLeft-t.daysLeft).slice(0,5)}e("SET_UPCOMING_DEADLINES",t)},async fetchRecentDocuments({commit:e},t){t||(t=[]),e("SET_RECENT_DOCUMENTS",t)},async fetchPendingActions({commit:e},t){t||(t=[]),e("SET_PENDING_ACTIONS",t)}},getters:{statisticsCards:e=>[{label:"Active Cases",value:e.statistics.totalActiveCases,color:"primary"},{label:"Overdue Cases",value:e.statistics.overdueCount,color:"warning"},{label:"Completed This Month",value:e.statistics.completedThisMonth,color:"success"},{label:"New Cases Today",value:e.statistics.newCasesToday,color:"info"},{label:"Under Investigation",value:e.statistics.pendingInvestigation,color:"deep-orange"},{label:"Pending Editing",value:e.statistics.pendingEditing,color:"purple"}]}};var Ht=Gt,Yt=a("7424");class Vt{getLocalRefreshToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.refreshToken}getLocalAccessToken(){const e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.accessToken}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return JSON.parse(localStorage.getItem("user"))}setUser(e){localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var Jt=new Vt;class Kt{login({email:e,password:t}){return Yt["a"].post("/auth/signin",{email:e,password:t}).then(e=>(e.data.accessToken&&Jt.setUser(e.data),e.data))}logout(){Jt.removeUser()}register({username:e,email:t,password:a}){return Yt["a"].post("/auth/signup",{username:e,email:t,password:a})}}var Wt=new Kt;const Qt=JSON.parse(localStorage.getItem("user")),Xt=Qt?{status:{loggedIn:!0},user:Qt}:{status:{loggedIn:!1},user:null},Zt={namespaced:!0,state:Xt,actions:{login({commit:e,dispatch:t},a){return Wt.login(a).then(a=>(e("loginSuccess",a),t("casefiles/clearStore",null,{root:!0}),t("casefiles/fetchCasefiles",a.id,{root:!0}),Promise.resolve(a)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e,dispatch:t}){t("casefiles/clearStore",null,{root:!0}),Wt.logout(),e("logout")},register({commit:e},t){return Wt.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}},ea={namespaced:!0,state:{casefile:{id:null,refType:"",subRefType:"",branch:"",insurer:"",handler:"",claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:"",placeOfLoss:"",insuredName:"",insComment:"",createdBy:"",adjuster:"",roles:"",fileStatus:""}},mutations:{GET_CASEFILES_SUCCESS:function(e,t){e.casefile=t.casefile}},actions:{getCasefiles:async function({commit:e}){e("GET_CASEFILES_SUCCESS",{casefile:t.data});let t=await He["a"].get(this.$route.params.id)}}};var ta=a("0e44");s["a"].use(m["a"]);var aa=new m["a"].Store({state:{snackbars:[],snackbarQueue:[],maxVisibleSnackbars:3,caseState:ea.state},mutations:{SET_SNACKBAR(e,t){const a={...t,id:Date.now(),showing:!0};e.snackbars.filter(e=>e.showing).length>=e.maxVisibleSnackbars?e.snackbarQueue.push(a):e.snackbars.push(a)},REMOVE_SNACKBAR(e,t){const a=e.snackbars.findIndex(e=>e.id===t);-1!==a&&(e.snackbars.splice(a,1),e.snackbarQueue.length>0&&e.snackbars.push(e.snackbarQueue.shift()))},CLEANUP_OLD_SNACKBARS(e){e.snackbars=e.snackbars.filter(e=>e.showing)}},actions:{setSnackbar({commit:e},t){e("SET_SNACKBAR",t)}},modules:{auth:Zt,fileModule:ea,casefiles:qt,dashboard:Ht},getters:{getCaseState:function(e){return e.caseState},getPaginatedCasefiles:e=>e.casefiles.paginated.data,getPaginatedTotal:e=>e.casefiles.paginated.total,getPaginatedPage:e=>e.casefiles.paginated.page,getPaginatedPageSize:e=>e.casefiles.paginated.pageSize,getPaginatedLoading:e=>e.casefiles.paginated.isLoading,getPaginatedActiveCasefiles:e=>e.casefiles.paginated.data,getPaginatedClosedCasefiles:e=>e.casefiles.paginated.data},plugins:[Object(ta["a"])({paths:["dashboard"],storage:window.localStorage})]});function sa(e,t,a){const s=aa.state.auth.user;s?"vuexFile"!==e.name?("home"===e.name&&"vuexFile"===t.name&&aa.getters["casefiles/needsRefresh"]&&aa.dispatch("casefiles/fetchCasefiles",s.id),a()):aa.dispatch("casefiles/fetchCasefiles",s.id).then(()=>a()).catch(()=>a(!1)):a("/login")}var na=a("490a"),ra=function(){var e=this,t=e._self._c;return t(Y["a"],{attrs:{fluid:""}},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"mb-4"},[t(Se["d"],{staticClass:"py-3 primary white--text"},[t(o["a"],{attrs:{left:"",color:"white"}},[e._v("mdi-magnify")]),e._v(" Advanced Search Results "),t(N["a"]),t(r["a"],{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"white"},on:{click:function(t){return e.$router.push("/dashboard")}}},[t(o["a"],{attrs:{left:"",small:""}},[e._v("mdi-view-dashboard")]),e._v(" Dashboard ")],1)],1),t(Se["c"],{staticClass:"py-2"},[t(ie["a"],[t(ne["a"],{attrs:{cols:"12",md:"8"}},[t("div",{staticClass:"d-flex flex-wrap align-center"},[t("strong",{staticClass:"mr-2"},[e._v("Filters:")]),e.$route.query.keyword?t(H["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Keyword: "+e._s(e.$route.query.keyword)+" ")]):e._e(),e.$route.query.dept?t(H["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Department: "+e._s(e.getDepartmentName(e.$route.query.dept))+" ")]):e._e(),e.$route.query.branch?t(H["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Branch: "+e._s(e.getBranchName(e.$route.query.branch))+" ")]):e._e(),e.$route.query.status?t(H["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Status: "+e._s(e.getStatusName(e.$route.query.status))+" ")]):e._e(),e.$route.query.insurer?t(H["a"],{staticClass:"mr-2 mb-1",attrs:{small:""}},[e._v(" Insurer: "+e._s(e.getInsurerName(e.$route.query.insurer))+" ")]):e._e(),e.hasAnyFilters?e._e():t("span",{staticClass:"grey--text"},[e._v("No filters applied")])],1)]),t(ne["a"],{staticClass:"text-right",attrs:{cols:"12",md:"4"}},[t("span",{staticClass:"text-subtitle-1"},[e._v(" "+e._s(e.filteredCases.length)+" Results Found ")])])],1)],1)],1)],1)],1),e.loading?t(ie["a"],[t(ne["a"],{staticClass:"text-center",attrs:{cols:"12"}},[t(na["a"],{attrs:{indeterminate:"",color:"primary",size:"64"}}),t("div",{staticClass:"mt-3"},[e._v("Loading cases...")])],1)],1):e.loading||0!==e.filteredCases.length?[t(i["a"],[t(Se["d"],[t(oe["a"],{staticClass:"mx-4",attrs:{"append-icon":"mdi-magnify",label:"Filter results","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:e.tableSearch,callback:function(t){e.tableSearch=t},expression:"tableSearch"}})],1),t(re["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.filteredCases,search:e.tableSearch,"items-per-page":10,"footer-props":{"items-per-page-options":[10,20,50,-1]}},on:{"click:row":t=>e.navigateToCase(t.id)},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("span",{key:n},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t(L["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",n,!1),s),[e._v(" "+e._s(a.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(a.name))])])],1)}))}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(L["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(o["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",{key:a.id},[t(H["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)})],1)]:t(ie["a"],[t(ne["a"],{attrs:{cols:"12"}},[t(i["a"],{staticClass:"text-center pa-5"},[t(o["a"],{attrs:{size:"64",color:"grey lighten-1"}},[e._v("mdi-file-search-outline")]),t("h3",{staticClass:"mt-4 mb-2"},[e._v("No Cases Found")]),t("p",{staticClass:"grey--text"},[e._v("Try adjusting your search filters")]),t(r["a"],{staticClass:"mt-3",attrs:{color:"primary"},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v(" Return to Dashboard ")])],1)],1)],1)],2)},ia=[],la={name:"AdvancedSearch",data(){return{loading:!0,allCases:[],filteredCases:[],refType:[],branch:[],stages:[],insurers:[],subRefTypes:[],members:[],tableSearch:"",headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}]}},computed:{...Object(m["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(m["b"])("casefiles",["getFilteredCasefiles"]),userFilteredCasefiles(){const e=this.$store.state.auth.user;return e?this.$store.getters["casefiles/getFilteredCasefiles"](e.roles,e.dept,e.branches,e.id):[]},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN"))return[{id:"all",name:"All Departments"},...this.refType];const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.refType.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branch||0===this.branch.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.includes("ADMIN")||e.roles.includes("MANAGER"))return[{id:"all",name:"All Branches"},...this.branch];const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branch.filter(e=>t.some(t=>t===e.id));return[{id:"all",name:"All Branches"},...a]},hasAnyFilters(){return!!this.$route.query.keyword||!!this.$route.query.dept||!!this.$route.query.branch||!!this.$route.query.status||!!this.$route.query.insurer},searchQuery(){return{keyword:this.$route.query.keyword||"",dept:this.$route.query.dept||null,branch:this.$route.query.branch||null,status:this.$route.query.status||null,insurer:this.$route.query.insurer||null}}},watch:{"$route.query":{handler(){this.applyFilters()},deep:!0}},methods:{async fetchData(){this.loading=!0;try{await this.$store.dispatch("casefiles/fetchCasefiles");const[e,t,a,s,n,r]=await Promise.all([M["a"].getAll(),B["a"].getAll(),Ye["a"].getAll(),ue["a"].getAll(),pe["a"].getAll(),he["a"].getAll()]);this.refType=e.data,this.branch=t.data,this.stages=a.data,this.insurers=s.data,this.subRefTypes=n.data,this.members=r.data,this.applyFilters()}catch(e){console.error("Error fetching data:",e),this.$store.dispatch("alerts/setAlert",{text:"Error loading search results",type:"error"}),this.filteredCases=[]}finally{this.loading=!1}},applyFilters(){const e=this.userFilteredCasefiles;if(!e||0===e.length)return void(this.filteredCases=[]);const{keyword:t,dept:a,branch:s,status:n,insurer:r}=this.searchQuery;this.filteredCases=e.filter(e=>{if(a&&"all"!==a){const t=String(e.refType),s=String(a);if(t!==s)return!1}if(s&&"all"!==s){const t=String(e.branch),a=String(s);if(t!==a)return!1}if(n&&"all"!==n&&e.fileStatus!==n)return!1;if(r){const t=String(e.insurer),a=String(r);if(t!==a)return!1}if(t){const a=t.toLowerCase(),s=[e.vehicleNo,e.claimNo,e.personInvolved,e.insComment,String(e.id)].filter(e=>null!=e);return s.some(e=>String(e).toLowerCase().includes(a))}return!0})},moment(e){return Ke()(e)},yearOnly(e){return Ke()(e).format("YY")},dateDiff(e,t){let a=Ke()(e),s=Ke()(t),n=Ke.a.duration(s.diff(a));return Math.floor(n.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){var t;return(null===(t=this.subRefTypes)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterBranches(e){return this.branch.filter(t=>t.id===e)},filterIns(e){return this.insurers.filter(t=>t.id===e)},filterUser(e){var t;return(null===(t=this.members)||void 0===t?void 0:t.filter(t=>t.id===e))||[]},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},getDepartmentName(e){if(!e||"all"===e)return"All Departments";const t=this.refType.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Dept "+e},getBranchName(e){if(!e||"all"===e)return"All Branches";const t=this.branch.find(t=>t.id===parseInt(e)||t.id===e);return t?t.name:"Branch "+e},getStatusName(e){if(!e||"all"===e)return"All Statuses";const t=this.stages.find(t=>t.stageCode===e);return t?t.name:e},getStatusColor(e){const t={NEW:"green",PEND:"amber",INVE:"blue",PEDI:"purple",EDAC:"indigo",EDI:"pink",PAPP:"cyan",HOLD:"orange",FOIN:"teal",DISP:"light-blue",CLO:"grey",CANC:"red"};return t[e]||"grey"},formatDate(e){return Ke()(e).format("DD/MM/YYYY")},navigateToCase(e){this.$router.push({name:"vuexFile",params:{id:e}})},getFormattedCaseNumber(e){if(!e)return"N/A";const t=this.refType.find(t=>t.id===e.refType),a=this.branch.find(t=>t.id===e.branch);let s="AA-"+e.id;return t&&(s=`AA/${t.name}/${e.id}`),a&&a.brCode&&(s+="/"+a.brCode),s},getInsurerName(e){if(!e)return"N/A";const t=this.insurers.find(t=>t.id===e);return t?t.name:"Insurer "+e}},mounted(){this.fetchData()}},oa=la,ca=(a("e6eb"),Object(y["a"])(oa,ra,ia,!1,null,"7ffa3030",null)),da=ca.exports;s["a"].use(ae["a"]);const ua=new ae["a"]({mode:"history",routes:[{path:"/",meta:{title:"Welcome"},component:se["default"],title:se["default"]},{path:"/home",name:"home",component:()=>Promise.resolve().then(a.bind(null,"bb51")),meta:{title:"Home",keepAlive:!0,cacheTimeout:3e5},beforeEnter:sa},{path:"/archive",meta:{title:"Archive"},component:be,title:be},{path:"/listing",meta:{title:"Listing"},component:Me,title:Me},{path:"/find",name:"find",meta:{title:"Quick Find"},component:Ze},{path:"/login",name:"login",component:Rt},{path:"/forgot",name:"forgot",component:it},{path:"/reset",name:"reset",component:_t},{path:"/activate",name:"activate",component:xt},{path:"/profile",meta:{title:"Profile"},name:"profile",component:()=>a.e("chunk-22795dc5").then(a.bind(null,"c66d"))},{path:"/admin",meta:{title:"Admin"},name:"admin",component:()=>a.e("chunk-5d674c98").then(a.bind(null,"b295"))},{path:"/manager",meta:{title:"Manager"},name:"manager",component:()=>a.e("chunk-0a994422").then(a.bind(null,"1692"))},{path:"/user",meta:{title:"User"},name:"user",component:()=>a.e("chunk-13a66c1c").then(a.bind(null,"9a40"))},{path:"/members",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Members"},name:"members",component:()=>a.e("chunk-22ffe50d").then(a.bind(null,"0d2f"))},{path:"/branches",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Branches"},name:"branches",component:()=>a.e("chunk-2d0c9388").then(a.bind(null,"57e5"))},{path:"/states",meta:{requiresAuth:!0,roles:["ADMIN"],title:"States"},name:"states",component:()=>a.e("chunk-2d0dd47c").then(a.bind(null,"815b"))},{path:"/districts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Districts"},name:"districts",component:()=>a.e("chunk-2d216d19").then(a.bind(null,"c3a4"))},{path:"/tatcharts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"TAT Charts"},name:"tatcharts",component:()=>a.e("chunk-2d0d7c06").then(a.bind(null,"77c3"))},{path:"/handlers",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Claim Handler"},name:"handler",component:()=>a.e("chunk-2d21af88").then(a.bind(null,"be7f"))},{path:"/bulletins",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Bulletin"},name:"bulletins",component:()=>a.e("chunk-2d0e8bc0").then(a.bind(null,"8b11"))},{path:"/depts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Departments"},name:"depts",component:()=>a.e("chunk-2d21f29b").then(a.bind(null,"d93c"))},{path:"/subDepts",meta:{requiresAuth:!0,roles:["ADMIN"],title:"File Classification"},name:"subDepartments",component:()=>a.e("chunk-2d0df849").then(a.bind(null,"89f8"))},{path:"/inss",meta:{requiresAuth:!0,roles:["ADMIN"],title:"Insurer"},name:"inss",component:()=>a.e("chunk-2d0a2df0").then(a.bind(null,"0082"))},{path:"/claims",meta:{title:"Claims"},name:"claimsList",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-168b0bef")]).then(a.bind(null,"6741"))},{path:"/dropboxfiles",meta:{title:"Dropbox Files"},name:"dropboxfiles",component:()=>a.e("chunk-503eee76").then(a.bind(null,"835e"))},{path:"/reports",meta:{title:"Basic Reports"},name:"reports",component:()=>a.e("chunk-c5685398").then(a.bind(null,"afa7"))},{path:"/reportsTwo",meta:{title:"Detail Reports"},name:"reportsTwo",component:()=>a.e("chunk-18fed119").then(a.bind(null,"271a7"))},{path:"/byref/:id",meta:{title:"Detail By Department"},name:"refTabDetail",component:()=>a.e("chunk-2d0b6339").then(a.bind(null,"1bc5"))},{path:"/bybranch/:id",meta:{title:"Detail by Branch"},name:"brTabDetail",component:()=>a.e("chunk-2d0e521d").then(a.bind(null,"92d2"))},{path:"/detailByRef/:fileStatus/:refType",meta:{title:"Detail By Reference"},name:"detail-by-ref",component:()=>a.e("chunk-2d216263").then(a.bind(null,"c0dd"))},{path:"/detailByBranch/:fileStatus/:branch",meta:{title:"Detail By Branch"},name:"detail-by-branch",component:()=>a.e("chunk-2d0db490").then(a.bind(null,"6ee0"))},{path:"/file/:id",meta:{title:"Casefile Details"},name:"vuexFile",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-2a245044")]).then(a.bind(null,"b762"))},{path:"/dopFile/:id",meta:{title:"Dropbox File Details"},name:"dropboxDetail",component:()=>a.e("chunk-fa07f1a0").then(a.bind(null,"61ac"))},{path:"/findfile/:id",meta:{title:"Casefile Details"},name:"findfile",component:()=>Promise.all([a.e("chunk-2d216257"),a.e("chunk-6acb04da"),a.e("chunk-9b1bc7a0")]).then(a.bind(null,"77b8"))},{path:"/soon",meta:{title:"Soon"},name:"soon",component:()=>a.e("chunk-194d3724").then(a.bind(null,"8a88"))},{path:"/merimen-data",name:"merimen-data",meta:{requiresAuth:!0,roles:["ADMIN","MANAGER","BRANCHMANAGER","CLERK","BRANCHCLERK"],title:"Merimen Data"},component:()=>a.e("chunk-5df8963d").then(a.bind(null,"fda7"))},{path:"/dashboard",name:"dashboard",component:()=>a.e("chunk-7aa254cb").then(a.bind(null,"7277")),meta:{requiresAuth:!0,title:"dashboard",keepAlive:!0}},{path:"/welcome",name:"welcome",component:()=>a.e("chunk-60d6f837").then(a.bind(null,"eec5")),meta:{title:"welcome"}},{path:"/advanced-search",name:"advancedSearch",component:da,meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/report",name:"report",component:()=>a.e("chunk-78538b25").then(a.bind(null,"762c")),meta:{requiresAuth:!0,title:"Advanced Search"}},{path:"/mytasks",name:"mytasks",component:()=>a.e("chunk-096742b6").then(a.bind(null,"dbea")),meta:{requiresAuth:!0,title:"My Tasks"}},{path:"/:catchAll(.*)",name:"NotFound",component:zt}]});ua.beforeEach((e,t,a)=>{const s=["/login","/forgot","/reset","/activate"],n=!s.includes(e.path),r=localStorage.getItem("user");if(!n||r){if(e.meta.roles&&r){const t=JSON.parse(localStorage.getItem("user")),s=t&&t.roles&&e.meta.roles.some(e=>t.roles.includes(e));if(!s)return void a("/")}a()}else a("/login")});var ha=a("7bb1"),pa=a("ecee"),ma=a("ad3d"),fa=a("c074");const ga=e=>{Yt["a"].interceptors.request.use(e=>{const t=Jt.getLocalAccessToken();return t&&(e.headers["x-access-token"]=t),e},e=>Promise.reject(e)),Yt["a"].interceptors.response.use(e=>e,async t=>{const a=t.config;if("/auth/signin"!==a.url&&t.response&&401===t.response.status&&!a._retry){a._retry=!0;try{const t=await Yt["a"].post("/auth/refreshtoken",{refreshToken:Jt.getLocalRefreshToken()}),{accessToken:s}=t.data;return e.dispatch("auth/refreshToken",s),Jt.updateLocalAccessToken(s),Object(Yt["a"])(a)}catch(s){return Promise.reject(s)}}return Promise.reject(t)})};var ba=ga,va=(a("5363"),a("f309"));s["a"].use(va["a"]);var ya=new va["a"]({icons:{iconfont:"mdi"}}),_a=a("3dc6");s["a"].use(_a["a"]),pa["c"].add(fa["a"],fa["d"],fa["e"],fa["b"],fa["c"]),s["a"].config.productionTip=!1,s["a"].use(ha["a"]),s["a"].component("font-awesome-icon",ma["a"]),s["a"].use(m["a"]),ba(aa),s["a"].config.productionTip=!1,new s["a"]({router:ua,store:aa,vuetify:ya,render:e=>e(te)}).$mount("#app")},"5de6":function(e,t,a){},"5e05":function(e,t,a){"use strict";a("0046")},"62e7":function(e,t,a){},6736:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const s={development:{baseURL:"http://localhost:8080/api",docsURL:"http://localhost:8080/docs"},production:{baseURL:"/api",docsURL:"/docs"}},n="production",r=s[n]},"699f":function(e,t,a){},7424:function(e,t,a){"use strict";var s=a("bc3a"),n=a.n(s),r=a("6736");const i=n.a.create({baseURL:r["a"].baseURL,headers:{"Content-Type":"application/json"}});t["a"]=i},"7c98":function(e,t,a){},8281:function(e,t,a){},"847e":function(e,t,a){},8643:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/handlers")}get(e){return s["a"].get("/handlers/"+e)}create(e){return s["a"].post("/handlers",e)}update(e,t){return s["a"].put("/handlers/"+e,t)}delete(e){return s["a"].delete("/handlers/"+e)}deleteAll(){return s["a"].delete("/handlers")}}t["a"]=new n},9462:function(e,t,a){e.exports=a.p+"img/v-nav-bg.028e0d2f.jpg"},"98a8":function(e,t,a){"use strict";a("ae8f")},"9df5":function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/members")}get(e){return s["a"].get("/members/"+e)}create(e){return s["a"].post("/members",e)}activationlink(e){return s["a"].post("/members/activation",e)}resetlink(e){return s["a"].post("/members/reset/sendlink",e)}verifyUser(e){return s["a"].post("/members/reset/verifyuser",e)}update(e,t){return s["a"].put("/members/"+e,t)}changepass(e,t){return s["a"].put("/members/changepass/"+e,t)}updatePhoto(e,t){return s["a"].put("/members/updatePhoto/"+e,t)}updateProfile(e,t){return s["a"].put("/members/updateProfile/"+e,t)}delete(e){return s["a"].delete("/members/"+e)}deleteAll(){return s["a"].delete("/members")}findByUsername(e){return s["a"].get("/members?username="+e)}getAllRoles(){return s["a"].get("/members/userLevel/all")}}t["a"]=new n},a8c9:function(e,t,a){"use strict";a("fba6")},ac58:function(e,t,a){"use strict";a("699f")},ae8f:function(e,t,a){},bb51:function(e,t,a){"use strict";a.r(t);var s=a("0798"),n=a("c6a6"),r=a("8336"),i=a("b0af"),l=a("99d9"),o=a("cc20"),c=a("62ad"),d=a("a523"),u=a("8fea"),h=a("2e4b"),p=a("169a"),m=a("132d"),f=a("e449"),g=a("490a"),b=a("0fd9"),v=a("b974"),y=a("2db4"),_=a("2fa4"),k=a("8654"),S=a("a844"),C=a("3a2f"),w=function(){var e=this,t=e._self._c;return t(d["a"],{attrs:{fluid:""}},[t(y["a"],{staticClass:"notification-snackbar",style:{left:"50%",transform:"translateX(-50%)"},attrs:{timeout:e.processSnackbar.timeout,color:e.processSnackbar.color,top:""},model:{value:e.processSnackbar.show,callback:function(t){e.$set(e.processSnackbar,"show",t)},expression:"processSnackbar.show"}},[t(s["a"],{staticClass:"mb-0",attrs:{value:!0,color:e.processSnackbar.color,icon:e.getSnackbarIcon,dense:"",outlined:"",text:""}},[t("div",{staticClass:"d-flex align-center"},[e.processSnackbar.loading?t(g["a"],{staticClass:"mr-3",attrs:{indeterminate:"",size:"20",width:"2",color:e.processSnackbar.color}}):e._e(),t("span",{class:e.processSnackbar.color+"--text"},[e._v(e._s(e.processSnackbar.text))]),t(_["a"]),e.processSnackbar.loading?e._e():t(r["a"],{attrs:{icon:"","x-small":"",color:e.processSnackbar.color},on:{click:function(t){e.processSnackbar.show=!1}}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-close")])],1)],1)])],1),t(b["a"],{staticClass:"align-center mb-2"},[t(c["a"],{staticClass:"d-flex justify-center align-center",attrs:{cols:"12",md:"3"}},[t(r["a"],{staticClass:"add-case-btn",attrs:{color:"primary",dark:"",disabled:e.addCasefileDisabled},on:{click:function(t){e.addDialog=!0}}},[t(m["a"],{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Case ")],1),t(r["a"],{staticClass:"ml-2 archive-btn",attrs:{color:"success",dark:"",to:"/archive"}},[t(m["a"],{attrs:{left:""}},[e._v("mdi-archive")]),e._v(" Archive ")],1)],1),t(c["a"],{attrs:{cols:"12",md:"9"}},[t("advanced-search",{attrs:{departments:e.departmentsForFilter,branches:e.branchesForFilter,insurers:e.insurersForFilter,stages:e.stagesForFilter,"search-loading":e.searchLoading,"advanced-search":e.advancedSearch,"is-valid":e.isAdvancedSearchValid},on:{search:e.performAdvancedSearch,reset:e.resetAdvancedSearch,update:e.updateAdvancedSearch}})],1)],1),t(p["a"],{attrs:{"max-width":"600px",persistent:""},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[t(i["a"],{attrs:{tile:""}},[t(l["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",{staticClass:"text-h5"},[e._v("ADD NEW CASE")])]),t(l["c"],[t(d["a"],[t(b["a"],[t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Department")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedRefType,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select Department","persistent-hint":"",label:"Department"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Department ")]},proxy:!0}]),model:{value:e.newItem.refType,callback:function(t){e.$set(e.newItem,"refType",t)},expression:"newItem.refType"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filtersubRefType(e.newItem.refType),"item-text":"subCode","item-value":"id","no-data-text":"There is no file-Classification option for selected department above","menu-props":{maxHeight:"400"},label:"File-Classification",hint:"Select File-Classification","persistent-hint":""},model:{value:e.newItem.subRefType,callback:function(t){e.$set(e.newItem,"subRefType",t)},expression:"newItem.subRefType"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedBranches,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile branch","persistent-hint":"",label:"Branch"},model:{value:e.newItem.branch,callback:function(t){e.$set(e.newItem,"branch",t)},expression:"newItem.branch"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(n["a"],{attrs:{items:e.sortedInsurer,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Set the casefile insurer","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurer ")]},proxy:!0}]),model:{value:e.newItem.insurer,callback:function(t){e.$set(e.newItem,"insurer",t)},expression:"newItem.insurer"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterHandler(e.newItem.insurer),"item-text":"name","item-value":"id","no-data-text":"There is no handler option for selected insurer above","menu-props":{maxHeight:"400"},label:"Claim Handler",hint:"Select Handler","persistent-hint":""},model:{value:e.newItem.handler,callback:function(t){e.$set(e.newItem,"handler",t)},expression:"newItem.handler"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(k["a"],{attrs:{"item-text":"Insurer's Reference",label:"Insurers Reference Number",rules:[e=>!!e||"Insurers reference is required"]},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Insurers Reference ")]},proxy:!0}]),model:{value:e.newItem.claimNo,callback:function(t){e.$set(e.newItem,"claimNo",t)},expression:"newItem.claimNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(f["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Assignment ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfAssignAdd,callback:function(t){e.ComputedDateOfAssignAdd=t},expression:"ComputedDateOfAssignAdd"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(h["a"],{on:{change:function(t){e.menu=!1}},model:{value:e.newItem.dateOfAssign,callback:function(t){e.$set(e.newItem,"dateOfAssign",t)},expression:"newItem.dateOfAssign"}})],1)],1)]],2),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(k["a"],{attrs:{label:"Vehicle Number",hint:"Vehicle Number"},model:{value:e.newItem.vehicleNo,callback:function(t){e.$set(e.newItem,"vehicleNo",t)},expression:"newItem.vehicleNo"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[[t("div",[t(f["a"],{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(k["a"],e._g(e._b({attrs:{"persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(t){e.date=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Date Of Loss ")]},proxy:!0}],null,!0),model:{value:e.ComputedDateOfLossAdd,callback:function(t){e.ComputedDateOfLossAdd=t},expression:"ComputedDateOfLossAdd"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(h["a"],{on:{change:function(t){e.menu1=!1}},model:{value:e.newItem.dateOfLoss,callback:function(t){e.$set(e.newItem,"dateOfLoss",t)},expression:"newItem.dateOfLoss"}})],1)],1)]],2),t(i["a"],{attrs:{width:"100%"}},[t(l["d"],[e._v("Place Of Loss")]),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.sortedState,"item-text":"name","item-value":"id","menu-props":{maxHeight:"400"},hint:"Select State","persistent-hint":"",label:"State"},model:{value:e.newItem.stateOfLoss,callback:function(t){e.$set(e.newItem,"stateOfLoss",t)},expression:"newItem.stateOfLoss"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(v["a"],{attrs:{items:e.filterRegions(e.newItem.stateOfLoss),"item-text":"name","item-value":"name","no-data-text":"There is no district option for selected state above","menu-props":{maxHeight:"400"},label:"Area Of Loss",hint:"Select District","persistent-hint":""},model:{value:e.newItem.placeOfLoss,callback:function(t){e.$set(e.newItem,"placeOfLoss",t)},expression:"newItem.placeOfLoss"}})],1)],1),t(c["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{label:"Insured Name"},model:{value:e.newItem.insuredName,callback:function(t){e.$set(e.newItem,"insuredName",t)},expression:"newItem.insuredName"}})],1),t(c["a"],{attrs:{cols:"12"}},[t(S["a"],{attrs:{label:"Insurers Comment",rules:[e=>!!e||"Insurers comment is required",e=>e.length<=2e3||"Comment must be 2000 characters or less"],counter:"",maxlength:"2000","auto-grow":"",rows:"4","row-height":"20",filled:"","background-color":"grey lighten-4",hint:(e.newItem.insComment?e.newItem.insComment.length:0)+"/2000 characters","persistent-hint":""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v(" Insurers Comment ")]},proxy:!0}]),model:{value:e.newItem.insComment,callback:function(t){e.$set(e.newItem,"insComment",t)},expression:"newItem.insComment"}})],1),t(c["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(_["a"]),t(r["a"],{staticClass:"mt-3 mr-2",attrs:{outlined:"",small:"",tile:""},on:{click:e.closeAddDialog}},[e._v(" Cancel ")]),t(r["a"],{staticClass:"success mt-3",attrs:{disabled:e.isAddFileButtonDisabled,small:"",tile:""},on:{click:e.addCasefile}},[e._v("Submit")])],1)],1)],1)],1)],1)],1),t(b["a"],[t(c["a"],{attrs:{cols:"12"}},[t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mb-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(v["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(k["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])]),t(u["a"],{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",headers:e.headers,items:e.paginatedCasefiles,"item-class":e.itemClass,"sort-by":e.sortBy,"sort-desc":e.sortDesc,loading:e.paginatedLoading,search:e.search,"items-per-page":e.pageSize,"mobile-breakpoint":"1100","hide-default-footer":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.viewItem},scopedSlots:e._u([{key:"top",fn:function(){return[t(i["a"],{staticClass:"mb-1",attrs:{flat:""}},[t(b["a"],{attrs:{"no-gutters":""}},[t(c["a"],{staticClass:"pa-2",attrs:{cols:"12",md:"4"}},[t(i["a"],{staticClass:"action-buttons-card h-100 d-flex flex-column justify-center",attrs:{flat:""}},[t(l["c"],{staticClass:"pa-2 d-flex flex-wrap justify-center align-center"})],1)],1)],1)],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s((e.paginatedPage-1)*e.pageSize+t.index+1)+" ")]}},{key:"item.insurer",fn:function({item:a}){return e._l(e.filterIns(a.insurer),(function(a){return t("div",{key:a.id},[t(C["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("div",e._g(e._b({staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},"div",n,!1),s),[e._v(" "+e._s(a.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(a.name))])])],1)}))}},{key:"item.vehicleNo",fn:function({item:a}){return[a.vehicleNo?t("span",[e._v(e._s(a.vehicleNo.toUpperCase()))]):t("span",[e._v("TBA")])]}},{key:"item.id",fn:function({item:a}){return[e._v(" AA "),e._l(e.filterDept(a.refType),(function(s,n){return t("span",{key:n},[e._v(" /"+e._s(s.name)+" "),e._l(e.filterSubDept(a.subRefType),(function(a,s){return t("span",{key:s},[e._v(" /"+e._s(a.subCode)+" ")])}))],2)})),e._v(" /"+e._s(a.id)+"/"+e._s(e.yearOnly(a.dateOfAssign))+" "),e._l(e.filterBranches(a.branch),(function(a){return t("span",{key:a.id},[e._v(" /"+e._s(a.brCode)+" ")])}))]}},{key:"item.dateOfAssign",fn:function({item:t}){return[e._v(" "+e._s(e.formatDate(t.dateOfAssign))+" ")]}},{key:"item.days",fn:function({item:t}){return[e._v(" "+e._s(e.dateDiff(e.moment(t.dateOfAssign).format(),e.moment().format()))+" ")]}},{key:"item.adjuster",fn:function({item:a}){return[a.adjuster?t("span",e._l(e.filterUser(a.adjuster),(function(a){return t("div",{key:a.id},[e._v(" "+e._s(a.username)+" ")])})),0):t("span",[e._v("TBA")])]}},{key:"item.fileStatus",fn:function({item:a}){return[t(C["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[1===a.flag?t(m["a"],e._g(e._b({attrs:{small:"",color:"green lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-check ")]):e._e(),2===a.flag?t(m["a"],e._g(e._b({attrs:{small:"",color:"orange lighten-1"}},"v-icon",n,!1),s),[e._v(" mdi-shield-half-full ")]):e._e(),3===a.flag?t(m["a"],e._g(e._b({attrs:{small:"",color:"red darken-5"}},"v-icon",n,!1),s),[e._v(" mdi-shield-alert-outline ")]):e._e()]}}],null,!0)},[1===a.flag?t("span",[e._v("GENUINE")]):e._e(),2===a.flag?t("span",[e._v("SUSPECTED FRAUD")]):e._e(),3===a.flag?t("span",[e._v("FRAUD")]):e._e()]),e._l(e.filterStages(a.fileStatus),(function(a){return t("span",{key:a.id},[t(o["a"],{attrs:{label:"",outlined:"",block:"","x-small":""}},[e._v(" "+e._s(a.name)+" ")])],1)}))]}}],null,!0)}),t("div",{staticClass:"pagination-bar d-flex align-center justify-space-between mt-2 flex-wrap"},[t("div",{staticClass:"pagination-controls d-flex align-center flex-wrap"},[t(v["a"],{staticClass:"pagination-select",staticStyle:{"max-width":"90px"},attrs:{items:[30,50,100,500],label:"Rows",dense:"","hide-details":""},on:{change:e.onPageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToFirstPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-page-first")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:1===e.paginatedPage},on:{click:e.goToPrevPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),e._l(e.paginationButtons,(function(a){return["page"===a.type?t(r["a"],{key:a.page,staticClass:"mx-1 pagination-btn",attrs:{small:"",color:a.page===e.paginatedPage?"primary":""},on:{click:function(t){return e.onPageChange(a.page)}}},[e._v(" "+e._s(a.page)+" ")]):"ellipsis"===a.type?t("span",{key:a.key,staticClass:"mx-1 pagination-ellipsis"},[e._v("...")]):e._e()]})),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToNextPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),t(r["a"],{staticClass:"pagination-btn",attrs:{icon:"",disabled:e.paginatedPage===e.totalPages},on:{click:e.goToLastPage}},[t(m["a"],{attrs:{small:""}},[e._v("mdi-page-last")])],1),t(k["a"],{staticClass:"ml-2 pagination-jump",staticStyle:{"max-width":"60px"},attrs:{label:"Go to",type:"number",dense:"","hide-details":"",min:"1",max:e.totalPages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpPage.apply(null,arguments)}},model:{value:e.jumpToPage,callback:function(t){e.jumpToPage=e._n(t)},expression:"jumpToPage"}})],2),t("span",{staticClass:"ml-2 pagination-total"},[e._v(" "+e._s(e.paginatedTotal)+" total records ")])])],1)],1)],1)},A=[],x=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("a732"),a("2f62")),T=a("c1df"),P=a.n(T),I=a("cb28"),D=a("f983"),E=a("5632"),j=a("fde1"),N=a("304b"),O=a("02ba"),L=a("9df5"),R=a("8643"),$=a("d14b"),B=a("0cbf"),M=a("061e"),U=a("f0cc"),F=a("4aae"),z={name:"CaseList",components:{AdvancedSearch:F["a"]},data:()=>({search:"",refType:[],subRefTypes:[],insurer:[],members:[],stages:[],tatCharts:[],addDialog:!1,management:!1,addcase:!1,menu:!1,menu1:!1,newItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},initialNewItem:{id:null,refType:null,subRefType:null,branch:null,insurer:null,handler:null,claimNo:"",dateOfAssign:"",vehicleNo:"",dateOfLoss:"",stateOfLoss:null,placeOfLoss:"",insuredName:"",insComment:"",createdBy:null,fileStatus:"",dateStartInv:""},sortBy:["days"],sortDesc:[!0],branches:[],state:[],regions:[],handlers:[],headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"VEHICLE NO.",align:"center",value:"vehicleNo",sortable:!1},{text:"AA REF",align:"start",value:"id",sortable:!1},{text:"INSURER",align:"start",value:"insurer",sortable:!1},{text:"DOA",align:"start",sortable:!1,value:"dateOfAssign"},{text:"DAYS",align:"start",sortable:!1,value:"days"},{text:"ADJUSTER",align:"start",sortable:!1,value:"adjuster"},{text:"STATUS",align:"center",value:"fileStatus",sortable:!1}],showLoadingSnackbar:!1,isLoading:!0,processSnackbar:{show:!1,text:"",color:"info",timeout:3e3,loading:!1},searchLoading:!1,advancedSearch:{keyword:"",dept:null,branch:null,status:null,insurer:null},departments:[],pageSize:30,jumpToPage:null}),computed:{...Object(x["c"])({storeLoading:e=>e.casefiles.isLoading,allCasefiles:e=>e.casefiles.casefiles}),...Object(x["b"])(["getFilteredCasefiles","getAllCasefiles","getPaginatedCasefiles","getPaginatedTotal","getPaginatedPage","getPaginatedPageSize","getPaginatedLoading"]),paginatedCasefiles(){return this.getPaginatedCasefiles},paginatedTotal(){return this.getPaginatedTotal},paginatedPage:{get(){return this.getPaginatedPage},set(e){this.onPageChange(e)}},paginatedLoading(){return this.getPaginatedLoading},totalPages(){return Math.max(1,Math.ceil(this.paginatedTotal/this.pageSize))},paginationButtons(){const e=[],t=this.totalPages,a=this.paginatedPage;if(t<=7)for(let s=1;s<=t;s++)e.push({type:"page",page:s});else if(a<=4){for(let t=1;t<=5;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e1"}),e.push({type:"page",page:t})}else if(a>=t-3){e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e2"});for(let a=t-4;a<=t;a++)e.push({type:"page",page:a})}else{e.push({type:"page",page:1}),e.push({type:"ellipsis",key:"e3"});for(let t=a-1;t<=a+1;t++)e.push({type:"page",page:t});e.push({type:"ellipsis",key:"e4"}),e.push({type:"page",page:t})}return e},addCasefileDisabled(){return!this.addcase},departmentsForFilter(){if(!this.refType||0===this.refType.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.refType].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...e]}const t=Array.isArray(e.dept)?e.dept:[e.dept],a=this.refType.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Departments"},...a]},branchesForFilter(){if(!this.branches||0===this.branches.length)return[];const e=this.$store.state.auth.user;if(!e)return[];if(e.roles.some(e=>["ADMIN","MANAGER","CLERK"].includes(e))){const e=[...this.branches].sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...e]}const t=Array.isArray(e.branches)?e.branches:[e.branches],a=this.branches.filter(e=>t.some(t=>t===e.id)).sort((e,t)=>e.name.localeCompare(t.name));return[{id:"all",name:"All Branches"},...a]},insurersForFilter(){return this.insurer&&0!==this.insurer.length?[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name)):[]},stagesForFilter(){if(!this.stages||0===this.stages.length)return[];const e=[...this.stages].filter(e=>e.stageCode&&e.name).sort((e,t)=>e.id-t.id);return[{stageCode:"all",name:"All Statuses"},...e]},isAdvancedSearchValid(){return Boolean(this.advancedSearch.keyword||this.advancedSearch.dept||this.advancedSearch.branch||this.advancedSearch.status||this.advancedSearch.insurer)},sortedRefType(){return[...this.refType].sort((e,t)=>e.name.localeCompare(t.name))},sortedBranches(){return[...this.branches].sort((e,t)=>e.name.localeCompare(t.name))},sortedInsurer(){return[...this.insurer].sort((e,t)=>e.name.localeCompare(t.name))},sortedState(){return[...this.state].sort((e,t)=>e.name.localeCompare(t.name))},isAddFileButtonDisabled(){return!(this.newItem.refType&&this.newItem.insurer&&this.newItem.claimNo&&this.newItem.dateOfAssign&&this.newItem.dateOfLoss&&this.newItem.insComment)},getSnackbarIcon(){switch(this.processSnackbar.color){case"success":return"mdi-check-circle";case"error":return"mdi-alert-circle";case"warning":return"mdi-alert";default:return"mdi-information"}},ComputedDateOfAssignAdd(){return this.formatDateMethod(this.newItem.dateOfAssign)},ComputedDateOfLossAdd(){return this.formatDateMethod(this.newItem.dateOfLoss)}},methods:{moment(e){return P()(e)},formatDate(e){return P()(e).format("DD/MM/YYYY")},formatDateMethod(e){return e?P()(e).format("DD/MM/YYYY"):null},yearOnly(e){return P()(e).format("YY")},dateDiff(e,t){let a=P()(e),s=P()(t),n=P.a.duration(s.diff(a));return Math.floor(n.asDays())},filterDept(e){return this.refType.filter(t=>t.id===e)},filterSubDept(e){return this.subRefTypes.filter(t=>t.id===e)},filtersubRefType(e){return e?[...this.subRefTypes].filter(t=>t.deptId===e).sort((e,t)=>e.subCode.localeCompare(t.subCode)):[]},filterHandler(e){return e?[...this.handlers].filter(t=>t.insId===e).sort((e,t)=>e.name.localeCompare(t.name)):[]},filterBranches(e){return this.branches.filter(t=>t.id===e)},filterBranchesEmail(e){if(!e)return"TBA";const t=this.branches.filter(t=>t.id===e);return t[0].name},filterVehicleNo(e){return e?e.toLowerCase().replace(/\s/g,""):"TBA"},filterIns(e){return this.insurer.filter(t=>t.id===e)},filterUser(e){return this.members.filter(t=>t.id===e)},filterStages(e){return this.stages.filter(t=>t.stageCode===e)},filterRegions(e){return this.regions.filter(t=>t.branchId===e)},viewItem(e){this.$router.push({name:"vuexFile",params:{id:e.id}})},getTatValues(e,t){if(!e||!t)return null;const a=this.tatCharts.find(a=>a.insId===e&&a.subDeptId===t);return a?{tatAlert:parseInt(a.tatAlert),tatMax:parseInt(a.tatMax)}:null},getStatusClass(e,t,a){const s=Number(e),n=Number(t),r=Number(a);return s>=r?"tat-overdue-force":s>=n?"tat-alert-force":""},itemClass(e){if(!e||!e.dateOfAssign)return"";const t=this.dateDiff(P()(e.dateOfAssign).format(),P()().format()),a=this.getTatValues(e.insurer,e.subRefType);return a?this.getStatusClass(t,a.tatAlert,a.tatMax):""},checkManagement(){(this.$store.state.auth.user.roles.includes("ADMIN")||this.$store.state.auth.user.roles.includes("MANAGER")||this.$store.state.auth.user.roles.includes("BRANCHMANAGER")||this.$store.state.auth.user.roles.includes("BRANCHCLERK"))&&(this.management=!0)},checkAddCase(){this.addcase=this.$store.state.auth.user.roles.some(e=>["ADMIN","MANAGER","CLERK","BRANCHMANAGER","BRANCHCLERK"].includes(e))},closeAddDialog(){this.addDialog=!1,this.$nextTick(()=>{this.newItem=Object.assign({},this.initialNewItem)})},addCasefile(){var e,t,a,s={refType:this.newItem.refType,subRefType:this.newItem.subRefType,branch:this.newItem.branch,insurer:this.newItem.insurer,handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.filterVehicleNo(this.newItem.vehicleNo),dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"},n={refType:(null===(e=this.refType.find(e=>e.id===this.newItem.refType))||void 0===e?void 0:e.name)||"N/A",subRefType:(null===(t=this.subRefTypes.find(e=>e.id===this.newItem.subRefType))||void 0===t?void 0:t.subCodeDesc)||"N/A",branch:this.filterBranchesEmail(this.newItem.branch),insurer:(null===(a=this.insurer.find(e=>e.id===this.newItem.insurer))||void 0===a?void 0:a.name)||"N/A",handler:this.newItem.handler,claimNo:this.newItem.claimNo,dateOfAssign:this.newItem.dateOfAssign,vehicleNo:this.newItem.vehicleNo?this.newItem.vehicleNo.toLowerCase().replace(/\s/g,""):"TBA",dateOfLoss:this.newItem.dateOfLoss,stateOfLoss:this.newItem.stateOfLoss,placeOfLoss:this.newItem.placeOfLoss,insuredName:this.newItem.insuredName,insComment:this.newItem.insComment,createdBy:this.$store.state.auth.user.id,flag:1,fileStatus:"NEW",caseFrom:"ORGANIC"};U["a"].create(s).then(e=>{this.closeAddDialog(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Success"})}).then(()=>{M["a"].mailData(n).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e.data.message||"Email sent"})}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e.toString()})})}).catch(e=>{var t;this.$store.dispatch("setSnackbar",{showing:!0,text:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||e.message})}),this.closeAddDialog()},showProcessUpdate(e,t=!0,a="info"){this.processSnackbar={show:!0,text:e,color:a,timeout:t?-1:3e3,loading:t}},async loadData(){this.showProcessUpdate("Loading data...");try{const[e,t,a,s,n,r,i,l,o,c]=await Promise.all([I["a"].getAll(),D["a"].getAll(),j["a"].getAll(),N["a"].getAll(),O["a"].getAll(),E["a"].getAll(),L["a"].getAll(),R["a"].getAll(),$["a"].getAll(),B["a"].getAll()]);this.refType=e.data,this.subRefTypes=t.data,this.branches=a.data,this.state=s.data,this.regions=n.data,this.insurer=r.data,this.members=i.data,this.handlers=l.data,this.stages=o.data,this.tatCharts=c.data,this.showProcessUpdate("Data loaded successfully",!1,"success")}catch(e){console.error("Error loading data:",e),this.showProcessUpdate("Error loading data",!1,"error")}},openAdvancedSearch(){this.$router.push({name:"advancedSearch"})},async performAdvancedSearch(){if(this.isAdvancedSearchValid){this.searchLoading=!0;try{const t={};this.advancedSearch.keyword&&(t.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(t.dept=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(t.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(t.status=this.advancedSearch.status),this.advancedSearch.insurer&&(t.insurer=this.advancedSearch.insurer);const a={timestamp:Date.now(),params:t,text:this.createSearchText(t)};try{let e=[];const t=localStorage.getItem("searchHistory");t&&(e=JSON.parse(t)),e=[a,...e.slice(0,4)];const s=JSON.stringify(e);s.length<=4096?localStorage.setItem("searchHistory",s):localStorage.setItem("searchHistory",JSON.stringify([a]))}catch(e){console.warn("Search history storage failed:",e)}await this.$router.push({name:"advancedSearch",query:t})}catch(t){console.error("Search error:",t),this.$store.dispatch("setSnackbar",{showing:!0,text:"Search failed: "+t.message,color:"error"})}finally{this.searchLoading=!1}}},createSearchText(e){const t=[];if(e.keyword&&t.push(`"${e.keyword}"`),e.dept){const a=this.refType.find(t=>t.id===e.dept);a&&t.push(a.name)}if(e.branch){const a=this.branches.find(t=>t.id===e.branch);a&&t.push(a.name)}if(e.status){const a=this.stages.find(t=>t.stageCode===e.status);a&&t.push(a.name)}if(e.insurer){const a=this.insurer.find(t=>t.id===e.insurer);a&&t.push(a.name)}return t.join(", ")||"Advanced Search"},resetAdvancedSearch(){this.advancedSearch={keyword:"",dept:null,branch:null,status:null,insurer:null}},addToRecentSearches(e,t){try{let a=[];const s=localStorage.getItem("recentSearches");s&&(a=JSON.parse(s)),a.unshift({text:e,data:t}),a=a.slice(0,5);const n=JSON.stringify(a);n.length>4096&&(a=a.slice(0,3)),localStorage.setItem("recentSearches",JSON.stringify(a)),this.recentSearches=a}catch(a){console.warn("Unable to save to recent searches:",a);try{localStorage.removeItem("recentSearches"),this.recentSearches=[]}catch(s){console.error("Error clearing searches:",s)}}},async loadFilterData(){try{if(!this.stages||0===this.stages.length){const e=await $["a"].getAll();this.stages=e.data}if(!this.refType||0===this.refType.length){const e=await I["a"].getAll();this.refType=e.data}if(!this.branches||0===this.branches.length){const e=await j["a"].getAll();this.branches=e.data}}catch(e){console.error("Error loading filter data:",e)}},onPageChange(e){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:e,pageSize:this.pageSize,filters:this.getCurrentFilters()})},onPageSizeChange(){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:1,pageSize:this.pageSize,filters:this.getCurrentFilters()}),this.paginatedPage=1},getCurrentFilters(){const e={};return this.advancedSearch.keyword&&(e.keyword=this.advancedSearch.keyword),this.advancedSearch.dept&&"all"!==this.advancedSearch.dept&&(e.refType=this.advancedSearch.dept),this.advancedSearch.branch&&"all"!==this.advancedSearch.branch&&(e.branch=this.advancedSearch.branch),this.advancedSearch.status&&"all"!==this.advancedSearch.status&&(e.status=this.advancedSearch.status),this.advancedSearch.insurer&&(e.insurer=this.advancedSearch.insurer),e},updateAdvancedSearch(e){this.advancedSearch={...e}},goToFirstPage(){this.paginatedPage>1&&this.onPageChange(1)},goToPrevPage(){this.paginatedPage>1&&this.onPageChange(this.paginatedPage-1)},goToNextPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.paginatedPage+1)},goToLastPage(){this.paginatedPage<this.totalPages&&this.onPageChange(this.totalPages)},jumpPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.totalPages&&(this.onPageChange(this.jumpToPage),this.jumpToPage=null)},reloadActiveFiles(e=1){this.$store.dispatch("casefiles/fetchPaginatedActiveCasefiles",{page:e,pageSize:this.pageSize,filters:this.getCurrentFilters()})}},async mounted(){this.reloadActiveFiles(1),await this.loadData(),this.checkManagement(),this.checkAddCase(),await this.loadFilterData()},watch:{$route(e){"/home"===e.path&&(this.reloadActiveFiles(1),this.paginatedPage=1)}}},q=z,G=(a("a8c9"),a("2877")),H=Object(G["a"])(q,w,A,!1,null,null,null);t["default"]=H.exports},c082:function(e,t,a){},c427:function(e,t,a){"use strict";var s=a("bc3a"),n=a.n(s),r=a("6736");const i=n.a.create({baseURL:r["a"].baseURL,headers:{"Content-type":"application/json"}});t["a"]=i},c7a3:function(e,t,a){"use strict";a("107b")},cb28:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/depts")}get(e){return s["a"].get("/depts/"+e)}create(e){return s["a"].post("/depts",e)}update(e,t){return s["a"].put("/depts/"+e,t)}delete(e){return s["a"].delete("/depts/"+e)}deleteAll(){return s["a"].delete("/depts")}}t["a"]=new n},d14b:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/stages")}get(e){return s["a"].get("/stages/"+e)}create(e){return s["a"].post("/stages",e)}update(e,t){return s["a"].put("/stages/"+e,t)}delete(e){return s["a"].delete("/stages/"+e)}deleteAll(){return s["a"].delete("/stages")}}t["a"]=new n},d6e0:function(e,t,a){},dfb6:function(e,t,a){e.exports=a.p+"img/001.ecf2c54b.jpg"},e6eb:function(e,t,a){"use strict";a("7c98")},f05e:function(e,t,a){},f0cc:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/casefiles")}getAllRefType(e){return s["a"].get("/byref/"+e)}getAllBranch(e){return s["a"].get("/bybranch/"+e)}getAllStatusRefType(e,t){return s["a"].get(`/detailByRef/${e}/${t}`)}getAllStatusBranch(e,t){return s["a"].get(`/detailByBranch/${e}/${t}`)}get(e){return s["a"].get("/casefiles/"+e)}create(e){return s["a"].post("/casefiles",e)}update(e,t){return s["a"].put("/casefiles/"+e,t)}delete(e){return s["a"].delete("/casefiles/"+e)}deleteAll(){return s["a"].delete("/casefiles")}getPaginated(e){return s["a"].get("/casefiles/paginated",{params:e})}getPaginatedActive(e){return s["a"].get("/casefiles/paginated-active",{params:e})}getPaginatedClosed(e){return s["a"].get("/casefiles/paginated-closed",{params:e})}}t["a"]=new n},f0dd:function(e,t,a){"use strict";a("5de6")},f31f:function(e,t,a){e.exports=a.p+"img/002.8e4b5e98.jpg"},f390:function(e,t,a){"use strict";a("c082")},f983:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/subDepts")}get(e){return s["a"].get("/subDepts/"+e)}create(e){return s["a"].post("/subDepts",e)}update(e,t){return s["a"].put("/subDepts/"+e,t)}delete(e){return s["a"].delete("/subDepts/"+e)}deleteAll(){return s["a"].delete("/subDepts")}findBySubDept(e){return s["a"].get("/subDepts?name="+e)}}t["a"]=new n},fba6:function(e,t,a){},fde1:function(e,t,a){"use strict";var s=a("c427");class n{getAll(){return s["a"].get("/branches")}get(e){return s["a"].get("/branches/"+e)}create(e){return s["a"].post("/branches",e)}update(e,t){return s["a"].put("/branches/"+e,t)}delete(e){return s["a"].delete("/branches/"+e)}deleteAll(){return s["a"].delete("/branches")}findByBranch(e){return s["a"].get("/branches?name="+e)}}t["a"]=new n}});
//# sourceMappingURL=app.f779046f.js.map