(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a2df0"],{"0082":function(e,t,s){"use strict";s.r(t);var i=s("8336"),a=s("b0af"),n=s("99d9"),d=s("62ad"),o=s("a523"),l=s("8fea"),r=s("169a"),c=s("ce7e"),m=s("132d"),u=s("0fd9"),h=s("2fa4"),f=s("8654"),I=s("a844"),g=s("71d9"),b=s("3a2f"),p=function(){var e=this,t=e._self._c;return t(o["a"],{attrs:{fluid:""}},[t("div",[t(l["a"],{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.inss,search:e.search,"footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,20,30,40,50,100,-1]},"items-per-page":50,"sort-by":["name"],"sort-desc":[!1]},scopedSlots:e._u([{key:"top",fn:function(){return[t(g["a"],{attrs:{flat:""}},[t(r["a"],{attrs:{"max-width":"500px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(b["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t(i["a"],e._g(e._b({attrs:{fab:"",small:"",color:"primary",dark:""}},"v-btn",a,!1),{...n,...s}),[t(m["a"],[e._v("mdi-plus")])],1)]}}],null,!0)},[t("span",[e._v("ADD INSURER")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(a["a"],{attrs:{tile:""}},[t(n["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[t("span",[e._v(e._s(e.formTitle))])]),t(n["c"],[t(o["a"],[t(u["a"],[t(d["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{label:"Name [required]"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(d["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{label:"Former name"},model:{value:e.editedItem.formerName,callback:function(t){e.$set(e.editedItem,"formerName",t)},expression:"editedItem.formerName"}})],1),t(d["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{label:"Insurer Code"},model:{value:e.editedItem.insCode,callback:function(t){e.$set(e.editedItem,"insCode",t)},expression:"editedItem.insCode"}})],1)],1),t(u["a"],[t(d["a"],{attrs:{cols:"12"}},[t(I["a"],{attrs:{label:"Street Address"},model:{value:e.editedItem.insAddLine01,callback:function(t){e.$set(e.editedItem,"insAddLine01",t)},expression:"editedItem.insAddLine01"}})],1)],1),t(u["a"],[t(d["a"],{attrs:{cols:"12"}},[t(I["a"],{attrs:{label:"Area"},model:{value:e.editedItem.insAddLine02,callback:function(t){e.$set(e.editedItem,"insAddLine02",t)},expression:"editedItem.insAddLine02"}})],1)],1),t(u["a"],[t(d["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(f["a"],{attrs:{label:"Postcode"},model:{value:e.editedItem.insPostcode,callback:function(t){e.$set(e.editedItem,"insPostcode",t)},expression:"editedItem.insPostcode"}})],1),t(d["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(f["a"],{attrs:{label:"Town/ City"},model:{value:e.editedItem.insTown,callback:function(t){e.$set(e.editedItem,"insTown",t)},expression:"editedItem.insTown"}})],1)],1),t(u["a"],[t(d["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t(f["a"],{attrs:{label:"State"},model:{value:e.editedItem.insState,callback:function(t){e.$set(e.editedItem,"insState",t)},expression:"editedItem.insState"}})],1)],1)],1)],1),t(n["a"],[t(h["a"]),t(i["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:e.close}},[e._v(" Cancel ")]),t(i["a"],{staticClass:"success",attrs:{disabled:e.isAddButtonDisabled,small:"",tile:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),t(c["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(r["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(a["a"],[t(n["d"],{staticClass:"justify-center text-h5 grey lighten-2"},[e._v("Confirm delete? ")]),t(n["a"],[t(h["a"]),t(i["a"],{attrs:{outlined:"",small:"",tile:""},on:{click:e.closeDelete}},[e._v("No")]),t(i["a"],{staticClass:"error",attrs:{small:"",tile:""},on:{click:e.deleteItemConfirm}},[e._v("Yes")]),t(h["a"])],1)],1)],1),t(h["a"]),t(f["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.id",fn:function({item:s}){return[t("span",[e._v(" "+e._s(s.insAddLine01)+" "+e._s(s.insAddLine02)+" "+e._s(s.insPostcode)+" "+e._s(s.insTown)+" "+e._s(s.insState)+" ")])]}},{key:"item.name",fn:function({item:s}){return[t("span",[e._v(" "+e._s(s.name)+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(b["a"],{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(m["a"],e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},"v-icon",a,!1),i),[e._v(" mdi-pencil ")])]}}],null,!0)},[t("span",[e._v(" edit")])]),t(b["a"],{attrs:{right:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(m["a"],e._g(e._b({attrs:{small:"",color:"red darken-1"},on:{click:function(t){return e.deleteItem(s)}}},"v-icon",a,!1),i),[e._v(" mdi-delete ")])]}}],null,!0)},[t("span",[e._v(" delete")])])]}}],null,!0)})],1)])},v=[],x=s("5632"),k={data:()=>({dialog:!1,dialogDelete:!1,inss:[],search:"",defaultItem:{id:null,name:"",formerName:"",insCode:"",insAddLine01:"",insAddLine02:"",insTown:"",insState:"",insPostcode:""},editedIndex:-1,editedItem:{id:null,name:"",formerName:"",insCode:"",insAddLine01:"",insAddLine02:"",insTown:"",insState:"",insPostcode:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"NAME",align:"start",sortable:!0,value:"name"},{text:"INSURER CODE",align:"start",value:"insCode",sortable:!1},{text:"ADDRESS",align:"start",value:"id",sortable:!1},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}),computed:{formTitle(){return-1===this.editedIndex?"Add Insurer":"Update Insurer"},isAddButtonDisabled(){return!this.editedItem.name}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},methods:{retrieveInss(){x["a"].getAll().then(e=>{this.inss=e.data}).catch(e=>{console.log(e)})},refreshList(){this.retrieveInss()},getDisplayIns(e){return{id:e.id,name:e.name.length>20?e.name.substr(0,20)+"...":e.name,formerName:e.formerName.length>30?e.formerName.substr(0,30)+"...":e.formerName,insCode:e.insCode,insAddLine01:e.insAddLine01.length>30?e.insAddLine01.substr(0,30)+"...":e.insAddLine01,insAddLine02:e.insAddLine02.length>30?e.insAddLine02.substr(0,30)+"...":e.insAddLine02,insTown:e.insTown,insState:e.insState,insPostcode:e.insPostcode}},editItem(e){this.editedIndex=this.inss.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.inss.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){x["a"].delete(this.editedItem.id).then(e=>{this.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e&&e.data&&e.data.message||toString()}),this.refreshList()}).catch(e=>{console.log(e)}),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){if(this.editedIndex>-1)x["a"].update(this.editedItem.id,this.editedItem).then(e=>{this.close(),this.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:e&&e.data&&e.data.message||toString()}),this.refreshList()}).catch(e=>{console.log(e)});else{var e={name:this.editedItem.name,formerName:this.editedItem.formerName,insCode:this.editedItem.insCode,insAddLine01:this.editedItem.insAddLine01,insAddLine02:this.editedItem.insAddLine02,insTown:this.editedItem.insTown,insState:this.editedItem.insState,insPostcode:this.editedItem.insPostcode};x["a"].create(e).then(e=>{this.editedItem.id=e.data.id,this.close(),this.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),this.refreshList()}).catch(e=>{this.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})})}this.close()}},mounted(){this.retrieveInss()}},_=k,A=s("2877"),S=Object(A["a"])(_,p,v,!1,null,null,null);t["default"]=S.exports}}]);
//# sourceMappingURL=chunk-2d0a2df0.97d33f22.js.map